!function webpackUniversalModuleDefinition(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Live2dHelper=e():t.Live2dHelper=e()}(window,function(){return i={},__webpack_require__.m=r=[function(d,t,bt){(function(mt,_t,yt){var t;!function(t){var g=(_csm.getVersion=function(){return p.ccall("csmGetVersion","number",[],[])},_csm.getLatestMocVersion=function(){return p.ccall("csmGetLatestMocVersion","number",[],[])},_csm.getMocVersion=function(t){return p.ccall("csmGetMocVersion","number",["number"],[t])},_csm.getSizeofModel=function(t){return p.ccall("csmGetSizeofModel","number",["number"],[t])},_csm.reviveMocInPlace=function(t,e){return p.ccall("csmReviveMocInPlace","number",["number","number"],[t,e])},_csm.initializeModelInPlace=function(t,e,r){return p.ccall("csmInitializeModelInPlace","number",["number","number","number"],[t,e,r])},_csm.getParameterCount=function(t){return p.ccall("csmGetParameterCount","number",["number"],[t])},_csm.getParameterIds=function(t){return p.ccall("csmGetParameterIds","number",["number"],[t])},_csm.getParameterMinimumValues=function(t){return p.ccall("csmGetParameterMinimumValues","number",["number"],[t])},_csm.getParameterMaximumValues=function(t){return p.ccall("csmGetParameterMaximumValues","number",["number"],[t])},_csm.getParameterDefaultValues=function(t){return p.ccall("csmGetParameterDefaultValues","number",["number"],[t])},_csm.getParameterValues=function(t){return p.ccall("csmGetParameterValues","number",["number"],[t])},_csm.getPartCount=function(t){return p.ccall("csmGetPartCount","number",["number"],[t])},_csm.getPartIds=function(t){return p.ccall("csmGetPartIds","number",["number"],[t])},_csm.getPartOpacities=function(t){return p.ccall("csmGetPartOpacities","number",["number"],[t])},_csm.getPartParentPartIndices=function(t){return p.ccall("csmGetPartParentPartIndices","number",["number"],[t])},_csm.getDrawableCount=function(t){return p.ccall("csmGetDrawableCount","number",["number"],[t])},_csm.getDrawableIds=function(t){return p.ccall("csmGetDrawableIds","number",["number"],[t])},_csm.getDrawableConstantFlags=function(t){return p.ccall("csmGetDrawableConstantFlags","number",["number"],[t])},_csm.getDrawableDynamicFlags=function(t){return p.ccall("csmGetDrawableDynamicFlags","number",["number"],[t])},_csm.getDrawableTextureIndices=function(t){return p.ccall("csmGetDrawableTextureIndices","number",["number"],[t])},_csm.getDrawableDrawOrders=function(t){return p.ccall("csmGetDrawableDrawOrders","number",["number"],[t])},_csm.getDrawableRenderOrders=function(t){return p.ccall("csmGetDrawableRenderOrders","number",["number"],[t])},_csm.getDrawableOpacities=function(t){return p.ccall("csmGetDrawableOpacities","number",["number"],[t])},_csm.getDrawableMaskCounts=function(t){return p.ccall("csmGetDrawableMaskCounts","number",["number"],[t])},_csm.getDrawableMasks=function(t){return p.ccall("csmGetDrawableMasks","number",["number"],[t])},_csm.getDrawableVertexCounts=function(t){return p.ccall("csmGetDrawableVertexCounts","number",["number"],[t])},_csm.getDrawableVertexPositions=function(t){return p.ccall("csmGetDrawableVertexPositions","number",["number"],[t])},_csm.getDrawableVertexUvs=function(t){return p.ccall("csmGetDrawableVertexUvs","number",["number"],[t])},_csm.getDrawableIndexCounts=function(t){return p.ccall("csmGetDrawableIndexCounts","number",["number"],[t])},_csm.getDrawableIndices=function(t){return p.ccall("csmGetDrawableIndices","number",["number"],[t])},_csm.mallocMoc=function(t){return p.ccall("csmMallocMoc","number",["number"],[t])},_csm.mallocModelAndInitialize=function(t){return p.ccall("csmMallocModelAndInitialize","number",["number"],[t])},_csm.malloc=function(t){return p.ccall("csmMalloc","number",["number"],[t])},_csm.setLogFunction=function(t){p.ccall("csmSetLogFunction",null,["number"],[t])},_csm.updateModel=function(t){p.ccall("csmUpdateModel",null,["number"],[t])},_csm.readCanvasInfo=function(t,e,r,i){p.ccall("csmReadCanvasInfo",null,["number","number","number","number"],[t,e,r,i])},_csm.resetDrawableDynamicFlags=function(t){p.ccall("csmResetDrawableDynamicFlags",null,["number"],[t])},_csm.free=function(t){p.ccall("csmFree",null,["number"],[t])},_csm),e=(Version.csmGetVersion=function(){return g.getVersion()},Version.csmGetLatestMocVersion=function(){return g.getLatestMocVersion()},Version.csmGetMocVersion=function(t){return g.getMocVersion(t._ptr)},Version);function Version(){}function _csm(){}t.Version=e;var r=(Logging.csmSetLogFunction=function(t){Logging.logFunction=t;var e=p.addFunction(Logging.wrapLogFunction,"vi");g.setLogFunction(e)},Logging.csmGetLogFunction=function(){return Logging.logFunction},Logging.wrapLogFunction=function(t){var e=p.UTF8ToString(t);Logging.logFunction(e)},Logging);function Logging(){}t.Logging=r;var i=(Moc.fromArrayBuffer=function(t){if(!t)return null;var e=new Moc(t);return e._ptr?e:null},Moc.prototype._release=function(){g.free(this._ptr),this._ptr=0},Moc);function Moc(t){var e=g.mallocMoc(t.byteLength);e&&(new Uint8Array(p.HEAPU8.buffer,e,t.byteLength).set(new Uint8Array(t)),this._ptr=g.reviveMocInPlace(e,t.byteLength),this._ptr||g.free(e))}t.Moc=i;var n=(Model.fromMoc=function(t){var e=new Model(t);return e._ptr?e:null},Model.prototype.update=function(){g.updateModel(this._ptr)},Model.prototype.release=function(){g.free(this._ptr),this._ptr=0},Model);function Model(t){this._ptr=g.mallocModelAndInitialize(t._ptr),this._ptr&&(this.parameters=new a(this._ptr),this.parts=new s(this._ptr),this.drawables=new u(this._ptr),this.canvasinfo=new o(this._ptr))}t.Model=n;var o=function(t){if(t){var e=new Float32Array(2),r=e.length*e.BYTES_PER_ELEMENT,i=g.malloc(r),n=new Uint8Array(p.HEAPU8.buffer,i,r);n.set(new Uint8Array(e.buffer));var o=new Float32Array(2),a=o.length*o.BYTES_PER_ELEMENT,s=g.malloc(a),u=new Uint8Array(p.HEAPU8.buffer,s,a);u.set(new Uint8Array(o.buffer));var l=new Float32Array(1),c=l.length*l.BYTES_PER_ELEMENT,h=g.malloc(c),f=new Uint8Array(p.HEAPU8.buffer,h,c);f.set(new Uint8Array(l.buffer)),g.readCanvasInfo(t,n.byteOffset,u.byteOffset,f.byteOffset),e=new Float32Array(n.buffer,n.byteOffset,n.length),o=new Float32Array(u.buffer,u.byteOffset,u.length),l=new Float32Array(f.buffer,f.byteOffset,f.length),this.CanvasWidth=e[0],this.CanvasHeight=e[1],this.CanvasOriginX=o[0],this.CanvasOriginY=o[1],this.PixelsPerUnit=l[0],g.free(n.byteOffset),g.free(u.byteOffset),g.free(f.byteOffset)}};t.CanvasInfo=o;var a=function(t){var e=0;this.count=g.getParameterCount(t),e=g.getParameterCount(t),this.ids=new Array(e);for(var r=new Uint32Array(p.HEAPU32.buffer,g.getParameterIds(t),e),i=0;i<r.length;i++)this.ids[i]=p.UTF8ToString(r[i]);e=g.getParameterCount(t),this.minimumValues=new Float32Array(p.HEAPF32.buffer,g.getParameterMinimumValues(t),e),e=g.getParameterCount(t),this.maximumValues=new Float32Array(p.HEAPF32.buffer,g.getParameterMaximumValues(t),e),e=g.getParameterCount(t),this.defaultValues=new Float32Array(p.HEAPF32.buffer,g.getParameterDefaultValues(t),e),e=g.getParameterCount(t),this.values=new Float32Array(p.HEAPF32.buffer,g.getParameterValues(t),e)};t.Parameters=a;var s=function(t){var e=0;this.count=g.getPartCount(t),e=g.getPartCount(t),this.ids=new Array(e);for(var r=new Uint32Array(p.HEAPU32.buffer,g.getPartIds(t),e),i=0;i<r.length;i++)this.ids[i]=p.UTF8ToString(r[i]);e=g.getPartCount(t),this.opacities=new Float32Array(p.HEAPF32.buffer,g.getPartOpacities(t),e),e=g.getPartCount(t),this.parentIndices=new Int32Array(p.HEAP32.buffer,g.getPartParentPartIndices(t),e)};t.Parts=s;var u=(Drawables.prototype.resetDynamicFlags=function(){g.resetDrawableDynamicFlags(this._modelPtr)},Drawables);function Drawables(t){this._modelPtr=t;var e=0,r=null;this.count=g.getDrawableCount(t),e=g.getDrawableCount(t),this.ids=new Array(e);for(var i=new Uint32Array(p.HEAPU32.buffer,g.getDrawableIds(t),e),n=0;n<i.length;n++)this.ids[n]=p.UTF8ToString(i[n]);e=g.getDrawableCount(t),this.constantFlags=new Uint8Array(p.HEAPU8.buffer,g.getDrawableConstantFlags(t),e),e=g.getDrawableCount(t),this.dynamicFlags=new Uint8Array(p.HEAPU8.buffer,g.getDrawableDynamicFlags(t),e),e=g.getDrawableCount(t),this.textureIndices=new Int32Array(p.HEAP32.buffer,g.getDrawableTextureIndices(t),e),e=g.getDrawableCount(t),this.drawOrders=new Int32Array(p.HEAP32.buffer,g.getDrawableDrawOrders(t),e),e=g.getDrawableCount(t),this.renderOrders=new Int32Array(p.HEAP32.buffer,g.getDrawableRenderOrders(t),e),e=g.getDrawableCount(t),this.opacities=new Float32Array(p.HEAPF32.buffer,g.getDrawableOpacities(t),e),e=g.getDrawableCount(t),this.maskCounts=new Int32Array(p.HEAP32.buffer,g.getDrawableMaskCounts(t),e),e=g.getDrawableCount(t),this.vertexCounts=new Int32Array(p.HEAP32.buffer,g.getDrawableVertexCounts(t),e),e=g.getDrawableCount(t),this.indexCounts=new Int32Array(p.HEAP32.buffer,g.getDrawableIndexCounts(t),e),e=g.getDrawableCount(t),r=new Int32Array(p.HEAP32.buffer,g.getDrawableMaskCounts(t),e),this.masks=new Array(e);var o=new Uint32Array(p.HEAPU32.buffer,g.getDrawableMasks(t),e);for(n=0;n<o.length;n++)this.masks[n]=new Int32Array(p.HEAP32.buffer,o[n],r[n]);e=g.getDrawableCount(t),r=new Int32Array(p.HEAP32.buffer,g.getDrawableVertexCounts(t),e),this.vertexPositions=new Array(e);var a=new Uint32Array(p.HEAPU32.buffer,g.getDrawableVertexPositions(t),e);for(n=0;n<a.length;n++)this.vertexPositions[n]=new Float32Array(p.HEAPF32.buffer,a[n],2*r[n]);e=g.getDrawableCount(t),r=new Int32Array(p.HEAP32.buffer,g.getDrawableVertexCounts(t),e),this.vertexUvs=new Array(e);var s=new Uint32Array(p.HEAPU32.buffer,g.getDrawableVertexUvs(t),e);for(n=0;n<s.length;n++)this.vertexUvs[n]=new Float32Array(p.HEAPF32.buffer,s[n],2*r[n]);e=g.getDrawableCount(t),r=new Int32Array(p.HEAP32.buffer,g.getDrawableIndexCounts(t),e),this.indices=new Array(e);var u=new Uint32Array(p.HEAPU32.buffer,g.getDrawableIndices(t),e);for(n=0;n<u.length;n++)this.indices[n]=new Uint16Array(p.HEAPU16.buffer,u[n],r[n])}t.Drawables=u;var l=(Utils.hasBlendAdditiveBit=function(t){return 1==(1&t)},Utils.hasBlendMultiplicativeBit=function(t){return 2==(2&t)},Utils.hasIsDoubleSidedBit=function(t){return 4==(4&t)},Utils.hasIsInvertedMaskBit=function(t){return 8==(8&t)},Utils.hasIsVisibleBit=function(t){return 1==(1&t)},Utils.hasVisibilityDidChangeBit=function(t){return 2==(2&t)},Utils.hasOpacityDidChangeBit=function(t){return 4==(4&t)},Utils.hasDrawOrderDidChangeBit=function(t){return 8==(8&t)},Utils.hasRenderOrderDidChangeBit=function(t){return 16==(16&t)},Utils.hasVertexPositionsDidChangeBit=function(t){return 32==(32&t)},Utils);function Utils(){}t.Utils=l;var dt,c=(dt="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(t){var p;t=t||{},p=p||(void 0!==t?t:{});var r,i={};for(r in p)p.hasOwnProperty(r)&&(i[r]=p[r]);var n,o,s,u=!1;o="object"==typeof window,s="function"==typeof importScripts,u="object"==typeof mt&&"object"==typeof mt.versions&&"string"==typeof mt.versions.node&&!o&&!s,n=!o&&!u&&!s;var l,m,y,b,A="";u?(A=_t+"/",l=function(t,e){var r;return(r=z(t))?e?r:r.toString():(y=y||bt(7),t=(b=b||bt(8)).normalize(t),y.readFileSync(t,e?null:"utf8"))},m=function(t){return(t=l(t,!0)).buffer||(t=new Uint8Array(t)),assert(t.buffer),t},1<mt.argv.length&&mt.argv[1].replace(/\\/g,"/"),mt.argv.slice(2),mt.on("uncaughtException",function(t){throw t}),mt.on("unhandledRejection",B),p.inspect=function(){return"[Emscripten Module object]"}):n?("undefined"!=typeof read&&(l=function(t){var e=z(t);return e?C(e):read(t)}),m=function(t){var e;return(e=z(t))?e:"function"==typeof readbuffer?new Uint8Array(readbuffer(t)):(assert("object"==typeof(e=read(t,"binary"))),e)},"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(o||s)&&(s?A=self.location.href:document.currentScript&&(A=document.currentScript.src),dt&&(A=dt),A=0!==A.indexOf("blob:")?A.substr(0,A.lastIndexOf("/")+1):"",l=function(e){try{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText}catch(t){if(e=z(e))return C(e);throw t}},s&&(m=function(e){try{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}catch(t){if(e=z(e))return e;throw t}}));var v,M=p.print||console.log.bind(console),S=p.printErr||console.warn.bind(console);for(r in i)i.hasOwnProperty(r)&&(p[r]=i[r]);function da(){return{exports:(t=st,r=P,i=I,n=new ArrayBuffer(8),o=new Int32Array(n),a=new Float32Array(n),s=new Float64Array(n),u=r.buffer,l=new Uint8Array(u),(w=function(t,e){var r,i;if(void 0===yt)for(r=atob(e),i=0;i<r.length;i++)l[t+i]=r.charCodeAt(i);else for(r=yt.from(e,"base64"),i=0;i<r.length;i++)l[t+i]=r[i]})(1024,"CgBbQ1NNXSBbRV1Jbml0aWFsaXplRGVmb3JtZXJzKCk6IFVua25vd24gRGVmb3JtZXIgVHlwZS4KAE1PQzMAW0NTTV0gW0VdJXM6ICVzCgBbQ1NNXSBbRV1XYXJwRGVmb3JtZXI6OlRyYW5zZm9ybVRhcmdldCgpIGVycm9yLiBbJWRdIHAwMT0oJS40ZiAsICUuNGYpCgAlcwoAICAAW0NTTV0gW0VdY3NtUmV2aXZlTW9jSW5QbGFjZSBpcyBmYWlsZWQuIENvcnJ1cHRlZCAgbW9jMyBmaWxlLgoAImFkZHJlc3MiIGlzIG51bGwuAFtDU01dIFtXXVJvdGF0aW9uRGVmb3JtZXI6IE5vdCBmb3VuZCB0cmFuc2Zvcm1lZCBEaXJlY3Rpb24uCgAlMDJYIABbQ1NNXSBbRV1jc21SZXZpdmVNb2NJblBsYWNlIGlzIGZhaWxlZC4gVGhlIENvcmUgdW5zdXBwb3J0IGxhdGVyIHRoYW4gbW9jMyB2ZXI6WyVkXS4gVGhpcyBtb2MzIHZlciBpcyBbJWRdLgoAImFkZHJlc3MiIGFsaWdubWVudCBpcyBpbnZhbGlkLgBbQ1NNXSBbRV1VcGRhdGVEZWZvcm1lckhpZXJhcmNoeSgpOiBVbmtub3duIERlZm9ybWVyIFR5cGUuCgBbQ1NNXSBbRV1jc21HZXRNb2NWZXJzaW9uIGlzIGZhaWxlZC4gQ29ycnVwdGVkIG1vYzMgZmlsZS4KACJzaXplIiBpcyBpbnZhbGlkLgBMaXZlMkQgQ3ViaXNtIFNESyBDb3JlIFZlcnNpb24gJWQuJWQuJWQAIm1vZGVsIiBpcyBpbnZhbGlkLgBjc21HZXRNb2NWZXJzaW9uAGNzbVJldml2ZU1vY0luUGxhY2UAY3NtUmVhZENhbnZhc0luZm8AIm91dFNpemVJblBpeGVscyIgaXMgbnVsbC4AIm91dE9yaWdpbkluUGl4ZWxzIiBpcyBudWxsLgAib3V0UGl4ZWxzUGVyVW5pdCIgaXMgbnVsbC4AY3NtR2V0U2l6ZW9mTW9kZWwAIm1vYyIgaXMgaW52YWxpZC4AY3NtSW5pdGlhbGl6ZU1vZGVsSW5QbGFjZQAic2l6ZSIgaXMgaW52YWxpZABjc21VcGRhdGVNb2RlbABjc21HZXRQYXJhbWV0ZXJDb3VudABjc21HZXRQYXJhbWV0ZXJJZHMAY3NtR2V0UGFyYW1ldGVyTWluaW11bVZhbHVlcwBjc21HZXRQYXJhbWV0ZXJNYXhpbXVtVmFsdWVzAGNzbUdldFBhcmFtZXRlckRlZmF1bHRWYWx1ZXMAY3NtR2V0UGFyYW1ldGVyVmFsdWVzAGNzbUdldFBhcnRDb3VudABjc21HZXRQYXJ0SWRzAGNzbUdldFBhcnRPcGFjaXRpZXMAY3NtR2V0UGFydFBhcmVudFBhcnRJbmRpY2VzAGNzbUdldERyYXdhYmxlQ291bnQAY3NtR2V0RHJhd2FibGVJZHMAY3NtR2V0RHJhd2FibGVDb25zdGFudEZsYWdzAGNzbUdldERyYXdhYmxlRHluYW1pY0ZsYWdzAGNzbUdldERyYXdhYmxlVGV4dHVyZUluZGljZXMAY3NtR2V0RHJhd2FibGVEcmF3T3JkZXJzAGNzbUdldERyYXdhYmxlUmVuZGVyT3JkZXJzAGNzbUdldERyYXdhYmxlT3BhY2l0aWVzAGNzbUdldERyYXdhYmxlTWFza0NvdW50cwBjc21HZXREcmF3YWJsZU1hc2tzAGNzbUdldERyYXdhYmxlVmVydGV4Q291bnRzAGNzbUdldERyYXdhYmxlVmVydGV4UG9zaXRpb25zAGNzbUdldERyYXdhYmxlVmVydGV4VXZzAGNzbUdldERyYXdhYmxlSW5kZXhDb3VudHMAY3NtR2V0RHJhd2FibGVJbmRpY2VzAGNzbVJlc2V0RHJhd2FibGVEeW5hbWljRmxhZ3M="),w(2572,"Cw=="),w(2611,"//////8="),w(2680,"GBgAAC0rICAgMFgweAAobnVsbCkAAAAAEQAKABEREQAAAAAFAAAAAAAACQAAAAAL"),w(2736,"EQAPChEREQMKBwABEwkLCwAACQYLAAALAAYRAAAAERER"),w(2785,"Cw=="),w(2794,"EQAKChEREQAKAAACAAkLAAAACQALAAAL"),w(2843,"DA=="),w(2855,"DAAAAAAMAAAAAAkMAAAAAAAMAAAM"),w(2901,"Dg=="),w(2913,"DQAAAAQNAAAAAAkOAAAAAAAOAAAO"),w(2959,"EA=="),w(2971,"DwAAAAAPAAAAAAkQAAAAAAAQAAAQAAASAAAAEhIS"),w(3026,"EgAAABISEgAAAAAAAAk="),w(3075,"Cw=="),w(3087,"CgAAAAAKAAAAAAkLAAAAAAALAAAL"),w(3133,"DA=="),w(3145,"DAAAAAAMAAAAAAkMAAAAAAAMAAAMAAAwMTIzNDU2Nzg5QUJDREVGLTBYKzBYIDBYLTB4KzB4IDB4AGluZgBJTkYAbmFuAE5BTgAu"),w(3232,"AwAAAAQAAAAEAAAABgAAAIP5ogBETm4A/CkVANFXJwDdNPUAYtvAADyZlQBBkEMAY1H+ALveqwC3YcUAOm4kANJNQgBJBuAACeouAByS0QDrHf4AKbEcAOg+pwD1NYIARLsuAJzphAC0JnAAQX5fANaROQBTgzkAnPQ5AItfhAAo+b0A+B87AN7/lwAPmAUAES/vAApaiwBtH20Az342AAnLJwBGT7cAnmY/AC3qXwC6J3UA5evHAD178QD3OQcAklKKAPtr6gAfsV8ACF2NADADVgB7/EYA8KtrACC8zwA29JoA46kdAF5hkQAIG+YAhZllAKAUXwCNQGgAgNj/ACdzTQAGBjEAylYVAMmocwB74mAAa4zAABnERwDNZ8MACejcAFmDKgCLdsQAphyWAESv3QAZV9EApT4FAAUH/wAzfj8AwjLoAJhP3gC7fTIAJj3DAB5r7wCf+F4ANR86AH/yygDxhx0AfJAhAGokfADVbvoAMC13ABU7QwC1FMYAwxmdAK3EwgAsTUEADABdAIZ9RgDjcS0Am8aaADNiAAC00nwAtKeXADdV1QDXPvYAoxAYAE12/ABknSoAcNerAGN8+AB6sFcAFxXnAMBJVgA71tkAp4Q4ACQjywDWincAWlQjAAAfuQDxChsAGc7fAJ8x/wBmHmoAmVdhAKz7RwB+f9gAImW3ADLoiQDmv2AA78TNAGw2CQBdP9QAFt7XAFg73gDem5IA0iIoACiG6ADiWE0AxsoyAAjjFgDgfcsAF8BQAPMdpwAY4FsALhM0AIMSYgCDSAEA9Y5bAK2wfwAe6fIASEpDABBn0wCq3dgArl9CAGphzgAKKKQA05m0AAam8gBcd38Ao8KDAGE8iACKc3gAr4xaAG/XvQAtpmMA9L/LAI2B7wAmwWcAVcpFAMrZNgAoqNIAwmGNABLJdwAEJhQAEkabAMRZxADIxUQATbKRAAAX8wDUQ60AKUnlAP3VEAAAvvwAHpTMAHDO7gATPvUA7PGAALPnwwDH+CgAkwWUAMFxPgAuCbMAC0XzAIgSnACrIHsALrWfAEeSwgB7Mi8ADFVtAHKnkABr5x8AMcuWAHkWSgBBeeIA9N+JAOiUlwDi5oQAmTGXAIjtawBfXzYAu/0OAEiatABnpGwAcXJCAI1dMgCfFbgAvOUJAI0xJQD3dDkAMAUcAA0MAQBLCGgALO5YAEeqkAB05wIAvdYkAPd9pgBuSHIAnxbvAI6UpgC0kfYA0VNRAM8K8gAgmDMA9Ut+ALJjaADdPl8AQF0DAIWJfwBVUikAN2TAAG3YEAAySDIAW0x1AE5x1ABFVG4ACwnBACr1aQAUZtUAJwedAF0EUAC0O9sA6nbFAIf5FwBJa30AHSe6AJZpKQDGzKwArRRUAJDiagCI2YkALHJQAASkvgB3B5QA8zBwAAD8JwDqcagAZsJJAGTgPQCX3YMAoz+XAEOU/QANhowAMUHeAJI5nQDdcIwAF7fnAAjfOwAVNysAXICgAFqAkwAQEZIAD+jYAGyArwDb/0sAOJAPAFkYdgBipRUAYcu7AMeJuQAQQL0A0vIEAEl1JwDrtvYA2yK7AAoUqgCJJi8AZIN2AAk7MwAOlBoAUTqqAB2jwgCv7a4AXCYSAG3CTQAtepwAwFaXAAM/gwAJ8PYAK0CMAG0xmQA5tAcADCAVANjDWwD1ksQAxq1LAE7KpQCnN80A5qk2AKuSlADdQmgAGWPeAHaM7wBoi1IA/Ns3AK6hqwDfFTEAAK6hAAz72gBkTWYA7QW3ACllMABXVr8AR/86AGr5uQB1vvMAKJPfAKuAMABmjPYABMsVAPoiBgDZ5B0APbOkAFcbjwA2zQkATkLpABO+pAAzI7UA8KoaAE9lqADSwaUACz8PAFt4zQAj+XYAe4sEAIkXcgDGplMAb27iAO/rAACbSlgAxNq3AKpmugB2z88A0QIdALHxLQCMmcEAw613AIZI2gD3XaAAxoD0AKzwLwDd7JoAP1y8ANDebQCQxx8AKtu2AKMlOgAAr5oArVOTALZXBAApLbQAS4B+ANoHpwB2qg4Ae1mhABYSKgDcty0A+uX9AInb/gCJvv0A5HZsAAap/AA+gHAAhW4VAP2H/wAoPgcAYWczACoYhgBNveoAs+evAI9tbgCVZzkAMb9bAITXSAAw3xYAxy1DACVhNQDJcM4AMMu4AL9s/QCkAKIABWzkAFrdoAAhb0cAYhLSALlchABwYUkAa1bgAJlSAQBQVTcAHtW3ADPxxAATbl8AXTDkAIUuqQAdssMAoTI2AAi3pADqsdQAFvchAI9p5AAn/3cADAOAAI1ALQBPzaAAIKWZALOi0wAvXQoAtPlCABHaywB9vtAAm9vBAKsXvQDKooEACGpcAC5VFwAnAFUAfxTwAOEHhgAUC2QAlkGNAIe+3gDa/SoAayW2AHuJNAAF8/4Aub+eAGhqTwBKKqgAT8RaAC34vADXWpgA9MeVAA1NjQAgOqYApFdfABQ/sQCAOJUAzCABAHHdhgDJ3rYAv2D1AE1lEQABB2sAjLCsALLA0ABRVUgAHvsOAJVywwCjBjsAwEA1AAbcewDgRcwATin6ANbKyADo80EAfGTeAJtk2ADZvjEApJfDAHdY1ABp48UA8NoTALo6PABGGEYAVXVfANK99QBuksYArC5dAA5E7QAcPkIAYcSHACn96QDn1vMAInzKAG+RNQAI4MUA/9eNAG5q4gCw/cYAkwjBAHxddABrrbIAzW6dAD5yewDGEWoA98+pAClz3wC1yboAtwBRAOKyDQB0uiQA5X1gAHTYigANFSwAgRgMAH5mlAABKRYAn3p2AP39vgBWRe8A2X42AOzZEwCLurkAxJf8ADGoJwDxbsMAlMU2ANioVgC0qLUAz8wOABKJLQBvVzQALFaJAJnO4wDWILkAa16qAD4qnAARX8wA/QtKAOH0+wCOO20A4oYsAOnUhAD8tKkA7+7RAC41yQAvOWEAOCFEABvZyACB/AoA+0pqAC8c2ABTtIQATpmMAFQizAAqVdwAwMbWAAsZlgAacLgAaZVkACZaYAA/Uu4AfxEPAPS1EQD8y/UANLwtADS87gDoXcwA3V5gAGeOmwCSM+8AyRe4AGFYmwDhV7wAUYPGANg+EADdcUgALRzdAK8YoQAhLEYAWfPXANl6mACeVMAAT4b6AFYG/ADlea4AiSI2ADitIgBnk9wAVeiqAIImOADK55sAUQ2kAJkzsQCp1w4AaQVIAGWy8AB/iKcAiEyXAPnRNgAhkrMAe4JKAJjPIQBAn9wA3EdVAOF0OgBn60IA/p3fAF7UXwB7Z6QAuqx6AFX2ogAriCMAQbpVAFluCAAhKoYAOUeDAInj5gDlntQASftAAP9W6QAcD8oAxVmKAJT6KwDTwcUAD8XPANtargBHxYYAhUNiACGGOwAseZQAEGGHACpMewCALBoAQ78SAIgmkAB4PIkAqMTkAOXbewDEOsIAJvTqAPdnigANkr8AZaMrAD2TsQC9fAsApFHcACfdYwBp4d0AmpQZAKgplQBozigACe20AESfIABOmMoAcIJjAH58IwAPuTIAp/WOABRW5wAh8QgAtZ0qAG9+TQClGVEAtfmrAILf1gCW3WEAFjYCAMQ6nwCDoqEAcu1tADmNegCCuKkAazJcAEYnWwAANO0A0gB3APz0VQABWU0A4HGA"),w(6019,"QPsh+T8AAAAALUR0PgAAAICYRvg8AAAAYFHMeDsAAACAgxvwOQAAAEAgJXo4AAAAgCKC4zYAAAAAHfNpNThj7T7aD0k/Xph7P9oPyT9pN6wxaCEiM7QPFDNoIaIz2w9JP9sPSb/kyxZA5MsWwAAAAAAAAACA2w9JQNsPScAAAIA/AADAPwAAAADcz9E1AAAAAADAFT8="),w(6168,"BQ=="),w(6180,"DA=="),w(6204,"DQAAAA4AAADIGQAAAAQ="),w(6228,"AQ=="),w(6243,"Cv////8="),w(6500,"9B0="),c={Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array,NaN:NaN,Infinity:1/0,Math:Math},p=t,d=r.buffer,m=p.memory,E=i,T=new c.Int8Array(d),M=new c.Int16Array(d),tt=new c.Int32Array(d),R=new c.Uint8Array(d),L=new c.Uint16Array(d),y=new c.Uint32Array(d),et=new c.Float32Array(d),rt=new c.Float64Array(d),it=c.Math.imul,nt=c.Math.fround,ot=c.Math.abs,b=c.Math.clz32,F=c.Math.min,c.Math.max,D=c.Math.floor,c.Math.ceil,c.Math.sqrt,p.abort,c.NaN,A=c.Infinity,C=p.a,v=p.b,S=p.c,at=5251088,U=0,E[1]=function(t,e,r,i){t|=0,e|=0,r|=0,i|=0;var n,o=0,a=nt(0),s=nt(0),u=0,l=nt(0),c=nt(0),h=nt(0),f=0,g=nt(0),p=nt(0),d=nt(0),m=nt(0),_=nt(0),y=nt(0),b=nt(0),A=nt(0),C=nt(0),v=nt(0),M=nt(0),S=nt(0),w=nt(0),x=nt(0),B=0,P=0,I=nt(0),V=nt(0),k=0,E=0,T=nt(0),R=nt(0),L=0,F=0,D=0,U=0,N=0,O=0,X=0,G=0,z=0,J=nt(0),j=nt(0),W=nt(0),H=nt(0),Q=nt(0),q=nt(0),Z=nt(0),K=0,$=0;if(at=n=at-32|0,1<=(0|i))for(N=(B=tt[t+4>>2])+-1|0,O=(E=tt[t>>2])+-1|0,X=F=(f=tt[t+20>>2])+(B<<3)|0,G=D=((L=it(E,P=B+1|0))<<3)+f|0,z=U=(B+L<<3)+f|0,T=nt(0|E),R=nt(0|B),K=tt[t+8>>2],t=0;;){h=et[4+(o=(k=t<<3)+e|0)>>2],s=nt(h*T),g=et[o>>2],a=nt(g*R),o=h>=nt(1);t:if(h<nt(0)^1&&!(o|g>=nt(1)|g<nt(0)))o=nt(ot(y=s))<nt(2147483648)?~~s:-2147483648,c=nt(y-nt(0|o)),u=nt(ot(s=a))<nt(2147483648)?~~a:-2147483648,l=nt(s-nt(0|u)),o=u+it(o,P)|0,s=K?(a=nt(nt(1)-c),s=nt(nt(1)-l),u=(o<<3)+f|0,o=(o+P<<3)+f|0,et[r+k>>2]=nt(nt(nt(a*nt(s*et[u>>2]))+nt(a*nt(l*et[u+8>>2])))+nt(c*nt(s*et[o>>2])))+nt(c*nt(l*et[o+8>>2])),a=nt(nt(nt(a*nt(s*et[u+4>>2]))+nt(a*nt(l*et[u+12>>2])))+nt(c*nt(s*et[o+4>>2]))),nt(c*nt(l*et[o+12>>2]))):nt(l+c)<=nt(1)?(a=nt(nt(nt(1)-l)-c),u=(o<<3)+f|0,o=(o+P<<3)+f|0,et[r+k>>2]=nt(nt(a*et[u>>2])+nt(l*et[u+8>>2]))+nt(c*et[o>>2]),a=nt(nt(a*et[u+4>>2])+nt(l*et[u+12>>2])),nt(c*et[o+4>>2])):(a=nt(nt(l+nt(-1))+c),u=(o+P<<3)+f|0,s=nt(nt(1)-l),h=nt(nt(1)-c),o=(o<<3)+f|0,et[r+k>>2]=nt(nt(a*et[u+8>>2])+nt(s*et[u>>2]))+nt(h*et[o+8>>2]),a=nt(nt(a*et[u+12>>2])+nt(s*et[u+4>>2])),nt(h*et[o+12>>2]));else{if($||(y=et[z+4>>2],J=et[f+4>>2],p=nt(y-J),j=et[X+4>>2],W=et[G+4>>2],d=nt(j-W),b=nt(nt(p-d)*nt(.5)),H=et[U>>2],Q=et[f>>2],m=nt(H-Q),q=et[F>>2],Z=et[D>>2],_=nt(q-Z),A=nt(nt(m-_)*nt(.5)),d=nt(nt(d+p)*nt(.5)),_=nt(nt(_+m)*nt(.5)),$=1,p=nt(nt(nt(nt(nt(J+j)+W)+y)*nt(.25))-nt(p*nt(.5))),m=nt(nt(nt(nt(nt(Q+q)+Z)+H)*nt(.25))-nt(m*nt(.5)))),!(h<nt(3)^1|g>nt(-2)^1|g<nt(3)^1|h>nt(-2)^1)){e:if(g<=nt(0)){if(h<=nt(0)){c=nt(nt(h+nt(2))*nt(.5)),l=nt(nt(g+nt(2))*nt(.5)),a=nt(b+b),I=nt(p-a),s=nt(A+A),V=nt(m-s),w=nt(p-nt(d+d)),C=nt(w-a),x=nt(m-nt(_+_)),v=nt(x-s),M=et[f+4>>2],S=et[f>>2];break e}if(o){a=nt(b*nt(3)),s=nt(p-nt(d+d)),w=nt(a+s),C=nt(A*nt(3)),v=nt(m-nt(_+_)),x=nt(C+v),c=nt(nt(h+nt(-1))*nt(.5)),l=nt(nt(g+nt(2))*nt(.5)),M=nt(a+p),S=nt(C+m),C=nt(b+s),v=nt(A+v),I=et[G+4>>2],V=et[D>>2];break e}a=nt(p-nt(d+d)),o=O,u=nt(ot(s))<nt(2147483648)?~~s:-2147483648,c=nt(0|(o=(0|u)==(0|E)?o:u)),l=nt(c/T),C=nt(nt(l*b)+a),y=nt(l*A),l=nt(m-nt(_+_)),v=nt(y+l),h=nt(nt(0|(u=o+1|0))/T),w=nt(nt(h*b)+a),x=nt(nt(h*A)+l),l=nt(nt(g+nt(2))*nt(.5)),c=nt(s-c),o=(it(o,P)<<3)+f|0,I=et[o+4>>2],V=et[o>>2],o=(it(u,P)<<3)+f|0,M=et[o+4>>2],S=et[o>>2]}else if(g>=nt(1)){if(h<=nt(0)){c=nt(nt(h+nt(2))*nt(.5)),l=nt(nt(g+nt(-1))*nt(.5)),a=nt(b+b),C=nt(nt(d+p)-a),s=nt(A+A),v=nt(nt(_+m)-s),M=nt(nt(d*nt(3))+p),I=nt(M-a),S=nt(nt(_*nt(3))+m),V=nt(S-s),w=et[X+4>>2],x=et[F>>2];break e}if(o){a=nt(b*nt(3)),w=nt(a+nt(d+p)),s=nt(A*nt(3)),x=nt(s+nt(_+m)),y=a,a=nt(nt(d*nt(3))+p),M=nt(y+a),y=s,s=nt(nt(_*nt(3))+m),S=nt(y+s),c=nt(nt(h+nt(-1))*nt(.5)),l=nt(nt(g+nt(-1))*nt(.5)),I=nt(b+a),V=nt(A+s),C=et[z+4>>2],v=et[U>>2];break e}a=nt(nt(d*nt(3))+p),o=O,u=nt(ot(s))<nt(2147483648)?~~s:-2147483648,c=nt(0|(o=(0|u)==(0|E)?o:u)),l=nt(c/T),I=nt(nt(l*b)+a),y=nt(l*A),l=nt(nt(_*nt(3))+m),V=nt(y+l),h=nt(nt(0|(u=o+1|0))/T),M=nt(nt(h*b)+a),S=nt(nt(h*A)+l),l=nt(nt(g+nt(-1))*nt(.5)),c=nt(s-c),o=(it(o,P)+B<<3)+f|0,C=et[o+4>>2],v=et[o>>2],o=(it(u,P)+B<<3)+f|0,w=et[o+4>>2],x=et[o>>2]}else h<=nt(0)?(c=nt(nt(h+nt(2))*nt(.5)),o=N,u=nt(ot(s=a))<nt(2147483648)?~~a:-2147483648,a=nt(0|(o=(0|u)==(0|B)?o:u)),l=nt(s-a),a=nt(a/R),s=nt(b+b),C=nt(nt(nt(a*d)+p)-s),y=nt(nt(a*_)+m),a=nt(A+A),v=nt(y-a),h=nt(nt(0|(u=o+1|0))/R),I=nt(nt(nt(h*d)+p)-s),V=nt(nt(nt(h*_)+m)-a),w=et[4+(o=(o<<3)+f|0)>>2],x=et[o>>2],M=et[4+(o=(u<<3)+f|0)>>2],S=et[o>>2]):o?(y=s=nt(b*nt(3)),o=N,u=nt(ot(a))<nt(2147483648)?~~a:-2147483648,l=nt(0|(o=(0|u)==(0|B)?o:u)),c=nt(l/R),w=nt(y+nt(nt(c*d)+p)),g=nt(A*nt(3)),x=nt(g+nt(nt(c*_)+m)),y=s,s=nt(nt(0|(u=o+1|0))/R),M=nt(y+nt(nt(s*d)+p)),S=nt(g+nt(nt(s*_)+m)),c=nt(nt(h+nt(-1))*nt(.5)),l=nt(a-l),C=et[4+(o=(o+L<<3)+f|0)>>2],v=et[o>>2],I=et[4+(o=(u+L<<3)+f|0)>>2],V=et[o>>2]):(rt[16+n>>3]=h,tt[n>>2]=t,rt[8+n>>3]=g,Y(4,1104,n));if(nt(l+c)<=nt(1)){et[r+k>>2]=nt(v+nt(nt(V-v)*l))+nt(nt(x-v)*c),a=nt(C+nt(nt(I-C)*l)),s=nt(nt(w-C)*c);break t}a=nt(nt(1)-l),s=nt(nt(1)-c),et[r+k>>2]=nt(S+nt(nt(x-S)*a))+nt(nt(V-S)*s),a=nt(M+nt(nt(w-M)*a)),s=nt(nt(I-M)*s);break t}et[r+k>>2]=nt(h*A)+nt(nt(g*_)+m),a=nt(h*b),s=nt(nt(g*d)+p)}if(et[4+(r+k|0)>>2]=a+s,(0|i)==(0|(t=t+1|0)))break}at=32+n|0},E[2]=function(t,e,r){t|=0,e|=0;var i,n,o,a=0;if(n=tt[140+(r|=0)>>2],o=tt[r+136>>2],i=tt[t+24>>2],-1==(0|(a=tt[t+4>>2])))return tt[(t=e<<2)+o>>2]=tt[i+16>>2],void(tt[t+n>>2]=1065353216);r=tt[r+4>>2]+(a<<5)|0,a=tt[i+20>>2],E[tt[r+20>>2]](tt[r+24>>2],a,a,tt[i+12>>2]),e<<=2,t=tt[t+4>>2]<<2,et[e+o>>2]=et[i+16>>2]*et[t+o>>2],tt[e+n>>2]=tt[t+n>>2]},E[3]=function(t,r,i,n){t|=0,r|=0,i|=0,n|=0;var o,a=nt(0),s=nt(0),u=nt(0),l=nt(0),c=0,h=nt(0),f=0,g=nt(0),p=nt(0),d=nt(0);if(c=tt[t+28>>2],s=function(t){var r,i=nt(0),n=0,o=0,a=0;at=r=at-16|0,j(t);t:if((n=2147483647&(o=e(0)))>>>0<=1061752794){if(i=nt(1),n>>>0<964689920)break t;i=aa(+t)}else if(n>>>0<=1081824209){if(a=+t,1075235812<=n>>>0){i=nt(-aa(((0|o)<0?3.141592653589793:-3.141592653589793)+a));break t}if((0|o)<=-1){i=$(a+1.5707963267948966);break t}i=$(1.5707963267948966-a)}else if(n>>>0<=1088565717){if(1085271520<=n>>>0){i=aa(+t+((0|o)<0?6.283185307179586:-6.283185307179586));break t}if((0|o)<=-1){i=$(-4.71238898038469-t);break t}i=$(t-4.71238898038469)}else if(i=nt(t-t),!(2139095040<=n>>>0))if((n=3&la(t,8+r|0))>>>0<=2){switch(n-1|0){default:i=aa(rt[8+r>>3]);break t;case 0:i=$(-rt[8+r>>3]);break t;case 1:}i=nt(-aa(rt[8+r>>3]))}else i=$(rt[8+r>>3]);return at=16+r|0,i}(a=nt(nt(nt(et[t>>2]+et[t+20>>2])*nt(3.1415927410125732))/nt(180))),u=et[t+8>>2],o=tt[t+24>>2],a=function(t){var r,i=0,n=0,o=0;at=r=at-16|0,j(t);t:if((i=2147483647&(o=e(0)))>>>0<=1061752794){if(i>>>0<964689920)break t;t=$(+t)}else if(i>>>0<=1081824209){if(n=+t,i>>>0<=1075235811){if((0|o)<=-1){t=nt(-aa(n+1.5707963267948966));break t}t=aa(n+-1.5707963267948966);break t}t=$(-(((0|o)<0?3.141592653589793:-3.141592653589793)+n))}else if(i>>>0<=1088565717){if(n=+t,i>>>0<=1085271519){if((0|o)<=-1){t=aa(n+4.71238898038469);break t}t=nt(-aa(n+-4.71238898038469));break t}t=$(((0|o)<0?6.283185307179586:-6.283185307179586)+n)}else if(2139095040<=i>>>0)t=nt(t-t);else if((i=3&la(t,8+r|0))>>>0<=2){switch(i-1|0){default:t=$(rt[8+r>>3]);break t;case 0:t=aa(rt[8+r>>3]);break t;case 1:}t=$(-rt[8+r>>3])}else t=nt(-aa(rt[8+r>>3]));return at=16+r|0,t}(a),0<(0|n))for(s=nt(u*s),h=nt(c?-1:1),p=nt(s*h),l=nt(o?-1:1),d=nt(l*nt(u*a)),s=nt(l*s),u=nt(nt(u*nt(-a))*h),a=et[t+16>>2],h=et[t+12>>2];c=(t=f<<3)+i|0,l=et[(t=t+r|0)>>2],g=et[t+4>>2],et[c+4>>2]=a+nt(nt(d*l)+nt(p*g)),et[c>>2]=h+nt(nt(s*l)+nt(u*g)),(0|(f=f+1|0))!=(0|n););},E[4]=function(t,e,r){t|=0,e|=0,r|=0;var i,n,o,a,s,u=0,l=nt(0),c=nt(0),h=0,f=nt(0),g=nt(0),p=nt(0),d=nt(0);if(at=i=at+-64|0,o=tt[r+140>>2],a=tt[r+136>>2],n=tt[t+24>>2],-1!=(0|(s=tt[t+4>>2]))){u=tt[r+4>>2],h=tt[n+12>>2],tt[24+i>>2]=h,r=tt[n+16>>2],tt[28+i>>2]=r,tt[16+i>>2]=0,g=1==tt[8+(u=u+(s<<5)|0)>>2]?nt(-10):nt(-.10000000149011612),et[20+i>>2]=g,tt[60+i>>2]=r,tt[56+i>>2]=h,E[tt[u+20>>2]](tt[u+24>>2],56+i|0,48+i|0,1),f=nt(1),h=9;t:{for(;;){if(r=h,p=nt(f*nt(0)),et[32+i>>2]=p+et[56+i>>2],d=nt(g*f),et[36+i>>2]=d+et[60+i>>2],E[tt[u+20>>2]](tt[u+24>>2],32+i|0,40+i|0,1),c=nt(et[44+i>>2]-et[52+i>>2]),et[44+i>>2]=c,l=nt(et[40+i>>2]-et[48+i>>2]),et[40+i>>2]=l,c!=nt(0)||l!=nt(0)){r=tt[44+i>>2],tt[8+i>>2]=tt[40+i>>2],tt[12+i>>2]=r;break t}if(et[32+i>>2]=et[56+i>>2]-p,et[36+i>>2]=et[60+i>>2]-d,E[tt[u+20>>2]](tt[u+24>>2],32+i|0,40+i|0,1),c=nt(et[40+i>>2]-et[48+i>>2]),et[40+i>>2]=c,l=nt(et[44+i>>2]-et[52+i>>2]),(et[44+i>>2]=l)!=nt(0)||c!=nt(0)){et[12+i>>2]=-l,et[8+i>>2]=-c;break t}if(h=r+-1|0,f=nt(f*nt(.10000000149011612)),!r)break}Y(3,1265,0)}l=function(t,e){var r=nt(0);if((r=nt(Aa(et[4+t>>2],et[t>>2])-Aa(et[4+e>>2],et[e>>2])))<nt(-3.1415927410125732))for(;(r=nt(r+nt(6.2831854820251465)))<nt(-3.1415927410125732););if(r>nt(3.1415927410125732))for(;(r=nt(r+nt(-6.2831854820251465)))>nt(3.1415927410125732););return r}(16+i|0,8+i|0),E[tt[u+20>>2]](tt[u+24>>2],24+i|0,24+i|0,1),tt[n+12>>2]=tt[24+i>>2],tt[n+16>>2]=tt[28+i>>2],et[n+20>>2]=et[n+20>>2]+nt(nt(l*nt(-180))/nt(3.1415927410125732)),e<<=2,t=tt[t+4>>2]<<2,et[e+a>>2]=et[n+4>>2]*et[t+a>>2],l=nt(et[n+8>>2]*et[t+o>>2]),et[e+o>>2]=l,et[n+8>>2]=l}else tt[(t=e<<2)+a>>2]=tt[n+4>>2],tt[t+o>>2]=tt[n+8>>2];at=64+i|0},E[5]=function(t){t|=0;var e,r,i=0,n=0,o=0,a=0,s=0,u=nt(0),l=0,c=0,h=0,f=0,g=0,p=0,d=0,m=0,_=0,y=0,b=0;if(h=tt[t+248>>2],r=tt[t+204>>2],e=tt[t+200>>2],!((0|(s=tt[t+220>>2]))<1)){for(l=tt[t+236>>2],a=tt[t+216>>2],o=tt[t+224>>2];et[(n=i<<2)+l>>2]=et[n+o>>2]*et[n+a>>2],(0|s)!=(0|(i=i+1|0)););if(!((0|s)<1))for(l=tt[t+240>>2],a=tt[t+216>>2],o=tt[t+228>>2],i=0;et[(n=i<<2)+l>>2]=et[n+o>>2]*et[n+a>>2],(0|s)!=(0|(i=i+1|0)););}if(1<=(0|e))for(m=tt[t+208>>2],s=l=0;;){if(tt[h>>2]){f=(o=tt[(n=l<<2)+tt[t+212>>2]>>2])+s|0;t:{if((0|o)<=0)tt[n+tt[t+276>>2]>>2]=0;else{for(a=tt[t+236>>2],u=nt(0),i=s;u=nt(u+et[a+(i<<2)>>2]),(0|(i=i+1|0))<(0|f););if(et[n+tt[t+276>>2]>>2]=u,!((0|o)<1)){for(a=tt[t+240>>2],u=nt(0),i=s;u=nt(u+et[a+(i<<2)>>2]),(0|(i=i+1|0))<(0|f););break t}}u=nt(0)}if(i=n+tt[t+268>>2]|0,u=nt(u+nt(.0010000000474974513)),a=nt(ot(u))<nt(2147483648)?~~u:-2147483648,tt[i>>2]=a,a=(i=tt[12+((l<<4)+r|0)>>2])<<1,g=tt[n+tt[t+272>>2]>>2],(i=(0|i)<1)||ba(g,0,(1<(0|a)?a:1)<<2),!(i|(0|o)<1))for(p=tt[t+244>>2],_=tt[t+216>>2],y=tt[t+232>>2],n=s;;){for(c=(i=n<<2)+_|0,b=tt[i+y>>2],o=i=0;et[p+(d=o<<2)>>2]=et[b+d>>2]*et[c>>2],(0|(o=o+1|0))<(0|a););for(;et[(c=(o=i<<2)+g|0)>>2]=et[o+p>>2]+et[c>>2],(0|(i=i+1|0))<(0|a););if(!((0|(n=n+1|0))<(0|f)))break}}if(h=h+4|0,s=tt[(l<<2)+m>>2]+s|0,(0|e)==(0|(l=l+1|0)))break}},E[6]=function(t){t|=0;var e,r,i=0,n=0,o=0,a=0,s=0,u=0,l=nt(0),c=0,h=0,f=0,g=0,p=0,d=0,m=0,_=0,y=0,b=0;if(h=tt[t+172>>2],e=tt[t- -64>>2],r=tt[t+68>>2],1<=(0|(o=tt[t+92>>2])))for(s=tt[t+104>>2],u=tt[t+88>>2],n=tt[t+96>>2];et[(a=i<<2)+s>>2]=et[n+a>>2]*et[u+a>>2],(0|o)!=(0|(i=i+1|0)););if(1<=(0|e))for(d=tt[t+80>>2],a=s=0;;){if(tt[h>>2]){if(f=(i=tt[tt[t+84>>2]+(s<<2)>>2])+a|0,o=(0|i)<1)l=nt(0);else for(u=tt[t+104>>2],l=nt(0),i=a;l=nt(l+et[u+(i<<2)>>2]),(0|(i=i+1|0))<(0|f););if(i=it(s,24)+r|0,et[i+16>>2]=l,u=(n=tt[i+12>>2])<<1,(n=(0|n)<1)||ba(tt[i+20>>2],0,(1<(0|u)?u:1)<<2),!(n|o))for(m=tt[i+20>>2],g=tt[t+108>>2],_=tt[t+88>>2],y=tt[t+100>>2],o=a;;){for(c=(i=o<<2)+_|0,b=tt[i+y>>2],n=i=0;et[(p=n<<2)+g>>2]=et[b+p>>2]*et[c>>2],(0|(n=n+1|0))<(0|u););for(;et[(c=(n=i<<2)+m|0)>>2]=et[n+g>>2]+et[c>>2],(0|(i=i+1|0))<(0|u););if(!((0|(o=o+1|0))<(0|f)))break}}if(h=h+4|0,a=tt[(s<<2)+d>>2]+a|0,(0|e)==(0|(s=s+1|0)))break}},E[7]=function(t){t|=0;var e,r=0,i=nt(0),n=0,o=0,a=0,s=0,u=0,l=0,c=0;if(u=tt[t+36>>2],e=tt[t+4>>2],1<=(0|(o=tt[t+24>>2])))for(l=tt[t+32>>2],c=tt[t+20>>2],n=tt[t+28>>2];et[(a=r<<2)+l>>2]=et[n+a>>2]*et[a+c>>2],(0|o)!=(0|(r=r+1|0)););if(1<=(0|e))for(a=tt[t+12>>2],n=0;;){if(tt[u>>2]){if((0|(r=tt[(o=s<<2)+tt[t+16>>2]>>2]))<1)i=nt(0);else for(l=r+n|0,c=tt[t+32>>2],i=nt(0),r=n;i=nt(i+et[c+(r<<2)>>2]),(0|(r=r+1|0))<(0|l););r=o+tt[t+44>>2]|0,i=nt(i+nt(.0010000000474974513)),nt(ot(i))<nt(2147483648)?tt[r>>2]=~~i:tt[r>>2]=-2147483648}if(u=u+4|0,n=tt[a+(s<<2)>>2]+n|0,(0|e)==(0|(s=s+1|0)))break}},E[8]=function(t){t|=0;var e,r,i=0,n=0,o=nt(0),a=0,s=0,u=0,l=0,c=0,h=0,f=0;if(f=tt[t+176>>2],r=tt[t+72>>2],e=tt[t+76>>2],!((0|(u=tt[t+124>>2]))<1)){for(l=tt[t+148>>2],a=tt[t+120>>2],s=tt[t+128>>2];et[(n=i<<2)+l>>2]=et[n+s>>2]*et[n+a>>2],(0|u)!=(0|(i=i+1|0)););if(!((0|u)<1)){for(l=tt[t+152>>2],a=tt[t+120>>2],s=tt[t+132>>2],i=0;et[(n=i<<2)+l>>2]=et[n+s>>2]*et[n+a>>2],(0|u)!=(0|(i=i+1|0)););if(!((0|u)<1)){for(l=tt[t+156>>2],a=tt[t+120>>2],s=tt[t+136>>2],i=0;et[(n=i<<2)+l>>2]=et[n+s>>2]*et[n+a>>2],(0|u)!=(0|(i=i+1|0)););if(!((0|u)<1)){for(l=tt[t+160>>2],a=tt[t+120>>2],s=tt[t+140>>2],i=0;et[(n=i<<2)+l>>2]=et[n+s>>2]*et[n+a>>2],(0|u)!=(0|(i=i+1|0)););if(!((0|u)<1))for(l=tt[t+164>>2],a=tt[t+120>>2],s=tt[t+144>>2],i=0;et[(n=i<<2)+l>>2]=et[n+s>>2]*et[n+a>>2],(0|u)!=(0|(i=i+1|0)););}}}}if(1<=(0|r))for(l=tt[t+112>>2],s=0;;){if(tt[f>>2]){t:{e:{r:{i:{if((0|(n=tt[tt[t+116>>2]+(c<<2)>>2]))<=0)tt[4+((c<<5)+e|0)>>2]=0;else{for(h=n+s|0,a=tt[t+148>>2],o=nt(0),i=s;o=nt(o+et[a+(i<<2)>>2]),(0|(i=i+1|0))<(0|h););if(et[4+(u=(c<<5)+e|0)>>2]=o,!(n=(0|n)<1)){for(a=tt[t+152>>2],o=nt(0),i=s;o=nt(o+et[a+(i<<2)>>2]),(0|(i=i+1|0))<(0|h););if(et[u+20>>2]=o,n)break i;for(a=tt[t+156>>2],o=nt(0),i=s;o=nt(o+et[a+(i<<2)>>2]),(0|(i=i+1|0))<(0|h););if(et[u+12>>2]=o,n)break r;for(a=tt[t+160>>2],o=nt(0),i=s;o=nt(o+et[a+(i<<2)>>2]),(0|(i=i+1|0))<(0|h););if(et[u+16>>2]=o,n)break e;for(a=tt[t+164>>2],o=nt(0),i=s;o=nt(o+et[a+(i<<2)>>2]),(0|(i=i+1|0))<(0|h););break t}}tt[20+((c<<5)+e|0)>>2]=0}tt[12+((c<<5)+e|0)>>2]=0}tt[16+((c<<5)+e|0)>>2]=0}o=nt(0)}et[8+((c<<5)+e|0)>>2]=o}if(f=f+4|0,s=tt[l+(c<<2)>>2]+s|0,(0|r)==(0|(c=c+1|0)))break}},E[9]=function(t){t|=0;var e,r=0,i=0,n=0,o=0,a=0,s=nt(0),u=0,l=0,c=0,h=0;if(e=tt[t+340>>2],1<=(0|(n=tt[t+360>>2])))for(u=tt[t+368>>2],l=tt[t+356>>2],i=tt[t+364>>2];et[(o=r<<2)+u>>2]=et[i+o>>2]*et[o+l>>2],(0|n)!=(0|(r=r+1|0)););if(1<=(0|e))for(c=tt[t+348>>2],h=tt[t+344>>2],o=tt[t+352>>2],i=0;;){if((0|(r=tt[(n=a<<2)+o>>2]))<1)s=nt(0);else for(u=r+i|0,l=tt[t+368>>2],s=nt(0),r=i;s=nt(s+et[l+(r<<2)>>2]),(0|(r=r+1|0))<(0|u););if(et[20+(it(a,24)+h|0)>>2]=s,i=tt[n+c>>2]+i|0,(0|e)==(0|(a=a+1|0)))break}},E[10]=function(t){var e=0,r=0,i=0,n=0,o=0,a=0,s=0;if(!(tt[380+(t|=0)>>2]||(0|(e=tt[t+200>>2]))<1))for(a=(r=tt[t+204>>2])+(e<<4)|0,e=tt[t+248>>2],n=tt[t+272>>2];;){if(tt[e>>2]&&(t=1,!((0|(i=tt[r+12>>2]))<1)))for(i<<=1,s=tt[n>>2];et[(o=(t<<2)+s|0)>>2]=-et[o>>2],(0|(t=t+2|0))<(0|i););if(n=n+4|0,e=e+4|0,!((r=r+16|0)>>>0<a>>>0))break}},E[11]=function(t,e,r){e|=0,r|=0;var i,n=0;return fa(i=tt[20+(t|=0)>>2],e,n=r>>>0<(n=tt[t+16>>2]-i|0)>>>0?r:n),tt[t+20>>2]=n+tt[t+20>>2],0|r},E[12]=function(t){return 0},E[13]=function(t,e,r){e|=0,r|=0;var i,n=0,o=0,a=0,s=0,u=0;for(at=i=at-32|0,n=tt[28+(t|=0)>>2],tt[16+i>>2]=n,a=tt[t+20>>2],tt[28+i>>2]=r,tt[24+i>>2]=e,e=a-n|0,a=(tt[20+i>>2]=e)+r|0,s=2,e=16+i|0;;){t:{if((o=(n=0)|S(tt[t+60>>2],0|e,0|s,12+i|0))&&(tt[1906]=o,n=-1),(0|(n=n?tt[12+i>>2]=-1:tt[12+i>>2]))!=(0|a)){if(-1<(0|n))break t;tt[t+28>>2]=0,tt[t+16>>2]=0,tt[t+20>>2]=0,tt[t>>2]=32|tt[t>>2],2!=((t=0)|s)&&(t=r-tt[e+4>>2]|0)}else e=tt[t+44>>2],tt[t+28>>2]=e,tt[t+20>>2]=e,tt[t+16>>2]=e+tt[t+48>>2],t=r;return at=32+i|0,0|t}o=n-((u=(o=tt[e+4>>2])>>>0<n>>>0)?o:0)|0,tt[(e=u?e+8|0:e)>>2]=o+tt[e>>2],tt[e+4>>2]=tt[e+4>>2]-o,a=a-n|0,s=s-u|0}},E[14]=function(t,e,r,i){return U=0},E[15]=function(t,r,i,n,o,a){t|=0,r=+r,i|=0,n|=0,o|=0,a|=0;var s,u,l,c=0,p=0,d=0,m=0,y=0,b=0,A=0,C=0,v=0,M=0,S=0,w=0,x=0,B=0,P=0,I=0,V=0;if(tt[44+(at=s=at-560|0)>>2]=0,h(+r),c=0|e(1),l=4294967295<e(0)>>>0?0:1,u=(0|c)<-1||(0|c)<=-1&&l?(h(+(r=-r)),c=0|e(1),e(0),P=1,3184):2048&o?(P=1,3187):(P=1&o)?3190:3185,2146435072!=(2146435072&c))if(r=function na(t,r){var i,n,o=0;if(h(+t),o=0|e(1),i=0|e(0),2047!=(0|(o=(n=o)>>>20&2047))){if(!o)return o=r,r=0==t?0:(t=na(0x10000000000000000*t,r),tt[r>>2]+-64|0),tt[o>>2]=r,t;tt[r>>2]=o+-1022,f(0,0|i),f(1,-2146435073&n|1071644672),t=+g()}return t}(r,44+s|0),0!=(r+=r)&&(tt[44+s>>2]=tt[44+s>>2]+-1),w=16+s|0,97!=(0|(I=32|a))){for(c=(0|n)<0,0!=r?(m=tt[44+s>>2]+-28|0,tt[44+s>>2]=m,r*=268435456):m=tt[44+s>>2],A=c?6:n,d=M=(0|m)<0?48+s|0:336+s|0;c=r<4294967296&0<=r?~~r>>>0:0,d=(n=d)+4|0,0!=(r=1e9*(r-((tt[n>>2]=c)>>>0))););if((0|m)<1)c=d,p=M;else for(p=M;;){if(v=(0|m)<29?m:29,!((c=d+-4|0)>>>0<p>>>0)){for(n=v,C=0;b=0,V=C,C=tt[(S=c)>>2],y=31&n,y=32<=(63&n)>>>0?(m=C<<y,0):(m=(1<<y)-1&C>>>32-y,C<<y),b=m+b|0,b=(C=V+y|0)>>>0<y>>>0?b+1|0:b,V=S,S=gc(C=hc(y=C,b,1e9),U,1e9),tt[V>>2]=y-S,p>>>0<=(c=c+-4|0)>>>0;);(n=C)&&(tt[(p=p+-4|0)>>2]=n)}for(;p>>>0<(c=d)>>>0&&!tt[(d=c+-4|0)>>2];);if(m=tt[44+s>>2]-v|0,d=c,!(0<(0|(tt[44+s>>2]=m))))break}if((0|m)<=-1)for(B=1+((A+25|0)/9|0)|0,v=102==(0|I);;){if(C=(0|m)<-9?9:0-m|0,c>>>0<=p>>>0)p=tt[p>>2]?p:p+4|0;else{for(S=1e9>>>C,y=-1<<C^-1,m=0,d=p;n=tt[d>>2],tt[d>>2]=(n>>>C)+m,m=it(S,n&y),(d=d+4|0)>>>0<c>>>0;);p=tt[p>>2]?p:p+4|0,m&&(tt[c>>2]=m,c=c+4|0)}if(m=C+tt[44+s>>2]|0,c=(0|B)<c-(n=v?M:p)>>2?n+(B<<2)|0:c,!((0|(tt[44+s>>2]=m))<0))break}if(!(c>>>(d=0)<=p>>>0||(d=it(M-p>>2,9),m=10,(n=tt[p>>2])>>>0<10)))for(;d=d+1|0,(m=it(m,10))>>>0<=n>>>0;);if((0|(n=(A-(102==(0|I)?0:d)|0)-(103==(0|I)&0!=(0|A))|0))<(it(c-M>>2,9)+-9|0)){if(b=(M+((n=(0|(y=n+9216|0))/9|0)<<2)|0)-4092|0,m=10,(0|(n=1+(y-it(n,9)|0)|0))<=8)for(;m=it(m,10),9!=(0|(n=n+1|0)););if(B=b+4|0,((v=(S=tt[b>>2])-it(m,y=(S>>>0)/(m>>>0)|0)|0)||(0|B)!=(0|c))&&(x=v>>>0<(n=m>>>1)>>>0?.5:(0|c)==(0|B)&&(0|n)==(0|v)?1:1.5,r=1&y?9007199254740994:9007199254740992,!P|45!=R[0|u]||(x=-x,r=-r),n=S-v|0,tt[b>>2]=n,r+x!=r)){if(n=n+m|0,1e9<=(tt[b>>2]=n)>>>0)for(;(b=b+-4|(tt[b>>2]=0))>>>0<p>>>0&&(tt[(p=p+-4|0)>>2]=0),n=tt[b>>2]+1|0,999999999<(tt[b>>2]=n)>>>0;);if(d=it(M-p>>2,9),m=10,!((n=tt[p>>2])>>>0<10))for(;d=d+1|0,(m=it(m,10))>>>0<=n>>>0;);}c=(n=b+4|0)>>>0<c>>>0?n:c}t:{for(;;){if((v=c)>>>(S=0)<=p>>>0)break t;if(tt[(c=v+-4|0)>>2])break}S=1}if(103==(0|I)){if(A=((n=(0|d)<(0|(c=A||1))&-5<(0|d))?-1^d:-1)+c|0,a=(n?-1:-2)+a|0,!(y=8&o)){if(c=9,S&&(y=tt[v+-4>>2])&&!((y>>>(c=0))%(n=10)))for(;c=c+1|0,!((y>>>0)%((n=it(n,10))>>>0)););n=it(v-M>>2,9)+-9|0,A=102!=(32|a)?((y=0)|A)<(0|(n=0<(0|(n=(n+d|0)-c|0))?n:0))?A:n:((y=0)|A)<(0|(n=0<(0|(n=n-c|0))?n:0))?A:n}}else y=8&o;if(b=0!=(0|(m=A|y)),n=t,V=i,c=0<(0|d)?d:0,102!=(0|(C=32|a))){if((w-(c=ea((c=d>>31)+d^c,0,w))|0)<=1)for(;T[0|(c=c+-1|0)]=48,(w-c|0)<2;);T[0|(B=c+-2|0)]=a,T[c+-1|0]=(0|d)<0?45:43,c=w-B|0}if(_(n,32,V,b=1+(c+(b+(A+P|0)|0)|0)|0,o),Z(t,u,P),_(t,48,i,b,65536^o),102!=(0|C)){t:if(!((0|A)<0))for(a=S?v:p+4|0,n=16+s|8,M=16+s|9,d=p;;){(0|M)==(0|(c=ea(tt[d>>2],0,M)))&&(T[24+s|0]=48,c=n);e:if((0|p)==(0|d))Z(t,c,1),c=c+1|0,(0|A)<1&&!y||Z(t,3219,1);else{if(c>>>0<=16+s>>>0)break e;for(;T[0|(c=c+-1|0)]=48,16+s>>>0<c>>>0;);}if(Z(t,C=c,(0|(c=M-c|0))<(0|A)?c:A),A=A-c|0,a>>>0<=(d=d+4|0)>>>0)break t;if(!(-1<(0|A)))break}_(t,48,A+18|0,18,0),Z(t,B,w-B|0)}else{for(n=16+s|8,d=16+s|9,p=a=M>>>0<p>>>0?M:p;;){c=ea(tt[p>>2],0,d);t:if((0|a)==(0|p))(0|c)==(0|d)&&(T[24+s|0]=48,c=n);else{if(c>>>0<=16+s>>>0)break t;for(;T[0|(c=c+-1|0)]=48,16+s>>>0<c>>>0;);}if(Z(t,c,d-c|0),!((p=p+4|0)>>>0<=M>>>0))break}m&&Z(t,3219,1);t:if(!((0|A)<1|v>>>0<=p>>>0))for(;;){if(16+s>>>0<(c=ea(tt[p>>2],0,d))>>>0)for(;T[0|(c=c+-1|0)]=48,16+s>>>0<c>>>0;);if(Z(t,c,(0|A)<9?A:9),A=A+-9|0,v>>>0<=(p=p+4|0)>>>0)break t;if(!(0<(0|A)))break}_(t,48,A+9|0,9,0)}}else{if(S=(M=32&a)?9+u|0:u,!(11<n>>>0)&&(c=12-n|0)){for(x=8;x*=16,c=c+-1|0;);r=45!=R[0|S]?r+x-x:-(x+(-r-x))}for((0|w)==(0|(c=ea((d=(c=tt[44+s>>2])>>31)^c+d,0,w)))&&(T[15+s|0]=48,c=15+s|0),y=2|P,d=tt[44+s>>2],T[0|(v=c+-2|0)]=a+15,T[c+-1|0]=(0|d)<0?45:43,c=8&o,p=16+s|0;a=p,C=M,d=ot(r)<2147483648?~~r:-2147483648,T[0|p]=C|R[d+3168|0],1!=((p=a+1|0)-(16+s|0)|0)|(0==(r=16*(r-(0|d)))?!(c|0<(0|n)):0)||(T[a+1|0]=46,p=a+2|0),0!=r;);_(t,32,i,b=(a=!n|(0|n)<=((p-s|0)-18|0)?((w-(16+s|0)|0)-v|0)+p|0:2+((n+w|0)-v|0)|0)+y|0,o),Z(t,S,y),_(t,48,i,b,65536^o),Z(t,16+s|0,n=p-(16+s|0)|0),_(t,48,a-((c=n)+(n=w-v|0)|0)|0,0,0),Z(t,v,n)}else _(t,32,i,b=P+3|0,-65537&o),Z(t,u,P),n=a>>>5&1,Z(t,r!=r?n?3211:3215:n?3203:3207,3);return _(t,32,i,b,8192^o),at=560+s|0,0|((0|b)<(0|i)?i:b)},E[16]=function(t,e){var r,i,n;t|=0,e=tt[(r=e|=0)>>2]+15&-16,tt[r>>2]=e+16,i=t,n=function(t,e,r,i){var n,o,a,s,u,l,c,h,p,d,m,_,y,b=0,A=0,C=0;at=n=at-32|0,b=(o=b=2147483647&i)-1006698496|0,(A=C=r)>>>0<0&&(b=b+1|0),a=A,A=b,b=o-1140785152|0,C>>>0<0&&(b=b+1|0);t:if((0|b)==(0|A)&a>>>0<C>>>0|A>>>0<b>>>0){if(b=i<<4|r>>>28,r=r<<4|e>>>28,134217728==(0|(C=e&=268435455))&1<=t>>>0|134217728<e>>>0){b=b+1073741824|0,(t=r+1|0)>>>0<1&&(b=b+1|0),A=t;break t}if(b=b-(((A=r)>>>0<0)+-1073741824|0)|0,t|134217728^C)break t;(t=A+(1&A)|0)>>>0<A>>>0&&(b=b+1|0),A=t}else(!C&2147418112==(0|o)?!(t|e):2147418112==(0|o)&C>>>0<0|o>>>0<2147418112)?(b=2146435072,1140785151==((A=0)|o)&4294967295<C>>>0|1140785151<o>>>0||(C=o>>>16)>>>(b=0)<15249||(function(t,e,r,i,n,o){var a=0,s=0,u=0,l=0;e:if(64&o)e=31&(r=o-64|0),e=32<=(63&r)>>>0?(r=0,n>>>e):(r=n>>>e,((1<<e)-1&n)<<32-e|i>>>e),n=i=0;else{if(!o)break e;s=n,u=i,a=31&(l=64-o|0),l=32<=(63&l)>>>0?(s=u<<a,0):(s=(1<<a)-1&u>>>32-a|s<<a,u<<a),u=e,e=31&(a=o),e=32<=(63&a)>>>0?(a=0,r>>>e):(a=r>>>e,((1<<e)-1&r)<<32-e|u>>>e),e|=l,r=a|s,a=i,i=31&o,i=32<=(63&o)>>>0?(s=0,n>>>i):(s=n>>>i,((1<<i)-1&n)<<32-i|a>>>i),n=s}tt[t>>2]=e,tt[4+t>>2]=r,tt[8+t>>2]=i,tt[12+t>>2]=n}(n,t,e,r,b=65535&i|65536,15361-C|0),s=16+n|0,u=t,l=e,c=r,h=b,p=C+-15233|0,d=0,m=0,_=0,y=0,64&p?(c=u,u=31&(h=p+-64|0),32<=(63&h)>>>0?(h=c<<u,c=0):(h=(1<<u)-1&c>>>32-u|l<<u,c<<=u),l=u=0):p&&(d=c,c=31&(_=p),y=32<=(63&p)>>>0?(m=d<<c,0):(m=(1<<c)-1&d>>>32-c|h<<c,d<<c),c=l,d=u,h=31&(p=64-p|0),32<=(63&p)>>>0?(p=0,c>>>=h):(p=c>>>h,c=((1<<h)-1&c)<<32-h|d>>>h),c|=y,h=p|m,p=u,u=31&_,u=32<=(63&_)>>>0?(m=p<<u,0):(m=(1<<u)-1&p>>>32-u|l<<u,p<<u),l=m),tt[s>>2]=u,tt[4+s>>2]=l,tt[8+s>>2]=c,tt[12+s>>2]=h,r=tt[4+n>>2],t=tt[8+n>>2],b=tt[12+n>>2]<<4|t>>>28,A=t<<4|r>>>28,134217728==(0|(r=t=268435455&r))&1<=(e=tt[n>>2]|0!=(tt[16+n>>2]|tt[24+n>>2])|0!=(tt[20+n>>2]|tt[28+n>>2]))>>>0|134217728<t>>>0?((t=A+1|0)>>>0<1&&(b=b+1|0),A=t):e|134217728^r||((t=A+(1&A)|0)>>>0<A>>>0&&(b=b+1|0),A=t))):(A=r<<4|e>>>28,b=524287&(b=i<<4|r>>>28)|2146959360);return at=32+n|0,f(0,0|A),f(1,-2147483648&i|b),+g()}(tt[e>>2],tt[e+4>>2],tt[e+8>>2],tt[e+12>>2]),rt[i>>3]=n},{d:function(){},e:function(){return 67108864},f:function(){return 3},g:function(t,e){return e|=0,at=e=at-16|0,t=(t|=0)?ma(t)?(Y(4,1533,0),0):R[t+4|0]:(tt[e+4>>2]=1246,tt[e>>2]=1671,Y(4,1087,e),0),at=e+16|0,0|t},h:function(t){t|=0,tt[1641]=t},i:function(t,e){var r;return e|=0,at=r=at-48|0,t=(t|=0)?(t+63&-64)==(0|t)?(e+63&-64)==(0|e)&&e?function(t){var e,r,i,n,o,a,s,u,l=0,c=0,h=0,f=0,g=0,p=0,d=0,m=0,_=0,y=0;if(tt[24+(at=e=at-32|0)>>2]=0,tt[16+e>>2]=4,r=16+e|(tt[20+e>>2]=0),sa(16+(at=i=at-272|0)|0,1611,tt[12+i>>2]=r),n=16+i|0,tt[(at=o=at-16|0)>>2]=n,a=tt[670],s=o,ra(a,1176,tt[12+(at=u=at-16|0)>>2]=s,0,0),at=16+u|0,at=16+o|0,at=272+i|0,ma(t))Y(4,1183,0),t=0;else if(4<=(c=R[t+4|0])>>>0)tt[4+e>>2]=c,tt[e>>2]=3,Y(4,1332,e),t=0;else{for(1!=(0|(f=!R[t+5|0]))&&(ca(t+4|0,1),X(t- -64|0,4,160),T[t+5|0]=0),l=t- -64|0,h=102,c=t+704|0;tt[c>>2]=tt[l>>2]+t,c=c+4|0,l=l+4|0,h=h+-1|0;);if(1!=(0|f)&&(c=R[t+4|0],X(tt[t+704>>2],4,32),ca(tt[t+708>>2],4),ca(tt[t+708>>2]+4|0,4),ca(tt[t+708>>2]+8|0,4),ca(tt[t+708>>2]+12|0,4),ca(tt[t+708>>2]+16|0,4),ca(tt[t+708>>2]+20|0,1),X(tt[t+720>>2],4,tt[tt[t+704>>2]>>2]),X(tt[t+724>>2],4,tt[tt[t+704>>2]>>2]),X(tt[t+728>>2],4,tt[tt[t+704>>2]>>2]),X(tt[t+732>>2],4,tt[tt[t+704>>2]>>2]),X(tt[t+736>>2],4,tt[tt[t+704>>2]>>2]),X(tt[t+740>>2],4,tt[tt[t+704>>2]>>2]),X(tt[t+752>>2],4,tt[tt[t+704>>2]+4>>2]),X(tt[t+756>>2],4,tt[tt[t+704>>2]+4>>2]),X(tt[t+760>>2],4,tt[tt[t+704>>2]+4>>2]),X(tt[t+764>>2],4,tt[tt[t+704>>2]+4>>2]),X(tt[t+768>>2],4,tt[tt[t+704>>2]+4>>2]),X(tt[t+772>>2],4,tt[tt[t+704>>2]+4>>2]),X(tt[t+776>>2],4,tt[tt[t+704>>2]+4>>2]),X(tt[t+780>>2],4,tt[tt[t+704>>2]+8>>2]),X(tt[t+784>>2],4,tt[tt[t+704>>2]+8>>2]),X(tt[t+788>>2],4,tt[tt[t+704>>2]+8>>2]),X(tt[t+792>>2],4,tt[tt[t+704>>2]+8>>2]),X(tt[t+796>>2],4,tt[tt[t+704>>2]+8>>2]),X(tt[t+800>>2],4,tt[tt[t+704>>2]+8>>2]),X(tt[t+804>>2],4,tt[tt[t+704>>2]+12>>2]),X(tt[t+808>>2],4,tt[tt[t+704>>2]+12>>2]),X(tt[t+812>>2],4,tt[tt[t+704>>2]+12>>2]),X(tt[t+816>>2],4,tt[tt[t+704>>2]+12>>2]),X(tt[t+840>>2],4,tt[tt[t+704>>2]+16>>2]),X(tt[t+844>>2],4,tt[tt[t+704>>2]+16>>2]),X(tt[t+848>>2],4,tt[tt[t+704>>2]+16>>2]),X(tt[t+852>>2],4,tt[tt[t+704>>2]+16>>2]),X(tt[t+856>>2],4,tt[tt[t+704>>2]+16>>2]),X(tt[t+860>>2],4,tt[tt[t+704>>2]+16>>2]),X(tt[t+864>>2],4,tt[tt[t+704>>2]+16>>2]),X(tt[t+868>>2],4,tt[tt[t+704>>2]+16>>2]),X(tt[t+872>>2],1,tt[tt[t+704>>2]+16>>2]),X(tt[t+876>>2],4,tt[tt[t+704>>2]+16>>2]),X(tt[t+880>>2],4,tt[tt[t+704>>2]+16>>2]),X(tt[t+884>>2],4,tt[tt[t+704>>2]+16>>2]),X(tt[t+888>>2],4,tt[tt[t+704>>2]+16>>2]),X(tt[t+892>>2],4,tt[tt[t+704>>2]+16>>2]),X(tt[t+896>>2],4,tt[tt[t+704>>2]+16>>2]),X(tt[t+908>>2],4,tt[tt[t+704>>2]+20>>2]),X(tt[t+912>>2],4,tt[tt[t+704>>2]+20>>2]),X(tt[t+916>>2],4,tt[tt[t+704>>2]+20>>2]),X(tt[t+920>>2],4,tt[tt[t+704>>2]+20>>2]),X(tt[t+924>>2],4,tt[tt[t+704>>2]+20>>2]),X(tt[t+928>>2],4,tt[tt[t+704>>2]+20>>2]),X(tt[t+932>>2],4,tt[tt[t+704>>2]+20>>2]),X(tt[t+936>>2],4,tt[tt[t+704>>2]+24>>2]),X(tt[t+940>>2],4,tt[tt[t+704>>2]+28>>2]),X(tt[t+944>>2],4,tt[tt[t+704>>2]+28>>2]),X(tt[t+948>>2],4,tt[tt[t+704>>2]+32>>2]),X(tt[t+952>>2],4,tt[tt[t+704>>2]+32>>2]),X(tt[t+956>>2],4,tt[tt[t+704>>2]+32>>2]),X(tt[t+960>>2],4,tt[tt[t+704>>2]+32>>2]),X(tt[t+964>>2],4,tt[tt[t+704>>2]+32>>2]),X(tt[t+968>>2],4,tt[tt[t+704>>2]+32>>2]),X(tt[t+972>>2],4,tt[tt[t+704>>2]+32>>2]),X(tt[t+976>>2],4,tt[tt[t+704>>2]+36>>2]),X(tt[t+980>>2],4,tt[tt[t+704>>2]+36>>2]),X(tt[t+984>>2],4,tt[tt[t+704>>2]+36>>2]),X(tt[t+988>>2],4,tt[tt[t+704>>2]+40>>2]),X(tt[t+992>>2],4,tt[tt[t+704>>2]+44>>2]),X(tt[t+996>>2],4,tt[tt[t+704>>2]+48>>2]),X(tt[t+1e3>>2],4,tt[tt[t+704>>2]+48>>2]),X(tt[t+1004>>2],4,tt[tt[t+704>>2]+52>>2]),X(tt[t+1008>>2],4,tt[tt[t+704>>2]+52>>2]),X(tt[t+1012>>2],4,tt[tt[t+704>>2]+56>>2]),X(tt[t+1016>>2],4,tt[tt[t+704>>2]+60>>2]),X(tt[t+1020>>2],2,tt[tt[t+704>>2]+64>>2]),X(tt[t+1024>>2],4,tt[tt[t+704>>2]+68>>2]),X(tt[t+1028>>2],4,tt[tt[t+704>>2]+72>>2]),X(tt[t+1032>>2],4,tt[tt[t+704>>2]+72>>2]),X(tt[t+1036>>2],4,tt[tt[t+704>>2]+72>>2]),X(tt[t+1040>>2],4,tt[tt[t+704>>2]+72>>2]),X(tt[t+1044>>2],4,tt[tt[t+704>>2]+72>>2]),X(tt[t+1048>>2],4,tt[tt[t+704>>2]+76>>2]),X(tt[t+1052>>2],4,tt[tt[t+704>>2]+76>>2]),X(tt[t+1056>>2],4,tt[tt[t+704>>2]+76>>2]),X(tt[t+1068>>2],4,tt[tt[t+704>>2]+80>>2]),X(tt[t+1072>>2],4,tt[tt[t+704>>2]+80>>2]),X(tt[t+1076>>2],4,tt[tt[t+704>>2]+80>>2]),X(tt[t+1080>>2],4,tt[tt[t+704>>2]+80>>2]),X(tt[t+1084>>2],4,tt[tt[t+704>>2]+80>>2]),X(tt[t+1088>>2],4,tt[tt[t+704>>2]+80>>2]),X(tt[t+1092>>2],4,tt[tt[t+704>>2]+80>>2]),X(tt[t+1096>>2],4,tt[tt[t+704>>2]+84>>2]),X(tt[t+1100>>2],2,tt[tt[t+704>>2]+84>>2]),X(tt[t+1104>>2],4,tt[tt[t+704>>2]+88>>2]),c>>>0<2||X(tt[t+1108>>2],4,tt[tt[t+704>>2]+8>>2])),tt[1643]=5,tt[1642]=6,tt[1644]=7,tt[1645]=8,tt[1646]=9,tt[1647]=10,l=tt[t+704>>2],1<=tt[l>>2])for(c=0;tt[tt[t+712>>2]+(c<<2)>>2]=tt[t+716>>2]+(c<<6),c=c+1|0,l=tt[t+704>>2],(0|c)<tt[l>>2];);if(1<=tt[l+4>>2])for(c=0;tt[tt[t+744>>2]+(c<<2)>>2]=tt[t+748>>2]+(c<<6),c=c+1|0,l=tt[t+704>>2],(0|c)<tt[l+4>>2];);if(1<=tt[l+16>>2])for(c=0;tt[(l=c<<2)+tt[t+820>>2]>>2]=tt[t+836>>2]+(c<<6),tt[l+tt[t+824>>2]>>2]=tt[t+1016>>2]+(tt[l+tt[t+880>>2]>>2]<<2),tt[l+tt[t+828>>2]>>2]=tt[t+1020>>2]+(tt[l+tt[t+884>>2]>>2]<<1),tt[l+tt[t+832>>2]>>2]=tt[t+1024>>2]+(tt[l+tt[t+892>>2]>>2]<<2),c=c+1|0,l=tt[t+704>>2],(0|c)<tt[l+16>>2];);if(1<=tt[l+20>>2])for(c=0;tt[tt[t+900>>2]+(c<<2)>>2]=tt[t+904>>2]+(c<<6),c=c+1|0,l=tt[t+704>>2],(0|c)<tt[l+20>>2];);if(1<=tt[l+80>>2])for(c=0;tt[tt[t+1060>>2]+(c<<2)>>2]=tt[t+1064>>2]+(c<<6),c=c+1|0,l=tt[t+704>>2],(0|c)<tt[l+80>>2];);if(!(1&T[tt[t+708>>2]+20|0]||(0|(f=tt[l+16>>2]))<1)){for(p=tt[t+888>>2],d=tt[t+884>>2],g=tt[t+1020>>2],c=0;;){if(0<(0|(m=tt[(l=c<<2)+p>>2]+-1|0)))for(_=g+(tt[l+d>>2]<<1)|0,l=0;y=L[(h=(l<<1)+_|0)>>1],M[h>>1]=L[h+4>>1],M[h+4>>1]=y,(0|(l=l+3|0))<(0|m););if((0|f)==(0|(c=c+1|0)))break}for(c=tt[t+876>>2],p=tt[t+880>>2],d=tt[t+1016>>2],h=0;;){if(1<=(0|(g=tt[(l=h<<2)+c>>2])))for(g=(l=d+(tt[l+p>>2]<<2)|0)+(g<<3)|0,l=l+4|0;et[l>>2]=nt(1)-et[l>>2],(l=l+8|0)>>>0<g>>>0;);if((0|f)==(0|(h=h+1|0)))break}}}return at=32+e|0,t}(t):(tt[20+r>>2]=1592,tt[16+r>>2]=1688,Y(4,1087,16+r|0),0):(tt[36+r>>2]=1441,tt[32+r>>2]=1688,Y(4,1087,32+r|0),0):(tt[4+r>>2]=1246,tt[r>>2]=1688,Y(4,1087,r),0),at=48+r|0,0|t},j:function(t,e,r,i){var n;e|=0,r|=0,i|=0,at=n=at+-64|0,(t|=0)?e?r?i?(t=tt[tt[t>>2]+708>>2],tt[e>>2]=tt[t+12>>2],tt[e+4>>2]=tt[t+16>>2],tt[r>>2]=tt[t+4>>2],tt[r+4>>2]=tt[t+8>>2],tt[i>>2]=tt[t>>2]):(tt[52+n>>2]=1782,tt[48+n>>2]=1708,Y(4,1087,48+n|0)):(tt[36+n>>2]=1753,tt[32+n>>2]=1708,Y(4,1087,32+n|0)):(tt[20+n>>2]=1726,tt[16+n>>2]=1708,Y(4,1087,16+n|0)):(tt[4+n>>2]=1651,tt[n>>2]=1708,Y(4,1087,n)),at=64+n|0},k:wa,l:va,m:function(t){var e;at=e=at-16|0,(t|=0)?ta(t):(tt[4+e>>2]=1651,tt[e>>2]=1890,Y(4,1087,e)),at=16+e|0},n:function(t){var e;return at=e=at-16|0,t=(t|=0)?tt[t+292>>2]:(tt[4+e>>2]=1651,tt[e>>2]=1905,Y(4,1087,e),-1),at=16+e|0,0|t},o:function(t){var e;return at=e=at-16|0,t=(t|=0)?tt[tt[t>>2]+900>>2]:(tt[4+e>>2]=1651,tt[e>>2]=1926,Y(4,1087,e),0),at=16+e|0,0|t},p:function(t){var e;return at=e=at-16|0,t=(t|=0)?tt[tt[t>>2]+912>>2]:(tt[4+e>>2]=1651,tt[e>>2]=1945,Y(4,1087,e),0),at=16+e|0,0|t},q:function(t){var e;return at=e=at-16|0,t=(t|=0)?tt[tt[t>>2]+908>>2]:(tt[4+e>>2]=1651,tt[e>>2]=1974,Y(4,1087,e),0),at=16+e|0,0|t},r:function(t){var e;return at=e=at-16|0,t=(t|=0)?tt[tt[t>>2]+916>>2]:(tt[4+e>>2]=1651,tt[e>>2]=2003,Y(4,1087,e),0),at=16+e|0,0|t},s:function(t){var e;return at=e=at-16|0,t=(t|=0)?tt[t+300>>2]:(tt[4+e>>2]=1651,tt[e>>2]=2032,Y(4,1087,e),0),at=16+e|0,0|t},t:function(t){var e;return at=e=at-16|0,t=(t|=0)?tt[t+4>>2]:(tt[4+e>>2]=1651,tt[e>>2]=2054,Y(4,1087,e),-1),at=16+e|0,0|t},u:function(t){var e;return at=e=at-16|0,t=(t|=0)?tt[tt[t>>2]+712>>2]:(tt[4+e>>2]=1651,tt[e>>2]=2070,Y(4,1087,e),0),at=16+e|0,0|t},v:function(t){var e;return at=e=at-16|0,t=(t|=0)?tt[t+52>>2]:(tt[4+e>>2]=1651,tt[e>>2]=2084,Y(4,1087,e),0),at=16+e|0,0|t},w:function(t){var e;return at=e=at-16|0,t=(t|=0)?tt[tt[t>>2]+740>>2]:(tt[4+e>>2]=1651,tt[e>>2]=2104,Y(4,1087,e),0),at=16+e|0,0|t},x:function(t){var e;return at=e=at-16|0,t=(t|=0)?tt[t+200>>2]:(tt[4+e>>2]=1651,tt[e>>2]=2132,Y(4,1087,e),-1),at=16+e|0,0|t},y:function(t){var e;return at=e=at-16|0,t=(t|=0)?tt[tt[t>>2]+820>>2]:(tt[4+e>>2]=1651,tt[e>>2]=2152,Y(4,1087,e),0),at=16+e|0,0|t},z:function(t){var e;return at=e=at-16|0,t=(t|=0)?tt[tt[t>>2]+872>>2]:(tt[4+e>>2]=1651,tt[e>>2]=2170,Y(4,1087,e),0),at=16+e|0,0|t},A:function(t){var e;return at=e=at-16|0,t=(t|=0)?tt[t+260>>2]:(tt[4+e>>2]=1651,tt[e>>2]=2198,Y(4,1087,e),0),at=16+e|0,0|t},B:function(t){var e;return at=e=at-16|0,t=(t|=0)?tt[tt[t>>2]+868>>2]:(tt[4+e>>2]=1651,tt[e>>2]=2225,Y(4,1087,e),0),at=16+e|0,0|t},C:function(t){var e;return at=e=at-16|0,t=(t|=0)?tt[t+268>>2]:(tt[4+e>>2]=1651,tt[e>>2]=2254,Y(4,1087,e),0),at=16+e|0,0|t},D:function(t){var e;return at=e=at-16|0,t=(t|=0)?tt[t+264>>2]:(tt[4+e>>2]=1651,tt[e>>2]=2279,Y(4,1087,e),0),at=16+e|0,0|t},E:function(t){var e;return at=e=at-16|0,t=(t|=0)?tt[t+276>>2]:(tt[4+e>>2]=1651,tt[e>>2]=2306,Y(4,1087,e),0),at=16+e|0,0|t},F:function(t){var e;return at=e=at-16|0,t=(t|=0)?tt[tt[t>>2]+896>>2]:(tt[4+e>>2]=1651,tt[e>>2]=2330,Y(4,1087,e),0),at=16+e|0,0|t},G:function(t){var e;return at=e=at-16|0,t=(t|=0)?tt[tt[t>>2]+832>>2]:(tt[4+e>>2]=1651,tt[e>>2]=2355,Y(4,1087,e),0),at=16+e|0,0|t},H:function(t){var e;return at=e=at-16|0,t=(t|=0)?tt[tt[t>>2]+876>>2]:(tt[4+e>>2]=1651,tt[e>>2]=2375,Y(4,1087,e),0),at=16+e|0,0|t},I:function(t){var e;return at=e=at-16|0,t=(t|=0)?tt[t+272>>2]:(tt[4+e>>2]=1651,tt[e>>2]=2402,Y(4,1087,e),0),at=16+e|0,0|t},J:function(t){var e;return at=e=at-16|0,t=(t|=0)?tt[tt[t>>2]+824>>2]:(tt[4+e>>2]=1651,tt[e>>2]=2432,Y(4,1087,e),0),at=16+e|0,0|t},K:function(t){var e;return at=e=at-16|0,t=(t|=0)?tt[tt[t>>2]+888>>2]:(tt[4+e>>2]=1651,tt[e>>2]=2456,Y(4,1087,e),0),at=16+e|0,0|t},L:function(t){var e;return at=e=at-16|0,t=(t|=0)?tt[tt[t>>2]+828>>2]:(tt[4+e>>2]=1651,tt[e>>2]=2482,Y(4,1087,e),0),at=16+e|0,0|t},M:function(t){var e;at=e=at-16|0,(t|=0)?tt[t+256>>2]=1:(tt[4+e>>2]=1651,tt[e>>2]=2504,Y(4,1087,e)),at=16+e|0},N:function(t){var e;return ya(12+(at=e=at-16|0)|0,64,t|=0),at=16+e|0,tt[12+e>>2]},O:function(t){var e,r=0,i=0;return at=e=at-16|0,(t|=0)&&(ya(12+e|0,16,i=wa(t))||(r=va(t,tt[12+e>>2],i))||(za(tt[12+e>>2]),r=0)),at=16+e|0,0|r},P:function(t){return 0|ja(t|=0)},Q:function(t){za(t|=0)},R:function(){return 0|at},S:function(t){return 0|(at=at-(t|=0)&-16)},T:function(t){at=t|=0},U:function(t){return 0|function(t){t|=0;var e=0|N(),r=e+t|0;if(e<r&&r<65536){var i=new ArrayBuffer(it(r,65536)),n=new c.Int8Array(i);n.set(T),T=n,T=new c.Int8Array(i),M=new c.Int16Array(i),tt=new c.Int32Array(i),R=new c.Uint8Array(i),L=new c.Uint16Array(i),y=new c.Uint32Array(i),et=new c.Float32Array(i),rt=new c.Float64Array(i),d=i,m.buffer=i}return e}(0|(t|=0))},V:function(t,e){e|=0,E[t|=0](e)}})};function e(t){return o[t]}function f(t,e){o[t]=e}function g(){return s[0]}function h(t){s[0]=t}function j(t){a[0]=t}function k(){return a[0]}function X(t,e,r){var i=0,n=0,o=0;if(r)for(;;){if(r=r+-1|0,t>>>0<(i=(n=t+e|0)-1|0)>>>0)for(;o=R[0|t],T[0|t]=R[0|i],T[0|i]=o,(t=t+1|0)>>>0<(i=i+-1|0)>>>0;);if(t=n,!r)break}}function Y(t,e,r){var i;at=i=at-272|0,y[1640]>t>>>0||(t=tt[1641])&&(sa(16+i|0,e,tt[12+i>>2]=r),E[t](16+i|0)),at=272+i|0}function Z(t,e,r){32&R[0|t]||function(t,e,r){var i,n,o=0,a=0,s=0;t:{if(!(o=tt[r+16>>2])){if(n=R[(i=r)+74|(n=0)],T[i+74|0]=n+-1|n,8&(n=tt[i>>2])?(tt[i>>2]=32|n,-1):(tt[i+4>>2]=0,tt[i+8>>2]=0,n=tt[i+44>>2],tt[i+28>>2]=n,tt[i+20>>2]=n,tt[i+16>>2]=n+tt[i+48>>2],0))break t;o=tt[r+16>>2]}if(o-(s=tt[r+20>>2])>>>0<e>>>0)return E[tt[r+36>>2]](r,t,e);e:if(!(T[r+75|0]<0)){for(o=e;;){if(!(a=o))break e;if(10==R[(o=a+-1|0)+t|0])break}if(E[tt[r+36>>2]](r,t,a)>>>0<a>>>0)break t;e=e-a|0,t=t+a|0,s=tt[r+20>>2]}fa(s,t,e),tt[r+20>>2]=tt[r+20>>2]+e}}(e,r,t)}function _(t,e,r,i,n){var o,a=0,s=0;if(at=o=at-256|0,!(73728&n|(0|r)<=(0|i))){if(ba(o,e,(a=(n=r-i|0)>>>0<256)?n:256),e=t,s=o,!a){for(r=r-i|0;Z(t,o,256),255<(n=n+-256|0)>>>0;);n=255&r}Z(e,s,n)}at=256+o|0}function $(t){var e,r;return nt((e=t*t)*e*(r=e*t)*(2718311493989822e-21*e-.00019839334836096632)+(r*(.008333329385889463*e-.16666666641626524)+t))}function aa(t){var e;return nt(-.499999997251031*(t*=t)+1+.04166662332373906*(e=t*t)+t*e*(2439044879627741e-20*t-.001388676377460993))}function ba(t,e,r){var i=0,n=0,o=0,a=0;if(r&&(T[(i=t+r|0)-1|0]=e,T[0|t]=e,!(r>>>0<3||(T[i+-2|0]=e,T[t+1|0]=e,T[i+-3|0]=e,T[t+2|0]=e,r>>>0<7||(T[i+-4|0]=e,T[t+3|0]=e,r>>>0<9||(n=(i=0-t&3)+t|0,e=it(255&e,16843009),tt[n>>2]=e,tt[(i=(r=r-i&-4)+n|0)-4>>2]=e,r>>>0<9||(tt[n+8>>2]=e,tt[n+4>>2]=e,tt[i+-8>>2]=e,tt[i+-12>>2]=e,r>>>0<25||(tt[n+24>>2]=e,tt[n+20>>2]=e,tt[n+16>>2]=e,tt[n+12>>2]=e,tt[i+-16>>2]=e,tt[i+-20>>2]=e,tt[i+-24>>2]=e,tt[i+-28>>2]=e,(r=r-(a=4&n|24)|0)>>>0<32))))))))for(o=i=e,e=n+a|0;tt[e+24>>2]=o,tt[e+28>>2]=i,tt[e+16>>2]=o,tt[e+20>>2]=i,tt[e+8>>2]=o,tt[e+12>>2]=i,tt[e>>2]=o,tt[e+4>>2]=i,e=e+32|0,31<(r=r+-32|0)>>>0;);return t}function ca(t,e){var r=0;if(t>>>0<(e=(t+e|0)-1|0)>>>0)for(;r=R[0|t],T[0|t]=R[0|e],T[0|e]=r,(t=t+1|0)>>>0<(e=e+-1|0)>>>0;);}function da(t){var e,r;return e=N(),(t=(r=tt[2052])+t|0)>>>0<=e<<16>>>0||v(0|t)?(tt[2052]=t,r):(tt[1906]=48,-1)}function ea(t,e,r){var i=0,n=0,o=0;if(1==(0|e)&t>>>0<0|e>>>0<1)i=t;else for(;n=gc(i=hc(t,e,10),o=n=U,10),T[0|(r=r+-1|0)]=t-n|48,n=9==(0|e)&4294967295<t>>>0|9<e>>>0,t=i,e=o,n;);if(i)for(;t=(i>>>0)/10|0,T[0|(r=r+-1|0)]=i-it(t,10)|48,e=9<i>>>0,i=t,e;);return r}function fa(t,e,r){var i,n=0;if(8192<=r>>>0)C(0|t,0|e,0|r);else{i=t+r|0;t:if(3&(t^e))if(i>>>0<4)r=t;else if((n=i-4|0)>>>0<t>>>0)r=t;else for(r=t;T[0|r]=R[0|e],T[r+1|0]=R[e+1|0],T[r+2|0]=R[e+2|0],T[r+3|0]=R[e+3|0],e=e+4|0,(r=r+4|0)>>>0<=n>>>0;);else{e:if((0|r)<1)r=t;else if(3&t)for(r=t;;){if(T[0|r]=R[0|e],e=e+1|0,i>>>0<=(r=r+1|0)>>>0)break e;if(!(3&r))break}else r=t;if(!((t=-4&i)>>>0<64||(n=t+-64|0)>>>0<r>>>0))for(;tt[r>>2]=tt[e>>2],tt[r+4>>2]=tt[e+4>>2],tt[r+8>>2]=tt[e+8>>2],tt[r+12>>2]=tt[e+12>>2],tt[r+16>>2]=tt[e+16>>2],tt[r+20>>2]=tt[e+20>>2],tt[r+24>>2]=tt[e+24>>2],tt[r+28>>2]=tt[e+28>>2],tt[r+32>>2]=tt[e+32>>2],tt[r+36>>2]=tt[e+36>>2],tt[r+40>>2]=tt[e+40>>2],tt[r+44>>2]=tt[e+44>>2],tt[r+48>>2]=tt[e+48>>2],tt[r+52>>2]=tt[e+52>>2],tt[r+56>>2]=tt[e+56>>2],tt[r+60>>2]=tt[e+60>>2],e=e- -64|0,(r=r- -64|0)>>>0<=n>>>0;);if(t>>>0<=r>>>0)break t;for(;tt[r>>2]=tt[e>>2],e=e+4|0,(r=r+4|0)>>>0<t>>>0;);}if(r>>>0<i>>>0)for(;T[0|r]=R[0|e],e=e+1|0,(0|i)!=(0|(r=r+1|0)););}}function ga(t){return t+-48>>>0<10}function ha(t,e){var r=0;t:if(1024<=(0|e)){if(t*=898846567431158e293,(0|(r=e+-1023|0))<1024){e=r;break t}t*=898846567431158e293,e=((0|e)<3069?e:3069)+-2046|0}else-1023<(0|e)||(t*=22250738585072014e-324,e=-1023<(0|(r=e+1022|0))?r:(t*=22250738585072014e-324,(-3066<(0|e)?e:-3066)+2044|0));return f(0,0),f(1,e+1023<<20),t*g()}function ia(t,e,r,i,n,o,a){var s,u,l,c=0,h=0,f=0,g=0,p=0,d=0,m=0,y=0,b=0,A=0,C=0,v=0;tt[76+(at=s=at-80|0)>>2]=e,l=55+s|0,u=56+s|0,e=0;t:{e:{r:for(;;){(0|b)<0||(b=(2147483647-b|0)<(0|e)?(tt[1906]=61,-1):e+b|0);i:{n:{o:{a:{s:{u:{l:{c:{h:{f:{g:{p:{d:{if(g=tt[76+s>>2],f=R[0|(e=g)]){for(;;){m:{_:{y:if(c=255&f){if(37!=(0|c))break _;for(f=e;;){if(37!=R[e+1|0])break y;if(c=e+2|0,tt[76+s>>2]=c,f=f+1|0,h=R[e+2|0],e=c,37!=(0|h))break}}else f=e;if(e=f-g|0,t&&Z(t,g,e),e)continue r;A=-1,f=1,p=!ga(T[tt[76+(c=s)>>2]+1|0]),e=tt[76+s>>2],p|36!=R[e+2|0]||(A=T[e+1|0]+-48|0,C=1,f=3),e=f+e|0,tt[c+76>>2]=e;y:if(31<(h=(m=T[(f=0)|e])+-32|0)>>>0)c=e;else if(c=e,75913&(h=1<<h))for(;;){if(c=e+1|0,tt[76+s>>2]=c,f|=h,31<(h=(m=T[e+1|0])+-32|0)>>>0)break y;if(e=c,!(75913&(h=1<<h)))break}y:if(42!=(0|m)){if((0|(y=qa(76+s|0)))<0)break e;e=tt[76+s>>2]}else{if(p=s,ga(T[c+1|0])&&(e=tt[76+s>>2],36==R[e+2|0]))tt[((T[e+1|0]<<2)+n|0)-192>>2]=10,y=tt[((T[e+1|0]<<3)+i|0)-384>>2],C=1,e=e+3|0;else{if(C)break e;y=C=0,t&&(e=tt[r>>2],tt[r>>2]=e+4,y=tt[e>>2]),e=tt[76+s>>2]+1|0}if(tt[p+76>>2]=e,-1<(0|y))break y;y=0-y|0,f|=8192}h=-1;y:if(46==R[0|e])if(42!=R[e+1|0])tt[76+s>>2]=e+1,h=qa(76+s|0),e=tt[76+s>>2];else{if(ga(T[e+2|0])&&(e=tt[76+s>>2],36==R[e+3|0])){tt[((T[e+2|0]<<2)+n|0)-192>>2]=10,h=tt[((T[e+2|0]<<3)+i|0)-384>>2],e=e+4|0,tt[76+s>>2]=e;break y}if(C)break e;h=t?(e=tt[r>>2],tt[r>>2]=e+4,tt[e>>2]):0,e=tt[76+s>>2]+2|0,tt[76+s>>2]=e}for(c=0;;){if(v=c,d=-1,57<T[0|e]+-65>>>0)break t;if(m=e+1|0,tt[76+s>>2]=m,c=T[0|e],e=m,!((c=R[2639+(c+it(v,58)|0)|0])+-1>>>0<8))break}if(!c)break t;y:{b:{A:{if(19==(0|c)){if((0|A)<=-1)break A;break t}if((0|A)<0)break b;tt[(A<<2)+n>>2]=c,c=tt[4+(e=(A<<3)+i|0)>>2],tt[64+s>>2]=tt[e>>2],tt[68+s>>2]=c}if(e=0,!t)continue r;break y}if(!t)break i;pa(64+s|0,c,r,a),m=tt[76+s>>2]}if(p=-65537&f,f=8192&f?p:f,A=2684,c=u,e=T[m+-1|(d=0)],(m=(e=v&&3==(15&e)?-33&e:e)+-88|0)>>>0<=32)break m;y:{b:{A:{C:{if(6<(p=e+-65|0)>>>0){if(83!=(0|e))break n;if(!h)break C;c=tt[64+s>>2];break b}switch(p-1|0){case 1:break A;case 0:case 2:break n;default:break d}}_(t,32,y,e=0,f);break y}tt[12+s>>2]=0,tt[8+s>>2]=tt[64+s>>2],tt[64+s>>2]=8+s,h=-1,c=8+s|0}e=0;b:{for(;;){if(!(g=tt[c>>2]))break b;if((p=(0|(g=oa(4+s|0,g)))<0)|h-e>>>0<g>>>0)break;if(c=c+4|0,!((e=e+g|0)>>>0<h>>>0))break b}if(d=-1,p)break t}if(_(t,32,y,e,f),e)for(h=0,c=tt[64+s>>2];;){if(!(g=tt[c>>2]))break y;if((0|e)<(0|(h=(g=oa(4+s|0,g))+h|0)))break y;if(Z(t,4+s|0,g),c=c+4|0,!(h>>>0<e>>>0))break}else e=0}_(t,32,y,e,8192^f),e=(0|e)<(0|y)?y:e;continue r}c=e+1|0,tt[76+s>>2]=c,f=R[e+1|0],e=c;continue}break}switch(m-1|0){case 28:break s;case 21:break u;case 23:break c;case 22:break h;case 11:case 16:break f;case 10:break g;case 26:break p;case 8:case 12:case 13:case 14:break d;case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 9:case 15:case 17:case 18:case 19:case 20:case 24:case 25:case 27:case 29:case 30:break n;default:break l}}if(d=b,t)break t;if(!C)break i;for(e=1;;){if(t=tt[(e<<2)+n>>2]){if(pa((e<<3)+i|0,t,r,a),10!=(0|(e=e+(d=1)|0)))continue;break t}break}if(d=1,9<e>>>0)break t;if(d=-1,tt[(e<<2)+n>>2])break t;for(;!tt[((e=e+1|0)<<2)+n>>2]&&10!=(0|e););d=e>>>0<10?-1:1;break t}e=0|E[o](t,rt[64+s>>3],y,h,f,e);continue}c=(e=Ia(g=(e=tt[64+s>>2])||2694,h))||h+g|0,f=p,h=e?e-g|0:h;break n}T[55+s|0]=tt[64+s>>2],h=1,g=l,f=p;break n}if(e=p=tt[68+s>>2],g=tt[64+s>>2],(0|e)<-1||(0|e)<=-1&&!(4294967295<g>>>0)){e=0-(e+(0<g>>>0)|0)|0,g=0-g|0,tt[64+s>>2]=g,tt[68+s>>2]=e,d=1,A=2684;break a}if(2048&f){d=1,A=2685;break a}A=(d=1&f)?2686:2684;break a}if(g=Oa(tt[64+s>>2],tt[68+s>>2],u),!(8&f))break o;h=(0|(e=u-g|0))<(0|h)?h:e+1|0;break o}h=8<h>>>0?h:8,f|=8,e=120}if(g=Na(tt[64+s>>2],tt[68+s>>2],u,32&e),!(8&f)|!(tt[64+s>>2]|tt[68+s>>2]))break o;A=2684+(e>>>4)|0,d=2;break o}if(7<(c=255&v)>>>(e=0))continue;switch(c-1|0){default:case 0:tt[tt[64+s>>2]>>2]=b;continue;case 1:c=tt[64+s>>2],tt[c>>2]=b,tt[c+4>>2]=b>>31;continue;case 2:M[tt[64+s>>2]>>1]=b;continue;case 3:T[tt[64+s>>2]]=b;continue;case 5:tt[tt[64+s>>2]>>2]=b;continue;case 4:continue;case 6:}c=tt[64+s>>2],tt[c>>2]=b,tt[c+4>>2]=b>>31;continue}g=tt[64+s>>2],e=tt[68+s>>2],A=2684}g=ea(g,e,u)}f=-1<(0|h)?-65537&f:f,h=!!((p=e=tt[68+s>>2])|(m=tt[64+s>>2]))|h?(0|(e=!(p|m)+(u-g|0)|0))<(0|h)?h:e:(g=u,0)}_(t,32,e=(0|y)<(0|(c=(h=(0|h)<(0|(p=c-g|0))?p:h)+d|0))?c:y,c,f),Z(t,A,d),_(t,48,e,c,65536^f),_(t,48,h,p,0),Z(t,g,p),_(t,32,e,c,8192^f);continue}break}d=0;break t}d=-1}return at=80+s|0,d}function ja(t){var e,r=0,i=0,n=0,o=0,a=0,s=0,u=0,l=0,c=0,h=0,f=0,g=0;at=e=at-16|0;t:{e:{r:{i:{n:{o:{a:{s:{u:{l:{c:{if(t>>>0<=244){if(3&(r=(a=tt[1923])>>>(t=(s=t>>>0<11?16:t+11&-8)>>>3))){t=(r=tt[7740+(o=(i=t+(1&(-1^r))|0)<<3)>>2])+8|0,(0|(n=tt[r+8>>2]))!=(0|(o=o+7732|0))?(tt[n+12>>2]=o,tt[o+8>>2]=n):(g=jc(i)&a,tt[(f=7692)>>2]=g),i<<=3,tt[r+4>>2]=3|i,tt[4+(r=r+i|0)>>2]=1|tt[r+4>>2];break t}if(s>>>0<=(l=tt[1925])>>>0)break c;if(r){i=r=(t=(0-(t=(0-(i=2<<t)|i)&r<<t)&t)-1|0)>>>12&16,i|=r=(t>>>=r)>>>5&8,i|=r=(t>>>=r)>>>2&4,r=tt[7740+(n=(i=((i|=r=(t>>>=r)>>>1&2)|(r=(t>>>=r)>>>1&1))+(t>>>r)|0)<<3)>>2],(0|(t=tt[r+8>>2]))!=(0|(n=n+7732|0))?(tt[t+12>>2]=n,tt[n+8>>2]=t):(a=jc(i)&a,tt[1923]=a),t=r+8|0,tt[r+4>>2]=3|s,o=(i<<=3)-s|0,tt[4+(u=r+s|0)>>2]=1|o,tt[r+i>>2]=o,l&&(r=7732+((i=l>>>3)<<3)|0,n=tt[1928],i=(i=1<<i)&a?tt[r+8>>2]:(tt[1923]=i|a,r),tt[r+8>>2]=n,tt[i+12>>2]=n,tt[n+12>>2]=r,tt[n+8>>2]=i),tt[1928]=u,tt[1925]=o;break t}if(!(h=tt[1924]))break c;for(i=r=(t=(h&0-h)-1|0)>>>12&16,i|=r=(t>>>=r)>>>5&8,i|=r=(t>>>=r)>>>2&4,r=tt[7996+(((i|=r=(t>>>=r)>>>1&2)|(r=(t>>>=r)>>>1&1))+(t>>>r)<<2)>>2],n=(-8&tt[r+4>>2])-s|0,i=r;t=(t=tt[i+16>>2])||tt[i+20>>2];)n=(i=(o=(-8&tt[t+4>>2])-s|0)>>>0<n>>>0)?o:n,r=i?t:r,i=t;if(c=tt[r+24>>2],(0|(o=tt[r+12>>2]))!=(0|r)){t=tt[r+8>>2],tt[t+12>>2]=o,tt[o+8>>2]=t;break e}if(!(t=tt[(i=r+20|0)>>2])){if(!(t=tt[r+16>>2]))break l;i=r+16|0}for(;u=i,(t=tt[(i=(o=t)+20|0)>>2])||(i=o+16|0,t=tt[o+16>>2]););tt[u>>2]=0;break e}if(s=-1,!(4294967231<t>>>0)&&(s=-8&(r=t+11|0),l=tt[1924])){i=0-s|0,a=0,(r>>>=8)&&(a=31,16777215<s>>>0||(a=28+((t=((a=(r<<=n=r+1048320>>>16&8)<<(t=r+520192>>>16&4))<<(r=a+245760>>>16&2)>>>15)-(r|t|n)|0)<<1|s>>>t+21&1)|0));h:{f:{if(n=tt[7996+(a<<2)>>2])for(r=s<<(31==(0|a)?0:25-(a>>>1)|0),t=0;;){if(!(i>>>0<=(u=(-8&tt[n+4>>2])-s|0)>>>0||(o=n,i=u))){i=0,t=n;break f}if(u=tt[n+20>>2],n=tt[16+((r>>>29&4)+n|0)>>2],t=!u||(0|u)==(0|n)?t:u,r<<=0!=(0|n),!n)break}else t=0;if(!(t|o)){if(!(t=(0-(t=2<<a)|t)&l))break c;n=r=(t=(t&0-t)-1|0)>>>12&16,n|=r=(t>>>=r)>>>5&8,n|=r=(t>>>=r)>>>2&4,t=tt[7996+(((n|=r=(t>>>=r)>>>1&2)|(r=(t>>>=r)>>>1&1))+(t>>>r)<<2)>>2]}if(!t)break h}for(;i=(r=(n=(-8&tt[t+4>>2])-s|0)>>>0<i>>>0)?n:i,o=r?t:o,t=(r=tt[t+16>>2])||tt[t+20>>2];);}if(!(!o|i>>>0>=tt[1925]-s>>>0)){if(u=tt[o+24>>2],(0|o)!=(0|(r=tt[o+12>>2]))){t=tt[o+8>>2],tt[t+12>>2]=r,tt[r+8>>2]=t;break r}if(!(t=tt[(n=o+20|0)>>2])){if(!(t=tt[o+16>>2]))break u;n=o+16|0}for(;a=n,(t=tt[(n=(r=t)+20|0)>>2])||(n=r+16|0,t=tt[r+16>>2]););tt[a>>2]=0;break r}}}if(s>>>0<=(r=tt[1925])>>>0){t=tt[1928],16<=(i=r-s|0)>>>0?(tt[1925]=i,n=t+s|0,tt[1928]=n,tt[n+4>>2]=1|i,tt[t+r>>2]=i,tt[t+4>>2]=3|s):(tt[1928]=0,tt[1925]=0,tt[t+4>>2]=3|r,tt[4+(r=t+r|0)>>2]=1|tt[r+4>>2]),t=t+8|0;break t}if(s>>>0<(n=tt[1926])>>>0){r=n-s|0,tt[1926]=r,i=(t=tt[1929])+s|0,tt[1929]=i,tt[i+4>>2]=1|r,tt[t+4>>2]=3|s,t=t+8|0;break t}if((i=(a=(i=o=s+47|(t=0))+(r=tt[2041]?tt[2043]:(tt[2044]=-1,tt[2045]=-1,tt[2042]=4096,tt[2043]=4096,tt[2041]=12+e&-16^1431655768,tt[2046]=0,tt[2034]=0,4096))|0)&(u=0-r|0))>>>0<=s>>>0)break t;if((r=tt[2033])&&(c=(l=tt[2031])+i|0)>>>0<=l>>>0|r>>>0<c>>>0)break t;if(4&R[8136])break o;c:{h:{if(r=tt[1929])for(t=8140;;){if((l=tt[t>>2])+tt[t+4>>2]>>>0>r>>>0&&l>>>0<=r>>>0)break h;if(!(t=tt[t+8>>2]))break}if(-1==(0|(r=da(0))))break a;if(a=i,(n=(t=tt[2042])+-1|0)&r&&(a=(i-r|0)+(r+n&0-t)|0),a>>>0<=s>>>0|2147483646<a>>>0)break a;if((t=tt[2033])&&(u=(n=tt[2031])+a|0)>>>0<=n>>>0|t>>>0<u>>>0)break a;if((0|r)!=(0|(t=da(a))))break c;break n}if(2147483646<(a=u&a-n)>>>0)break a;if((0|(r=da(a)))==(tt[t>>2]+tt[t+4>>2]|0))break s;t=r}if(!(s+48>>>0<=a>>>0|2147483646<a>>>0|-1==(0|(r=t)))){if(2147483646<(t=(t=tt[2043])+(o-a|0)&0-t)>>>0)break n;if(-1!=(0|da(t))){a=t+a|0;break n}da(0-a|0);break a}if(-1!=(0|r))break n;break a}o=0;break e}r=0;break r}if(-1!=(0|r))break n}tt[2034]=4|tt[2034]}if(2147483646<i>>>0)break i;if(r=da(i),(t=da(0))>>>0<=r>>>0|-1==(0|r)|-1==(0|t))break i;if((a=t-r|0)>>>0<=s+40>>>0)break i}t=tt[2031]+a|0,(tt[2031]=t)>>>0>y[2032]&&(tt[2032]=t);n:{o:{a:{if(i=tt[1929]){for(t=8140;;){if(((n=tt[t>>2])+(o=tt[t+4>>2])|0)==(0|r))break a;if(!(t=tt[t+8>>2]))break}break o}for((t=tt[1927])>>>0<=r>>>0&&t||(tt[1927]=r),t=0,tt[2036]=a,tt[2035]=r,tt[1931]=-1,tt[1932]=tt[2041],tt[2038]=0;n=7732+(i=t<<3)|0,tt[i+7740>>2]=n,tt[i+7744>>2]=n,32!=(0|(t=t+1|0)););n=(t=a+-40|0)-(i=r+8&7?-8-r&7:0)|0,tt[1926]=n,i=r+i|0,tt[1929]=i,tt[i+4>>2]=1|n,tt[4+(t+r|0)>>2]=40,tt[1930]=tt[2045];break n}if(!(8&R[t+12|0]|r>>>0<=i>>>0|i>>>0<n>>>0)){tt[t+4>>2]=o+a,r=(t=i+8&7?-8-i&7:0)+i|0,tt[1929]=r,t=(n=tt[1926]+a|0)-t|0,tt[1926]=t,tt[r+4>>2]=1|t,tt[4+(i+n|0)>>2]=40,tt[1930]=tt[2045];break n}}r>>>0<(o=tt[1927])>>>0&&(tt[1927]=r,o=0),n=r+a|0,t=8140;o:{a:{s:{u:{l:{c:{for(;(0|n)!=tt[t>>2];)if(!(t=tt[t+8>>2]))break c;if(!(8&R[t+12|0]))break l}for(t=8140;;){if((n=tt[t>>2])>>>0<=i>>>0&&i>>>0<(o=n+tt[t+4>>2]|0)>>>0)break u;t=tt[t+8>>2]}}if(tt[t>>2]=r,tt[t+4>>2]=tt[t+4>>2]+a,tt[4+(c=(r+8&7?-8-r&7:0)+r|0)>>2]=3|s,t=((r=n+(n+8&7?-8-n&7:0)|0)-c|0)-s|0,u=s+c|0,(0|r)==(0|i)){tt[1929]=u,t=tt[1926]+t|0,tt[1926]=t,tt[u+4>>2]=1|t;break a}if(tt[1928]==(0|r)){tt[1928]=u,t=tt[1925]+t|0,tt[1925]=t,tt[u+4>>2]=1|t,tt[t+u>>2]=t;break a}if(1==(3&(i=tt[r+4>>2]))){h=-8&i;l:if(i>>>0<=255){if(o=i>>>3,i=tt[r+8>>2],(0|(n=tt[r+12>>2]))==(0|i)){f=7692,g=tt[1923]&jc(o),tt[f>>2]=g;break l}tt[i+12>>2]=n,tt[n+8>>2]=i}else{if(l=tt[r+24>>2],(0|(a=tt[r+12>>2]))==(0|r))if((s=tt[(n=r+20|0)>>2])||(s=tt[(n=r+16|0)>>2])){for(;i=n,(s=tt[(n=(a=s)+20|0)>>2])||(n=a+16|0,s=tt[a+16>>2]););tt[i>>2]=0}else a=0;else i=tt[r+8>>2],tt[i+12>>2]=a,tt[a+8>>2]=i;if(l){i=tt[r+28>>2];c:{if(tt[(n=7996+(i<<2)|0)>>2]==(0|r)){if(tt[n>>2]=a)break c;f=7696,g=tt[1924]&jc(i),tt[f>>2]=g;break l}if(!(tt[l+(tt[l+16>>2]==(0|r)?16:20)>>2]=a))break l}tt[a+24>>2]=l,(i=tt[r+16>>2])&&(tt[a+16>>2]=i,tt[i+24>>2]=a),(i=tt[r+20>>2])&&(tt[a+20>>2]=i,tt[i+24>>2]=a)}}r=r+h|0,t=t+h|0}if(tt[r+4>>2]=-2&tt[r+4>>2],tt[u+4>>2]=1|t,(tt[t+u>>2]=t)>>>0<=255){t=7732+((r=t>>>3)<<3)|0,r=(i=tt[1923])&(r=1<<r)?tt[t+8>>2]:(tt[1923]=r|i,t),tt[t+8>>2]=u,tt[r+12>>2]=u,tt[u+12>>2]=t,tt[u+8>>2]=r;break a}if(r=0,(n=t>>>8)&&(r=31,16777215<t>>>0||(r=28+((r=((s=(n<<=o=n+1048320>>>16&8)<<(r=n+520192>>>16&4))<<(n=s+245760>>>16&2)>>>15)-(n|r|o)|0)<<1|t>>>r+21&1)|0)),tt[(i=u)+28>>2]=r,tt[u+16>>2]=0,i=7996+(r<<2)|(tt[u+20>>2]=0),(n=tt[1924])&(o=1<<r)){for(n=t<<(31==(0|r)?0:25-(r>>>1)|0),r=tt[i>>2];;){if((-8&tt[(i=r)+4>>2])==(0|t))break s;if(r=n>>>29,n<<=1,!(r=tt[16+(o=(4&r)+i|0)>>2]))break}tt[o+16>>2]=u}else tt[1924]=n|o,tt[i>>2]=u;tt[u+24>>2]=i,tt[u+12>>2]=u,tt[u+8>>2]=u;break a}for(u=(t=a+-40|0)-(n=r+8&7?-8-r&7:0)|0,tt[1926]=u,n=r+n|0,tt[1929]=n,tt[n+4>>2]=1|u,tt[4+(t+r|0)>>2]=40,tt[1930]=tt[2045],tt[(n=(t=(o+(o+-39&7?39-o&7:0)|0)-47|0)>>>0<i+16>>>0?i:t)+4>>2]=27,t=tt[2038],tt[n+16>>2]=tt[2037],tt[n+20>>2]=t,t=tt[2036],tt[n+8>>2]=tt[2035],tt[n+12>>2]=t,tt[2037]=n+8,tt[2036]=a,tt[2035]=r,t=n+24|(tt[2038]=0);tt[t+4>>2]=7,r=t+8|0,t=t+4|0,r>>>0<o>>>0;);if((0|i)==(0|n))break n;if(tt[n+4>>2]=-2&tt[n+4>>2],o=n-i|0,tt[i+4>>2]=1|o,(tt[n>>2]=o)>>>0<=255){t=7732+((r=o>>>3)<<3)|0,r=(n=tt[1923])&(r=1<<r)?tt[t+8>>2]:(tt[1923]=r|n,t),tt[t+8>>2]=i,tt[r+12>>2]=i,tt[i+12>>2]=t,tt[i+8>>2]=r;break n}if(tt[i+16>>2]=0,t=tt[i+20>>2]=0,(n=o>>>8)&&(t=31,16777215<o>>>0||(t=28+((t=((u=(n<<=a=n+1048320>>>16&8)<<(t=n+520192>>>16&4))<<(n=u+245760>>>16&2)>>>15)-(n|t|a)|0)<<1|o>>>t+21&1)|0)),r=7996+((tt[(r=i)+28>>2]=t)<<2)|0,(n=tt[1924])&(a=1<<t)){for(t=o<<(31==(0|t)?0:25-(t>>>1)|0),r=tt[r>>2];;){if((0|o)==(-8&tt[(n=r)+4>>2]))break o;if(r=t>>>29,t<<=1,!(r=tt[16+(a=n+(4&r)|0)>>2]))break}tt[a+16>>2]=i,tt[i+24>>2]=n}else tt[1924]=n|a,tt[r>>2]=i,tt[i+24>>2]=r;tt[i+12>>2]=i,tt[i+8>>2]=i;break n}t=tt[i+8>>2],tt[t+12>>2]=u,tt[i+8>>2]=u,tt[u+24>>2]=0,tt[u+12>>2]=i,tt[u+8>>2]=t}t=c+8|0;break t}t=tt[n+8>>2],tt[t+12>>2]=i,tt[n+8>>2]=i,tt[i+24>>2]=0,tt[i+12>>2]=n,tt[i+8>>2]=t}if(!((t=tt[1926])>>>0<=s>>>0)){r=t-s|0,tt[1926]=r,i=(t=tt[1929])+s|0,tt[1929]=i,tt[i+4>>2]=1|r,tt[t+4>>2]=3|s,t=t+8|0;break t}}tt[1906]=48,t=0;break t}r:if(u){t=tt[o+28>>2];i:{if(tt[(n=7996+(t<<2)|0)>>2]==(0|o)){if(tt[n>>2]=r)break i;l=jc(t)&l,tt[1924]=l;break r}if(!(tt[u+(tt[u+16>>2]==(0|o)?16:20)>>2]=r))break r}tt[r+24>>2]=u,(t=tt[o+16>>2])&&(tt[r+16>>2]=t,tt[t+24>>2]=r),(t=tt[o+20>>2])&&(tt[r+20>>2]=t,tt[t+24>>2]=r)}r:if(i>>>0<=15)t=i+s|0,tt[o+4>>2]=3|t,tt[4+(t=t+o|0)>>2]=1|tt[t+4>>2];else if(tt[o+4>>2]=3|s,tt[4+(n=o+s|0)>>2]=1|i,(tt[i+n>>2]=i)>>>0<=255)t=7732+((r=i>>>3)<<3)|0,r=(i=tt[1923])&(r=1<<r)?tt[t+8>>2]:(tt[1923]=r|i,t),tt[t+8>>2]=n,tt[r+12>>2]=n,tt[n+12>>2]=t,tt[n+8>>2]=r;else{t=0,(s=i>>>8)&&(t=31,16777215<i>>>0||(t=28+((t=((u=(s<<=a=s+1048320>>>16&8)<<(t=s+520192>>>16&4))<<(s=u+245760>>>16&2)>>>15)-(s|t|a)|0)<<1|i>>>t+21&1)|0)),tt[(r=n)+28>>2]=t,tt[n+16>>2]=0,r=7996+(t<<2)|(tt[n+20>>2]=0);i:{if((s=1<<t)&l){for(t=i<<(31==(0|t)?0:25-(t>>>1)|0),s=tt[r>>2];;){if((-8&tt[(r=s)+4>>2])==(0|i))break i;if(s=t>>>29,t<<=1,!(s=tt[16+(a=(4&s)+r|0)>>2]))break}tt[a+16>>2]=n}else tt[1924]=s|l,tt[r>>2]=n;tt[n+24>>2]=r,tt[n+12>>2]=n,tt[n+8>>2]=n;break r}t=tt[r+8>>2],tt[t+12>>2]=n,tt[r+8>>2]=n,tt[n+24>>2]=0,tt[n+12>>2]=r,tt[n+8>>2]=t}t=o+8|0;break t}e:if(c){t=tt[r+28>>2];r:{if(tt[(i=7996+(t<<2)|0)>>2]==(0|r)){if(tt[i>>2]=o)break r;g=jc(t)&h,tt[(f=7696)>>2]=g;break e}if(!(tt[c+(tt[c+16>>2]==(0|r)?16:20)>>2]=o))break e}tt[o+24>>2]=c,(t=tt[r+16>>2])&&(tt[o+16>>2]=t,tt[t+24>>2]=o),(t=tt[r+20>>2])&&(tt[o+20>>2]=t,tt[t+24>>2]=o)}n>>>0<=15?(t=n+s|0,tt[r+4>>2]=3|t,tt[4+(t=t+r|0)>>2]=1|tt[t+4>>2]):(tt[r+4>>2]=3|s,tt[4+(s=r+s|0)>>2]=1|n,tt[n+s>>2]=n,l&&(t=7732+((i=l>>>3)<<3)|0,o=tt[1928],i=(i=1<<i)&a?tt[t+8>>2]:(tt[1923]=i|a,t),tt[t+8>>2]=o,tt[i+12>>2]=o,tt[o+12>>2]=t,tt[o+8>>2]=i),tt[1928]=s,tt[1925]=n),t=r+8|0}return at=16+e|0,t}function ka(t){var r=0,i=nt(0),n=0,o=0,a=nt(0),s=nt(0);j(t);t:{if(1283457024<=(r=2147483647&(o=e(0)))>>>0){if(2139095040<r>>>0)break t;return nt((0|o)<0?-1.570796251296997:1.570796251296997)}e:{if(r>>>0<=1054867455){if(n=-1,964689920<=r>>>0)break e;break t}if(t=nt(ot(t)),r>>>0<=1066926079){if(r>>>0<=1060110335){t=nt(nt(nt(t+t)+nt(-1))/nt(t+nt(2))),n=0;break e}t=nt(nt(t+nt(-1))/nt(t+nt(1))),n=1}else n=r>>>0<=1075576831?(t=nt(nt(t+nt(-1.5))/nt(nt(t*nt(1.5))+nt(1))),2):(t=nt(nt(-1)/t),3)}if(r=n,a=nt(t*t),i=nt(a*a),s=nt(i*nt(nt(i*nt(-.106480173766613))+nt(-.19999158382415771))),i=nt(a*nt(nt(i*nt(nt(i*nt(.06168760731816292))+nt(.14253635704517365)))+nt(.333333283662796))),(0|r)<=-1)return nt(t-nt(t*nt(s+i)));t=nt(et[6080+(r<<=2)>>2]-nt(nt(nt(t*nt(s+i))-et[r+6096>>2])-t)),t=(0|o)<0?nt(-t):t}return t}function la(t,r){var i,n=0,o=0,a=0,s=0,u=0;at=i=at-16|0,j(t);t:if((n=2147483647&(a=e(0)))>>>0<=1305022426){if(o=.6366197723675814*(s=+t)+6755399441055744-6755399441055744,rt[r>>3]=s+-1.5707963109016418*o+-1.5893254773528196e-8*o,ot(o)<2147483648){n=~~o;break t}n=-2147483648}else 2139095040<=n>>>0?(rt[r>>3]=nt(t-t),n=0):(n=((u=n)>>>23)-150|0,rt[8+i>>3]=(f(0,u-(n<<23)|0),k()),n=function Da(t,e,r){var i,n,o,a,s,u=0,l=0,c=0,h=0,f=0,g=0,p=0,d=0,m=0,_=0,y=0,b=0;if(at=i=at-560|0,p=(l=r)+it(o=0<(0|(r=(r+-3|0)/24|0))?r:0,-24)|0,0<=(0|(n=tt[808])))for(l=n+1|0,r=o;rt[(320+i|0)+(c<<3)>>3]=(0|r)<0?0:+tt[3248+(r<<2)>>2],r=r+1|0,(0|l)!=(0|(c=c+1|0)););for(f=p+-24|0,l=0;;){for(u=r=0;u+=rt[(r<<3)+t>>3]*rt[(320+i|0)+(l-r<<3)>>3],1!=(0|(r=r+1|0)););if(rt[(l<<3)+i>>3]=u,r=(0|l)<(0|n),l=l+1|0,!r)break}s=23-f|0,a=24-f|0,l=n;e:{for(;;){if(u=rt[(l<<3)+i>>3],!(m=((r=0)|(c=l))<1))for(;g=(480+i|0)+(r<<2)|0,d=u,h=ot(u*=5.960464477539063e-8)<2147483648?~~u:-2147483648,h=ot(d+=-16777216*(u=+(0|h)))<2147483648?~~d:-2147483648,tt[g>>2]=h,u=rt[((c=c+-1|0)<<3)+i>>3]+u,(0|l)!=(0|(r=r+1|0)););u=ha(u,f),u+=-8*D(.125*u),u-=0|(g=ot(u)<2147483648?~~u:-2147483648);r:{i:{n:{if(y=(0|f)<1){if(f)break n;h=tt[476+((l<<2)+i|0)>>2]>>23}else _=c=(l<<2)+i|0,c=(h=tt[c+476>>2])-((r=h>>a)<<a)|0,g=r+g|0,h=(tt[_+476>>2]=c)>>s;if((0|h)<1)break r;break i}if(h=2,!(.5<=u)){h=0;break r}}if(c=r=0,!m)for(;;){m=tt[(b=(480+i|0)+(r<<2)|0)>>2],_=16777215;i:{n:{if(!c){if(!m)break n;_=16777216,c=1}tt[b>>2]=_-m;break i}c=0}if((0|l)==(0|(r=r+1|0)))break}y||1<(r=f+-1|0)>>>0||(tt[476+(r=(l<<2)+i|0)>>2]=r-1?8388607&tt[r+476>>2]:4194303&tt[r+476>>2]),g=g+1|0,2==(0|h)&&(u=1-u,h=2,c&&(u-=ha(1,f)))}if(0!=u)break;if(!(((c=0)|(r=l))<=(0|n))){for(;c=tt[(480+i|0)+((r=r+-1|0)<<2)>>2]|c,(0|n)<(0|r););if(c){for(p=f;p=p+-24|0,!tt[(480+i|0)+((l=l+-1|0)<<2)>>2];);break e}}for(r=1;r=(c=r)+1|0,!tt[(480+i|0)+(n-c<<2)>>2];);for(c=l+c|0;;){for(l=g=l+1|0,rt[(320+i|0)+(g<<3)>>3]=tt[3248+(o+l<<2)>>2],u=r=0;u+=rt[(r<<3)+t>>3]*rt[(320+i|0)+(g-r<<3)>>3],1!=(0|(r=r+1|0)););if(rt[(l<<3)+i>>3]=u,!((0|l)<(0|c)))break}l=c}16777216<=(u=ha(u,0-f|0))?(t=(480+i|0)+(l<<2)|0,d=u,r=ot(u*=5.960464477539063e-8)<2147483648?~~u:-2147483648,c=ot(u=d+-16777216*(0|r))<2147483648?~~u:-2147483648,tt[t>>2]=c,l=l+1|0):(r=ot(u)<2147483648?~~u:-2147483648,p=f),tt[(480+i|0)+(l<<2)>>2]=r}if(u=ha(1,p),!((0|l)<=-1)){for(r=l;rt[(r<<3)+i>>3]=u*tt[(480+i|0)+(r<<2)>>2],u*=5.960464477539063e-8,t=0<(0|r),r=r+-1|0,t;);if(!((0|l)<=-1))for(r=l;;){for(f=l-(t=r)|0,r=u=0;u+=rt[6016+(r<<3)>>3]*rt[(t+r<<3)+i>>3],!((0|n)<=(0|r))&&(p=r>>>0<f>>>0,r=r+1|0,p););if(rt[(160+i|0)+(f<<3)>>3]=u,r=t+-1|0,!(0<(0|t)))break}}if((u=0)<=(0|l))for(;u+=rt[(160+i|0)+(l<<3)>>3],t=0<(0|l),l=l+-1|0,t;);return rt[e>>3]=h?-u:u,at=560+i|0,7&g}(8+i|0,i,n),o=rt[i>>3],(0|a)<=-1?(rt[r>>3]=-o,n=0-n|0):rt[r>>3]=o);return at=16+i|0,n}function ma(t){var e=0,r=0,i=0,n=0,o=0;i=4,r=1082;t:if(e=R[0|t]){for(;!((0|(n=R[0|r]))!=(0|e)||!(i=i+-1|0)|!n);)if(r=r+1|0,e=R[t+1|0],t=t+1|0,!e)break t;o=e}return(255&o)-R[0|r]|0}function oa(t,e){return t?function(t,e){t:{if(t){if(e>>>0<=127)break t;if(tt[tt[1625]>>2]){if(e>>>0<=2047)return T[t+1|0]=63&e|128,T[0|t]=e>>>6|192,2;if(!(57344!=(-8192&e)&&55296<=e>>>0))return T[t+2|0]=63&e|128,T[0|t]=e>>>12|224,T[t+1|0]=e>>>6&63|128,3;if(e+-65536>>>0<=1048575)return T[t+3|0]=63&e|128,T[0|t]=e>>>18|240,T[t+2|0]=e>>>6&63|128,T[t+1|0]=e>>>12&63|128,4}else if(57216==(-128&e))break t;tt[1906]=25,t=-1}else t=1;return t}return T[0|t]=e,1}(t,e):0}function pa(t,e,r,i){t:{if(!(20<e>>>0||9<(e=e+-9|0)>>>0)){switch(e-1|0){default:return e=tt[r>>2],tt[r>>2]=e+4,void(tt[t>>2]=tt[e>>2]);case 0:return e=tt[r>>2],tt[r>>2]=e+4,e=tt[e>>2],tt[t>>2]=e,void(tt[t+4>>2]=e>>31);case 1:return e=tt[r>>2],tt[r>>2]=e+4,tt[t>>2]=tt[e>>2],tt[t+4>>2]=0;case 3:return e=tt[r>>2],tt[r>>2]=e+4,e=M[e>>1],tt[t>>2]=e,void(tt[t+4>>2]=e>>31);case 4:return e=tt[r>>2],tt[r>>2]=e+4,tt[t>>2]=L[e>>1],tt[t+4>>2]=0;case 5:return e=tt[r>>2],tt[r>>2]=e+4,e=T[0|e],tt[t>>2]=e,void(tt[t+4>>2]=e>>31);case 6:return e=tt[r>>2],tt[r>>2]=e+4,tt[t>>2]=R[0|e],tt[t+4>>2]=0;case 2:case 7:break t;case 8:}E[i](t,r)}return}e=tt[r>>2]+7&-8,tt[r>>2]=e+8,r=tt[e+4>>2],tt[t>>2]=tt[e>>2],tt[t+4>>2]=r}function qa(t){var e=0,r=0,i=0;if(ga(T[tt[t>>2]]))for(;e=tt[t>>2],i=T[0|e],tt[t>>2]=e+1,r=(it(r,10)+i|0)-48|0,ga(T[e+1|0]););return r}function ra(t,e,r,i,n){var o,a=0,s=0;tt[204+(at=o=at-208|0)>>2]=r,ba(160+o|(r=0),0,40),tt[200+o>>2]=tt[204+o>>2],(0|ia(0,e,200+o|0,80+o|0,160+o|0,i,n))<0||(r=0<=tt[t+76>>2]?1:r,a=tt[t>>2],T[t+74|0]<=0&&(tt[t>>2]=-33&a),s=32&a,tt[t+48>>2]?ia(t,e,200+o|0,80+o|0,160+o|0,i,n):(tt[t+48>>2]=80,tt[t+16>>2]=80+o,tt[t+28>>2]=o,tt[t+20>>2]=o,a=tt[t+44>>2],ia(t,e,200+(tt[t+44>>2]=o)|0,80+o|0,160+o|0,i,n),a&&(E[tt[t+36>>2]](t,0,0),tt[t+48>>2]=0,tt[t+44>>2]=a,tt[t+28>>2]=0,tt[t+16>>2]=0,tt[t+20>>2]=0)),tt[t>>2]=tt[t>>2]|s),at=208+o|0}function sa(t,e,r){var i,n=0;fa(8+(at=i=at-160|0)|0,2536,144),tt[52+i>>2]=t,n=(n=-2-(tt[28+i>>2]=t)|0)>>>0<256?n:256,t=t+(tt[56+i>>2]=n)|0,tt[36+i>>2]=t,tt[24+i>>2]=t,ra(8+i|0,e,r,15,16),n&&(t=tt[28+i>>2],T[t-((0|t)==tt[24+i>>2])|0]=0),at=160+i|0}function ta(t){var e=0,r=0,i=0,n=0,o=0,a=0,s=0,u=nt(0),l=0,c=0,h=0,f=0,g=0,p=0,d=0,m=nt(0),_=0,y=nt(0),b=0,A=0,C=nt(0),v=nt(0),M=nt(0),S=0,w=0,x=0,B=0,P=0,I=0,V=0;if(tt[t+256>>2]&&(e=tt[t+200>>2]<<2,fa(tt[t+280>>2],tt[t+264>>2],e),fa(tt[t+284>>2],tt[t+268>>2],e),fa(tt[t+288>>2],tt[t+276>>2],e)),!((0|(o=tt[t+292>>2]))<1)){for(l=(s=tt[t+296>>2])+it(o,40)|0,i=tt[t+300>>2],e=s;M=et[i>>2],(y=et[e+32>>2])==(u=(r=tt[e+12>>2])?(C=et[e>>2],u=nt(M-C),M=et[e+8>>2],m=nt(u/M),u=nt(D(m)),n=nt(ot(u))<nt(2147483648)?~~u:-2147483648,nt(C+nt(M*nt(m-nt(0|n))))):(m=et[e>>2],u=et[e+4>>2],M<m?m:u<M?u:M))?tt[e+36>>2]=0:(et[e+32>>2]=u,tt[e+36>>2]=1),r||(et[i>>2]=u),i=i+4|0,(e=e+40|0)>>>0<l>>>0;);if(!((0|o)<1))for(_=tt[t+308>>2],d=tt[t+376>>2];;){t:if(!((0|(r=tt[s+28>>2]))<1))if(c=(e=_+it(tt[s+24>>2],28)|0)+it(r,28)|0,M=et[s+20>>2],v=et[s+16>>2],y=et[s+32>>2],d)for(;;){C=nt(o=0);e:{r:{i:{if((0|(a=tt[e>>2]))<1)i=n=0;else if(r=tt[e+4>>2],m=et[r>>2],u=nt(m-v),1!=(0|a)){if(y<u){n=1,i=0;break r}if(n=0,y<nt(v+m))i=0;else{if(i=1,u=et[r+4>>2],!(y<nt(v+u)))for(;;){if((0|a)==(0|(i=i+1|0)))break i;if(m=u,u=et[r+(i<<2)>>2],y<nt(v+u))break}nt(u-v)<y||(i=i+-1|0,(u=nt(u-m))<M||(C=nt(nt(y-m)/u)))}}else n=y<nt(v+m)^1|u<y^1,i=0;if(n)break r;if(p=a=1,!tt[e+16>>2])break r;break e}i=a+-1|0,n=1}p=(a=(u=et[e+12>>2])!=C)&(C==nt(0)|u==nt(0))|tt[e+8>>2]!=(0|i),o=n}if(tt[e+20>>2]=p,tt[e+24>>2]=a,et[e+12>>2]=C,tt[e+16>>2]=o,tt[e+8>>2]=i,!((e=e+28|0)>>>0<c>>>0))break}else{if(!tt[s+36>>2])for(;;)if(tt[e+20>>2]=0,!((e=e+28|(tt[e+24>>2]=0))>>>0<c>>>0))break t;for(;;){C=nt(o=0);e:{r:{i:{n:if(!(((n=0)|(i=tt[(r=e)>>2]))<1)){if(f=tt[e+4>>2],m=et[f>>2],u=nt(m-v),1!=(0|i)){if(!(y<u)){if(n=0,y<nt(v+m))break n;a=1;o:if(u=et[f+4>>2],!(y<nt(v+u))){for(i=i+-1|0;m=u,(0|i)!=(0|a);)if(u=et[f+((a=a+1|0)<<2)>>2],y<nt(v+u))break o;n=1;break r}if(n=0,nt(u-v)<y){i=a;break i}if(i=a+-1|0,(u=nt(u-m))<M)break i;C=nt(nt(y-m)/u);break i}n=1,i=0;break r}n=y<nt(v+m)^1|u<y^1}i=0}if(!n&&(f=a=1,tt[e+16>>2]))break e}o=n,f=(a=(u=et[e+12>>2])!=C)&(C==nt(0)|u==nt(0))|tt[e+8>>2]!=(0|i)}if(tt[r+20>>2]=f,tt[e+24>>2]=a,et[e+12>>2]=C,tt[e+16>>2]=o,tt[e+8>>2]=i,!((e=e+28|0)>>>0<c>>>0))break}}if(!((s=s+40|0)>>>0<l>>>0))break}}if(1<=(0|(e=tt[t+312>>2])))for(f=(h=tt[t+316>>2])+it(e,36)|0,l=tt[t+376>>2];;){P=(r=tt[h+12>>2])+((s=tt[h>>2])<<2)|0,b=tt[t+308>>2],e=r;t:{if(!(s=((a=n=o=0)|s)<1))for(;;){if(i=b+it(tt[e>>2],28)|0,tt[i+16>>2]){p=1,A=B=0;break t}if(o=o||tt[i+24>>2],a=a||tt[i+20>>2],n=(et[i+12>>2]!=nt(0))+n|0,!((e=e+4|0)>>>0<P>>>0))break}if(p=0,(A=l?1:a)|(B=l?1:o)&&(x=1<<n,tt[h+8>>2]=x,31!=(0|n))){for(o=tt[h+20>>2],i=(e=tt[h+16>>2])+(a=x<<2)|0,S=ba(g=e,0,4+((c=-1^e)+((e=e+4|0)>>>0<i>>>0?i:e)|0)&-4),a=o+a|0,e=o;tt[e>>2]=1065353216,(e=e+4|0)>>>0<a>>>0;);if(!s)if(a=s=1,n)for(;;){if(g=b+it(tt[r>>2],28)|0,n=tt[g+8>>2],c=it(n,s),e=0,(u=et[g+12>>2])==nt(0))for(;tt[(n=S+(e<<2)|0)>>2]=c+tt[n>>2],(0|x)!=(0|(e=e+1|0)););else{for(tt[S>>2]=c+tt[S>>2],et[o>>2]=nt(nt(1)-u)*et[o>>2],_=it(n+(e=1)|0,s);u=et[g+12>>2],i=e&a,tt[(n=(d=e<<2)+S|0)>>2]=tt[n>>2]+(i?_:c),et[(n=o+d|0)>>2]=(i?u:nt(nt(1)-u))*et[n>>2],(0|x)!=(0|(e=e+1|0)););a<<=1}if(s=it(tt[g>>2],s),!((r=r+4|0)>>>0<P>>>0))break}else for(;;){if(i=b+it(tt[r>>2],28)|0,a=it(tt[i+8>>2],s),e=0,(u=et[i+12>>2])==nt(0))for(;tt[(n=S+(e<<2)|0)>>2]=a+tt[n>>2],(0|x)!=(0|(e=e+1|0)););else tt[S>>2]=a+tt[S>>2],et[o>>2]=nt(nt(1)-u)*et[o>>2];if(s=it(tt[i>>2],s),!((r=r+4|0)>>>0<P>>>0))break}}}if(tt[h+32>>2]=p,tt[h+24>>2]=A,tt[h+28>>2]=B,!((h=h+36|0)>>>0<f>>>0))break}if(!((0|(n=tt[t+4>>2]))<=0)){for(r=(e=tt[t+52>>2])+(n<<2)|0;u=et[e>>2],et[e>>2]=u<nt(0)?nt(0):nt(F(u,nt(1))),(e=e+4|0)>>>0<r>>>0;);if(!((0|n)<1)){for(s=(e=tt[t+8>>2])+(n<<3)|0,c=tt[t+316>>2],o=tt[t+40>>2],i=a=tt[t+36>>2];n=0,tt[e+4>>2]&&(r=tt[e>>2],!tt[a+(r<<2)>>2]&&-1!=(0|r)||(n=!tt[32+(c+it(tt[o>>2],36)|0)>>2])),tt[i>>2]=n,o=o+4|0,i=i+4|0,(e=e+8|0)>>>0<s>>>0;);if(!((0|(l=tt[t+4>>2]))<1))for(f=tt[t>>2],_=tt[f+724>>2],r=tt[t+40>>2],a=s=0;;){if(g=c+it(tt[r>>2],36)|0,(tt[g+28>>2]||tt[g+24>>2])&&(tt[(o=s<<2)+tt[t+16>>2]>>2]=tt[g+8>>2],tt[g+24>>2]&&!((0|(n=tt[g+8>>2]))<1)))for(d=(e=tt[g+16>>2])+(n<<2)|0,o=tt[o+_>>2],i=tt[t+28>>2]+(a<<2)|0,n=tt[f+936>>2];tt[i>>2]=tt[n+(o+tt[e>>2]<<2)>>2],i=i+4|0,(e=e+4|0)>>>0<d>>>0;);if(tt[g+28>>2]&&!((0|(n=tt[g+8>>2]))<1))for(n=(e=tt[g+20>>2])+(n<<2)|0,i=tt[t+20>>2]+(a<<2)|0;tt[i>>2]=tt[e>>2],i=i+4|0,(e=e+4|0)>>>0<n>>>0;);if(r=r+4|0,a=tt[g+4>>2]+a|0,(0|l)==(0|(s=s+1|0)))break}}}if(E[tt[1644]](t),I=tt[t+316>>2],1<=(0|(r=tt[t+56>>2]))){for(l=(e=tt[t+60>>2])+(r<<5)|0,f=tt[t+176>>2],_=tt[t+172>>2],d=tt[t+36>>2],n=tt[t+180>>2],o=i=tt[t+168>>2];;){a=o,r=0,tt[e+28>>2]&&(-1!=(0|(s=tt[e>>2]))&&(r=0,!tt[d+(s<<2)>>2])||-1!=(0|(s=tt[e+4>>2]))&&(r=0,!tt[i+(s<<2)>>2])||(r=!tt[32+(it(tt[n>>2],36)+I|0)>>2])),tt[a>>2]=r;t:if((a=tt[e+8>>2])>>>0<=1){if(a-1){tt[_+(tt[e+12>>2]<<2)>>2]=r;break t}tt[f+(tt[e+12>>2]<<2)>>2]=r}else Y(4,1473,0);if(n=n+4|0,o=o+4|0,!((e=e+32|0)>>>0<l>>>0))break}I=tt[t+316>>2]}if(s=tt[t>>2],1<=(0|(l=tt[t- -64>>2]))){for(f=tt[s+988>>2],_=tt[s+784>>2],p=tt[t+184>>2],h=r=0;;){if(c=it(tt[p>>2],36)+I|0,(tt[c+28>>2]||tt[c+24>>2])&&(tt[(o=r<<2)+tt[t+84>>2]>>2]=tt[c+8>>2],tt[c+24>>2]&&!((0|(n=tt[c+8>>2]))<1)))for(d=(e=tt[c+16>>2])+(n<<2)|0,a=tt[o+_>>2],i=(n=h<<2)+tt[t+100>>2]|0,o=n+tt[t+96>>2]|0;n=a+tt[e>>2]<<2,tt[i>>2]=f+(tt[n+tt[s+944>>2]>>2]<<2),tt[o>>2]=tt[n+tt[s+940>>2]>>2],o=o+4|0,i=i+4|0,(e=e+4|0)>>>0<d>>>0;);if(tt[c+28>>2]&&!((0|(n=tt[c+8>>2]))<1))for(n=(e=tt[c+20>>2])+(n<<2)|0,i=tt[t+88>>2]+(h<<2)|0;tt[i>>2]=tt[e>>2],i=i+4|0,(e=e+4|0)>>>0<n>>>0;);if(p=p+4|0,h=tt[c+4>>2]+h|0,(0|l)==(0|(r=r+1|0)))break}I=tt[t+316>>2],s=tt[t>>2]}if(1<=(0|(x=tt[t+72>>2])))for(P=tt[t+76>>2],b=tt[s+808>>2],B=tt[t+188>>2],A=h=0;;){if(w=it(tt[B>>2],36)+I|0,(tt[w+28>>2]||tt[w+24>>2])&&(tt[(r=h<<2)+tt[t+116>>2]>>2]=tt[w+8>>2],tt[w+24>>2])){if(e=tt[w+16>>2],S=tt[r+b>>2],1<=(0|(r=tt[w+8>>2])))for(g=e+(r<<2)|0,i=(r=A<<2)+tt[t+132>>2]|0,o=r+tt[t+136>>2]|0,n=r+tt[t+140>>2]|0,a=r+tt[t+144>>2]|0,p=r+tt[t+128>>2]|0,c=tt[s+948>>2],l=tt[s+964>>2],f=tt[s+960>>2],_=tt[s+956>>2],d=tt[s+952>>2],r=e;V=S+tt[r>>2]<<2,tt[i>>2]=tt[V+d>>2],tt[o>>2]=tt[_+V>>2],tt[n>>2]=tt[f+V>>2],tt[a>>2]=tt[l+V>>2],tt[p>>2]=tt[c+V>>2],p=p+4|0,a=a+4|0,n=n+4|0,o=o+4|0,i=i+4|0,(r=r+4|0)>>>0<g>>>0;);r=P+(h<<5)|0,e=S+tt[e>>2]<<2,tt[r+24>>2]=tt[e+tt[s+968>>2]>>2],tt[r+28>>2]=tt[e+tt[s+972>>2]>>2]}if(tt[w+28>>2]&&!((0|(r=tt[w+8>>2]))<1))for(r=(e=tt[w+20>>2])+(r<<2)|0,i=tt[t+120>>2]+(A<<2)|0;tt[i>>2]=tt[e>>2],i=i+4|0,(e=e+4|0)>>>0<r>>>0;);if(B=B+4|0,A=tt[w+4>>2]+A|0,(0|x)==(0|(h=h+1|0)))break}if(E[tt[1642]](t),E[tt[1645]](t),!((0|(r=tt[t+200>>2]))<1)){for(d=(e=tt[t+204>>2])+(r<<4)|0,s=tt[t+168>>2],a=tt[t+36>>2],c=tt[t+316>>2],o=tt[t+252>>2],i=tt[t+248>>2];n=0,tt[e+8>>2]&&(r=tt[e>>2],!tt[a+(r<<2)>>2]&&-1!=(0|r)||(r=tt[e+4>>2],!tt[s+(r<<2)>>2]&&-1!=(0|r)||(n=!tt[32+(c+it(tt[o>>2],36)|0)>>2]))),tt[i>>2]=n,o=o+4|0,i=i+4|0,(e=e+16|0)>>>0<d>>>0;);if(!((0|(f=tt[t+200>>2]))<1))for(g=tt[t>>2],_=tt[g+988>>2],d=tt[g+844>>2],r=tt[t+252>>2],p=h=0;;){if(b=c+it(tt[r>>2],36)|0,(tt[b+28>>2]||tt[b+24>>2])&&(tt[(o=h<<2)+tt[t+212>>2]>>2]=tt[b+8>>2],tt[b+24>>2]&&!((0|(n=tt[b+8>>2]))<1)))for(s=(e=tt[b+16>>2])+(n<<2)|0,a=tt[o+d>>2],i=(n=p<<2)+tt[t+232>>2]|0,o=n+tt[t+224>>2]|0,n=n+tt[t+228>>2]|0;l=a+tt[e>>2]<<2,tt[i>>2]=_+(tt[l+tt[g+984>>2]>>2]<<2),tt[o>>2]=tt[l+tt[g+976>>2]>>2],tt[n>>2]=tt[l+tt[g+980>>2]>>2],n=n+4|0,o=o+4|0,i=i+4|0,(e=e+4|0)>>>0<s>>>0;);if(tt[b+28>>2]&&!((0|(n=tt[b+8>>2]))<1))for(n=(e=tt[b+20>>2])+(n<<2)|0,i=tt[t+216>>2]+(p<<2)|0;tt[i>>2]=tt[e>>2],i=i+4|0,(e=e+4|0)>>>0<n>>>0;);if(r=r+4|0,p=tt[b+4>>2]+p|0,(0|f)==(0|(h=h+1|0)))break}}if(E[tt[1643]](t),function(t){var e,r=0,i=0,n=0,o=0,a=0,s=0,u=0,l=0,c=0,h=0,f=0,g=0;if(1<=(0|(e=tt[t+340>>2])))for(c=tt[t+316>>2],l=tt[t>>2],h=tt[l+1072>>2],a=tt[t+372>>2];;){if(n=it(tt[a>>2],36)+c|0,(tt[n+28>>2]||tt[n+24>>2])&&(tt[(r=s<<2)+tt[t+352>>2]>>2]=tt[n+8>>2],tt[n+24>>2]&&!((0|(o=tt[n+8>>2]))<1)))for(o=(i=tt[n+16>>2])+(o<<2)|0,f=tt[r+h>>2],r=tt[t+364>>2]+(u<<2)|0,g=tt[l+1104>>2];tt[r>>2]=tt[(tt[i>>2]+f<<2)+g>>2],r=r+4|0,(i=i+4|0)>>>0<o>>>0;);if(tt[n+28>>2]&&!((0|(r=tt[n+8>>2]))<1))for(o=(i=tt[n+20>>2])+(r<<2)|0,r=tt[t+356>>2]+(u<<2)|0;tt[r>>2]=tt[i>>2],r=r+4|0,(i=i+4|0)>>>0<o>>>0;);if(a=a+4|0,u=tt[n+4>>2]+u|0,(0|e)==(0|(s=s+1|0)))break}}(t),E[tt[1646]](t),r=tt[t+48>>2],1<=(0|(e=tt[t+4>>2])))for(s=(o=tt[t+8>>2])+(e<<3)|0,n=tt[t+52>>2],i=tt[t+36>>2],e=r;tt[i>>2]&&(u=et[n>>2],et[e>>2]=u,-1!=(0|(a=tt[o>>2]))&&(et[e>>2]=u*et[(a<<2)+r>>2])),e=e+4|0,n=n+4|0,i=i+4|0,(o=o+8|0)>>>0<s>>>0;);if(1<=(0|(n=tt[t+56>>2]))){for(r=t+56|0,e=tt[t+60>>2],i=tt[t+168>>2],o=0;tt[i>>2]&&E[tt[e+16>>2]](e,o,r),i=i+4|0,e=e+32|0,(0|n)!=(0|(o=o+1|0)););r=tt[t+48>>2]}if(1<=(0|(n=tt[t+200>>2])))for(f=(e=tt[t+204>>2])+(n<<4)|0,_=tt[t+192>>2],d=tt[t+60>>2],o=tt[t+248>>2],i=tt[t+276>>2],n=tt[t+272>>2];tt[o>>2]&&(-1!=(0|(a=tt[e>>2]))&&(et[i>>2]=et[(a<<2)+r>>2]*et[i>>2]),-1!=(0|(a=tt[e+4>>2]))&&(et[i>>2]=et[_+(a<<2)>>2]*et[i>>2],s=d+(a<<5)|0,a=tt[n>>2],E[tt[s+20>>2]](tt[s+24>>2],a,a,tt[e+12>>2]))),n=n+4|0,i=i+4|0,o=o+4|0,(e=e+16|0)>>>0<f>>>0;);if(function(t){var e=0,r=0,i=0,n=0,o=nt(0),a=nt(0),s=nt(0),u=nt(0),l=nt(0),c=0,h=0,f=0,g=0,p=0,d=nt(0),m=0,_=0,y=nt(0),b=0;if(1<=(0|(i=tt[t+340>>2])))for(b=(e=tt[t+344>>2])+it(i,24)|0,i=tt[t+272>>2];;){if((t=0)<(0|(c=tt[e+8>>2])))for(h=tt[i+(tt[e+4>>2]<<2)>>2],f=tt[i+(tt[e>>2]<<2)>>2],o=et[e+20>>2],g=tt[e+16>>2],p=tt[e+12>>2];d=et[((r=1|t)<<2)+p>>2],n=L[(t<<1)+g>>1]<<3&262136,a=et[(m=(4|n)+f|0)>>2],r=L[(r<<1)+g>>1]<<3&262136,s=et[(_=(4|r)+h|0)>>2],u=et[(n=n+f|0)>>2],y=et[(t<<2)+p>>2],l=et[(r=r+h|0)>>2],et[n>>2]=u+nt(o*nt(y*nt(l-u))),et[m>>2]=a+nt(o*nt(y*nt(s-a))),et[r>>2]=l+nt(o*nt(d*nt(u-l))),et[_>>2]=s+nt(o*nt(d*nt(a-s))),(0|(t=t+2|0))<(0|c););if(!((e=e+24|0)>>>0<b>>>0))break}}(t),E[tt[1647]](t),p=tt[t+248>>2],h=tt[t+268>>2],1<=(0|(c=tt[t+320>>2]))){for(f=(n=tt[t+324>>2])+it(c,28)|0,_=tt[t+44>>2],d=tt[t+36>>2],r=n;;){if(1<=(0|(i=tt[r+4>>2])))for(s=r+20|0,a=tt[r+12>>2],e=0;l=tt[4+(o=a+(e<<4)|0)>>2]<<2,o=1==tt[(g=o)>>2],tt[g+12>>2]=tt[(tt[l+(o?d:p)>>2]?l+(o?_:h)|0:s)>>2],(0|i)!=(0|(e=e+1|0)););if(!((r=r+28|0)>>>0<f>>>0))break}for(_=tt[t+264>>2],A=0;;){if(l=n+it(A,28)|0,!(tt[(f=l)+24>>2]<1)){for(o=tt[t+328>>2],e=0;tt[o+(e<<2)>>2]=-1,(0|(e=e+1|0))<(0|(r=tt[f+24>>2])););if(!((0|r)<1))for(r=tt[t+336>>2],e=0;tt[r+(e<<2)>>2]=-1,(0|(e=e+1|0))<tt[f+24>>2];);}if(!(tt[l+4>>2]<1)){for(d=tt[t+332>>2],e=0;tt[d+(e<<2)>>2]=-1,(0|(e=e+1|0))<(0|(r=tt[l+4>>2])););if(!((0|r)<1))for(i=tt[l+12>>2],s=tt[t+336>>2],e=0;a=tt[12+(i+(e<<4)|0)>>2]-tt[l+20>>2]<<2,r=-1!=(0|(r=tt[(o=a+s|0)>>2]))?d+(r<<2)|0:a+tt[t+328>>2]|0,tt[r>>2]=e,(0|(e=(tt[o>>2]=e)+1|0))<tt[l+4>>2];);}if(1<=(0|(o=tt[f+24>>2])))for(i=tt[l+8>>2],d=tt[t+328>>2],s=0;;){if(-1!=(0|(e=tt[d+(s<<2)>>2]))){for(a=tt[t+332>>2],o=tt[l+12>>2];i=(r=1!=tt[(r=o+(e<<4)|0)>>2]?(tt[_+(tt[r+4>>2]<<2)>>2]=i,1):(r=n+it(tt[r+8>>2],28)|0,tt[r+8>>2]=i,tt[r>>2]))+i|0,(0|e)<(0|(r=tt[a+(e<<2)>>2]))&&-1!=(0|(e=r)););o=tt[f+24>>2]}if(!((0|(s=s+1|0))<(0|o)))break}if((0|c)==(0|(A=A+1|0)))break}}a=tt[t+200>>2];t:{if(tt[t+376>>2]){if(e=0,((tt[t+256>>2]=0)|a)<1)break t;for(;;){if(i=62,o=tt[t+260>>2]+e|0,!tt[(r=e<<2)+p>>2]|et[r+tt[t+276>>2]>>2]==nt(0)||(i=63),T[0|o]=i,(0|a)==(0|(e=e+1|0)))break t;p=tt[t+248>>2]}}if(!tt[t+256>>2]){if((0|a)<1)break t;for(e=0;;){if(!tt[(r=e<<2)+p>>2]|et[r+tt[t+276>>2]>>2]==nt(0)?(r=tt[t+260>>2]+e|0,T[0|r]=254&R[0|r]):(r=tt[t+260>>2]+e|0,T[0|r]=1|R[0|r]),(0|a)==(0|(e=e+1|0)))break t;p=tt[t+248>>2]}}if(!(((tt[t+256>>2]=0)|a)<1))for(i=0;;){if(u=et[(o=i<<2)+tt[t+276>>2]>>2],n=tt[o+p>>2],e=u!=nt(0)&0!=(0|n),r=tt[t+260>>2]+i|0,e=(0|e)==(1&T[0|r])?e:2|e,e=u!=et[o+tt[t+288>>2]>>2]?4|e:e,e=tt[o+h>>2]==tt[o+tt[t+284>>2]>>2]?e:8|e,e=tt[o+tt[t+264>>2]>>2]==tt[o+tt[t+280>>2]>>2]?e:16|e,T[0|r]=n?32|e:e,(0|a)==(0|(i=i+1|0)))break t;h=tt[t+268>>2],p=tt[t+248>>2]}}tt[t+376>>2]=0}function ua(t,e,r){var i=0,n=0,o=0,a=0,s=0,u=0,l=0,c=0,h=0,f=0,g=0;if(tt[e>>2]=384,n=tt[t>>2],1<=(0|(a=tt[n>>2]))){for(u=tt[t+16>>2],l=tt[t+296>>2];o=(1<<tt[l+(tt[u+(i<<2)>>2]<<2)>>2])+o|0,(0|a)!=(0|(i=i+1|0)););i=o<<2}if(tt[e+4>>2]=a<<3,tt[e+8>>2]=tt[n>>2]<<2,tt[e+12>>2]=tt[n>>2]<<2,tt[e+16>>2]=tt[n>>2]<<2,tt[e+20>>2]=tt[n>>2]<<2,tt[e+24>>2]=tt[n>>2]<<2,o=tt[n>>2],tt[e+40>>2]=i,tt[e+36>>2]=i,tt[e+32>>2]=i,tt[e+28>>2]=o<<2,1<=((o=i=0)|(l=tt[n+8>>2]))){for(h=tt[t+296>>2],f=tt[t+88>>2],c=tt[t+76>>2],a=0;i=(0|i)<(0|(u=tt[(g=o<<2)+f>>2]))?u:i,s=(15+(u<<3)&-16)+s|0,a=(1<<tt[h+(tt[c+g>>2]<<2)>>2])+a|0,(0|l)!=(0|(o=o+1|0)););o=i<<3,i=a<<2}if(tt[e+44>>2]=tt[n+4>>2]<<5,tt[e+48>>2]=it(tt[n+8>>2],24),tt[e+52>>2]=tt[n+12>>2]<<5,tt[e+56>>2]=tt[n+4>>2]<<2,tt[e+60>>2]=tt[n+8>>2]<<2,tt[e+64>>2]=tt[n+12>>2]<<2,tt[e+68>>2]=tt[n+4>>2]<<2,a=tt[n+4>>2],tt[e+76>>2]=s,tt[e+72>>2]=a<<2,tt[e+80>>2]=tt[n+8>>2]<<2,a=tt[n+8>>2],tt[e+104>>2]=o,tt[e+100>>2]=i,tt[e+96>>2]=i,tt[e+92>>2]=i,tt[e+88>>2]=i,tt[e+84>>2]=a<<2,1<=((i=s=0)|(a=tt[n+12>>2]))){for(u=tt[t+296>>2],l=tt[t+100>>2],o=0;o=(1<<tt[u+(tt[l+(i<<2)>>2]<<2)>>2])+o|0,(0|a)!=(0|(i=i+1|0)););i=o<<2}if(tt[e+108>>2]=a<<2,o=tt[n+12>>2],tt[e+156>>2]=i,tt[e+152>>2]=i,tt[e+148>>2]=i,tt[e+144>>2]=i,tt[e+140>>2]=i,tt[e+136>>2]=i,tt[e+132>>2]=i,tt[e+128>>2]=i,tt[e+124>>2]=i,tt[e+120>>2]=i,tt[e+116>>2]=i,tt[e+112>>2]=o<<2,1<=((o=i=0)|(u=tt[n+16>>2]))){for(h=tt[t+136>>2],f=tt[t+296>>2],c=tt[t+172>>2],a=0;i=(0|i)<(0|(l=tt[(g=o<<2)+c>>2]))?l:i,s=(15+(l<<3)&-16)+s|0,a=(1<<tt[f+(tt[h+g>>2]<<2)>>2])+a|0,(0|u)!=(0|(o=o+1|0)););o=i<<3,i=a<<2}if(tt[e+160>>2]=u<<4,tt[e+164>>2]=tt[n+16>>2]<<2,tt[e+168>>2]=tt[n+16>>2],tt[e+172>>2]=tt[n+16>>2]<<2,tt[e+176>>2]=tt[n+16>>2]<<2,a=tt[n+16>>2],tt[e+184>>2]=s,tt[e+180>>2]=a<<2,tt[e+188>>2]=tt[n+16>>2]<<2,tt[e+192>>2]=tt[n+16>>2]<<2,tt[e+196>>2]=tt[n+16>>2]<<2,tt[e+200>>2]=tt[n+16>>2]<<2,tt[e+204>>2]=tt[n+16>>2]<<2,a=tt[n+16>>2],tt[e+236>>2]=o,tt[e+232>>2]=i,tt[e+228>>2]=i,tt[e+224>>2]=i,tt[e+220>>2]=i,tt[e+216>>2]=i,tt[e+212>>2]=i,tt[e+208>>2]=a<<2,tt[e+240>>2]=it(tt[n+20>>2],40),tt[e+244>>2]=tt[n+20>>2]<<2,tt[e+248>>2]=it(tt[n+52>>2],28),1<=((i=a=0)|(s=tt[n+48>>2]))){for(u=tt[t+296>>2],o=0;o=(1<<tt[u+(i<<2)>>2])+o|0,(0|s)!=(0|(i=i+1|0)););i=o<<2}if(tt[e+260>>2]=i,tt[e+256>>2]=i,tt[e+252>>2]=it(s,36),tt[e+264>>2]=it(tt[n+72>>2],28),1<=((i=0)|(u=tt[n+72>>2]))){for(l=tt[t+340>>2],h=tt[t+336>>2],f=tt[t+328>>2],o=0;o=(0|(c=tt[(s=a<<2)+h>>2]-tt[s+l>>2]|0))<(0|o)?o:c+1|0,i=(0|i)<(0|(s=tt[s+f>>2]))?s:i,(0|u)!=(0|(a=a+1|0)););a=o<<2,i<<=2}if(o=tt[n+76>>2],tt[e+280>>2]=a,tt[e+276>>2]=i,tt[e+272>>2]=a,tt[e+268>>2]=o<<4,1<=((i=0)|(a=tt[n+80>>2]))){for(s=tt[t+364>>2],t=tt[t+296>>2],o=0;o=(1<<tt[t+(tt[s+(i<<2)>>2]<<2)>>2])+o|0,(0|a)!=(0|(i=i+1|0)););i=o<<2}for(tt[e+284>>2]=it(a,24),tt[e+288>>2]=tt[n+80>>2]<<2,t=tt[n+80>>2],tt[e+304>>2]=i,tt[e+300>>2]=i,tt[e+296>>2]=i,tt[e>>2]=0,tt[e+292>>2]=t<<2,i=384,o=1;i=((n=tt[(t=(o<<2)+e|0)>>2])+15&-16)+(tt[t>>2]=i)|0,77!=(0|(o=o+1|0)););tt[r>>2]=i}function va(t,e,r){var i;e|=0,at=i=at+-64|0;t:{if(t|=0)if(e)if((e+15&-16)==(0|e)){if(e=function(t,e,r){var i,n=0,o=0,a=0,s=0,u=0,l=0,c=0,h=0,f=0,g=0,p=0,d=0,m=0,_=0,y=0,b=0,A=0,C=nt(0);if(ba(16+(at=i=at-336|0)|0,0,308),ua(t+704|0,16+i|0,12+i|0),(o=tt[12+i>>2])>>>0<=r>>>0){if(n=(e=ba(e,r=0,o))+tt[16+i>>2]|0,tt[n+8>>2]=e+tt[20+i>>2],tt[n+36>>2]=e+tt[24+i>>2],tt[n+44>>2]=e+tt[28+i>>2],tt[n+48>>2]=e+tt[32+i>>2],tt[n+52>>2]=e+tt[36+i>>2],tt[n+12>>2]=e+tt[40+i>>2],tt[n+16>>2]=e+tt[44+i>>2],tt[n+20>>2]=e+tt[48+i>>2],tt[n+28>>2]=e+tt[52+i>>2],tt[n+32>>2]=e+tt[56+i>>2],o=tt[t+704>>2],tt[n+60>>2]=e+tt[60+i>>2],l=e+tt[64+i>>2]|0,tt[n+68>>2]=l,tt[n+76>>2]=e+tt[68+i>>2],tt[n+168>>2]=e+tt[72+i>>2],tt[n+172>>2]=e+tt[76+i>>2],tt[n+176>>2]=e+tt[80+i>>2],tt[n+192>>2]=e+tt[84+i>>2],tt[n+196>>2]=e+tt[88+i>>2],1<=(0|(o=tt[o+8>>2])))for(a=e+tt[92+i>>2]|0,c=tt[t+792>>2];tt[20+(l+it(r,24)|0)>>2]=a,a=(15+(tt[c+(r<<2)>>2]<<3)&-16)+a|0,(0|o)!=(0|(r=r+1|0)););if(tt[n+80>>2]=e+tt[96+i>>2],tt[n+84>>2]=e+tt[100+i>>2],tt[n+88>>2]=e+tt[104+i>>2],tt[n+96>>2]=e+tt[108+i>>2],tt[n+100>>2]=e+tt[112+i>>2],tt[n+104>>2]=e+tt[116+i>>2],tt[n+108>>2]=e+tt[120+i>>2],tt[n+112>>2]=e+tt[124+i>>2],tt[n+116>>2]=e+tt[128+i>>2],tt[n+120>>2]=e+tt[132+i>>2],tt[n+128>>2]=e+tt[136+i>>2],tt[n+132>>2]=e+tt[140+i>>2],tt[n+136>>2]=e+tt[144+i>>2],tt[n+140>>2]=e+tt[148+i>>2],tt[n+144>>2]=e+tt[152+i>>2],tt[n+148>>2]=e+tt[156+i>>2],tt[n+152>>2]=e+tt[160+i>>2],tt[n+156>>2]=e+tt[164+i>>2],tt[n+160>>2]=e+tt[168+i>>2],tt[n+164>>2]=e+tt[172+i>>2],r=tt[t+704>>2],tt[n+204>>2]=e+tt[176+i>>2],tt[n+248>>2]=e+tt[180+i>>2],tt[n+260>>2]=e+tt[184+i>>2],tt[n+264>>2]=e+tt[188+i>>2],tt[n+268>>2]=e+tt[192+i>>2],o=e+tt[196+i>>2]|0,tt[n+272>>2]=o,!((0|(l=tt[r+16>>2]))<1)&&(a=e+tt[200+i>>2]|0,tt[o>>2]=a,(r=1)!=(0|l)))for(o=0;a=(15+(tt[tt[t+876>>2]+(o<<2)>>2]<<3)&-16)+a|0,tt[tt[n+272>>2]+(r<<2)>>2]=a,(0|l)!=(0|(r=(o=r)+1|0)););if(tt[n+276>>2]=e+tt[204+i>>2],tt[n+280>>2]=e+tt[208+i>>2],tt[n+284>>2]=e+tt[212+i>>2],tt[n+288>>2]=e+tt[216+i>>2],tt[n+208>>2]=e+tt[220+i>>2],tt[n+212>>2]=e+tt[224+i>>2],tt[n+216>>2]=e+tt[228+i>>2],tt[n+224>>2]=e+tt[232+i>>2],tt[n+228>>2]=e+tt[236+i>>2],tt[n+232>>2]=e+tt[240+i>>2],tt[n+236>>2]=e+tt[244+i>>2],tt[n+240>>2]=e+tt[248+i>>2],tt[n+244>>2]=e+tt[252+i>>2],r=tt[256+i>>2],u=e+tt[260+i>>2]|0,tt[n+300>>2]=u,h=e+r|0,tt[n+296>>2]=h,g=e+tt[264+i>>2]|0,tt[n+308>>2]=g,r=tt[t+704>>2],o=tt[276+i>>2],a=tt[272+i>>2],c=e+tt[268+i>>2]|0,tt[n+316>>2]=c,1<=(0|(l=tt[r+48>>2])))for(a=e+a|0,o=e+o|0,s=tt[t+1e3>>2],r=0;f=c+it(r,36)|0,tt[f+20>>2]=o,tt[f+16>>2]=a,o=(f=1<<tt[s+(r<<2)>>2]<<2)+o|0,a=a+f|0,(0|l)!=(0|(r=r+1|0)););if(r=tt[t+704>>2],o=e+tt[280+i>>2]|0,tt[n+324>>2]=o,1<=(0|(l=tt[r+72>>2])))for(a=e+tt[284+i>>2]|0,s=tt[t+1032>>2],r=0;tt[12+(o+it(r,28)|0)>>2]=a,a=(tt[s+(r<<2)>>2]<<4)+a|0,(0|l)!=(0|(r=r+1|0)););if(tt[n+328>>2]=e+tt[288+i>>2],tt[n+332>>2]=e+tt[292+i>>2],tt[n+336>>2]=e+tt[296+i>>2],tt[n+344>>2]=e+tt[300+i>>2],tt[n+348>>2]=e+tt[304+i>>2],tt[n+352>>2]=e+tt[308+i>>2],tt[n+356>>2]=e+tt[312+i>>2],tt[n+364>>2]=e+tt[316+i>>2],r=tt[320+i>>2],tt[n+376>>2]=1,tt[n+368>>2]=e+r,tt[n+380>>2]=1&T[tt[t+708>>2]+20|0],l=tt[t+704>>2],o=tt[l+20>>2],1<=(0|(tt[n+292>>2]=o))){for(f=tt[t+932>>2],p=tt[t+928>>2],y=tt[t+924>>2],s=tt[t+916>>2],d=tt[t+920>>2],b=tt[t+908>>2],A=tt[t+912>>2],a=o;e=h+it(a=a+-1|0,40)|0,m=(r=a<<2)+A|0,tt[e>>2]=tt[m>>2],_=r+b|0,tt[e+4>>2]=tt[_>>2],et[e+8>>2]=et[_>>2]-et[m>>2],tt[e+12>>2]=tt[r+d>>2],tt[e+32>>2]=tt[r+s>>2],C=$b(nt(tt[r+y>>2])),et[e+16>>2]=C,et[e+20>>2]=C*nt(1.5),tt[e+24>>2]=tt[r+p>>2],r=tt[r+f>>2],tt[e+36>>2]=1,tt[e+28>>2]=r,0<(0|a););for(;tt[(e=(o=o+-1|0)<<2)+u>>2]=tt[e+s>>2],0<(0|o););}if(r=tt[l+52>>2],1<=(0|(tt[n+304>>2]=r)))for(o=tt[t+1004>>2],a=tt[t+1012>>2],s=tt[t+1008>>2];e=g+it(r=r+-1|0,28)|0,u=r<<2,tt[e>>2]=tt[u+s>>2],u=tt[o+u>>2],tt[e+20>>2]=1,tt[e+24>>2]=1,tt[e+12>>2]=0,tt[e+4>>2]=a+(u<<2),0<(0|r););if(r=tt[l+48>>2],1<=(0|(tt[n+312>>2]=r)))for(o=tt[t+996>>2],a=tt[t+992>>2],s=tt[t+1e3>>2];e=c+it(r=r+-1|0,36)|0,h=tt[(u=r<<2)+s>>2],tt[e>>2]=h,tt[e+4>>2]=1<<h,u=tt[o+u>>2],tt[e+24>>2]=1,tt[e+28>>2]=1,tt[e+12>>2]=a+(u<<2),0<(0|r););if(a=tt[l>>2],tt[n+4>>2]=a,o=tt[t+720>>2],tt[n+40>>2]=o,(0|a)<1)r=0;else{for(s=tt[t+732>>2],u=tt[t+736>>2],h=tt[t+740>>2],g=tt[n+52>>2],f=tt[n+8>>2],r=a;e=(r=r+-1|0)<<2,tt[(p=f+(r<<3)|0)>>2]=tt[e+h>>2],tt[p+4>>2]=tt[e+u>>2],et[e+g>>2]=tt[e+s>>2]?nt(1):nt(0),0<(0|r););for(s=tt[n+12>>2],r=0;e=tt[4+(c+it(tt[(u=(a=a+-1|0)<<2)+o>>2],36)|0)>>2],r=(tt[s+u>>2]=e)+r|0,0<(0|a););}if(tt[n+24>>2]=r,a=tt[l+4>>2],tt[n+56>>2]=a,tt[n+180>>2]=tt[t+752>>2],tt[n+184>>2]=tt[t+780>>2],tt[n+188>>2]=tt[t+804>>2],1<=(0|a)){for(;;){a=a+-1|0,e=tt[n+60>>2]+(a<<5)|0,r=a<<2,tt[e>>2]=tt[r+tt[t+764>>2]>>2],tt[e+4>>2]=tt[r+tt[t+768>>2]>>2],o=tt[r+tt[t+772>>2]>>2],tt[e+8>>2]=o,l=tt[r+tt[t+776>>2]>>2],tt[e+12>>2]=l,tt[e+28>>2]=tt[r+tt[t+760>>2]>>2];e:if(o>>>0<=1){if(o-1){tt[e+20>>2]=1,tt[e+16>>2]=2,tt[e+24>>2]=tt[n+68>>2]+it(l,24);break e}tt[e+20>>2]=3,tt[e+16>>2]=4,tt[e+24>>2]=tt[n+76>>2]+(l<<5)}else Y(4,1026,0);if(!(0<(0|a)))break}l=tt[t+704>>2]}a=tt[l+8>>2];e:if(!((0|(tt[n+64>>2]=a))<1)){if(r=a+-1|0,c=tt[t+792>>2],s=tt[t+800>>2],u=tt[t+796>>2],h=tt[n+68>>2],R[t+4|0]<2)for(;;)if(e=h+it(r,24)|0,o=r<<2,tt[e>>2]=tt[o+u>>2],tt[e+4>>2]=tt[o+s>>2],o=tt[o+c>>2],tt[e+8>>2]=0,tt[e+12>>2]=o,e=0<(0|r),r=r+-1|0,!e)break e;for(g=tt[t+1108>>2];e=h+it(r,24)|0,o=r<<2,tt[e>>2]=tt[o+u>>2],tt[e+4>>2]=tt[o+s>>2],tt[e+12>>2]=tt[o+c>>2],tt[e+8>>2]=tt[o+g>>2],e=0<(0|r),r=r+-1|0,e;);}if(e=tt[l+12>>2],1<=(0|(tt[n+72>>2]=e)))for(o=tt[t+816>>2],c=tt[n+76>>2],r=e;tt[c+((r=r+-1|0)<<5)>>2]=tt[o+(r<<2)>>2],0<(0|r););if(1<=((o=r=0)|a)){for(c=tt[n+80>>2],s=tt[n+184>>2],u=tt[n+316>>2];e=tt[4+(u+it(tt[(h=(a=a+-1|0)<<2)+s>>2],36)|0)>>2],o=(tt[c+h>>2]=e)+o|0,0<(0|a););e=tt[n+72>>2]}if(tt[n+92>>2]=o,1<=(0|e))for(a=tt[n+112>>2],c=tt[n+188>>2],s=tt[n+316>>2];o=tt[4+(s+it(tt[(u=(e=e+-1|0)<<2)+c>>2],36)|0)>>2],r=r+(tt[a+u>>2]=o)|0,0<(0|e););if(tt[n+124>>2]=r,o=tt[l+16>>2],tt[n+200>>2]=o,c=tt[t+840>>2],tt[n+252>>2]=c,(0|o)<1)r=0;else{for(s=tt[t+856>>2],u=tt[t+876>>2],h=tt[t+864>>2],g=tt[t+860>>2],f=tt[n+204>>2],r=o;a=(r=r+-1|0)<<2,tt[(e=f+(r<<4)|0)>>2]=tt[a+g>>2],tt[e+4>>2]=tt[a+h>>2],tt[e+12>>2]=tt[a+u>>2],tt[e+8>>2]=tt[a+s>>2],0<(0|r););for(a=tt[n+208>>2],s=tt[n+316>>2],r=0;e=tt[4+(s+it(tt[(u=(o=o+-1|0)<<2)+c>>2],36)|0)>>2],r=(tt[a+u>>2]=e)+r|0,0<(0|o););}if(tt[n+220>>2]=r,a=tt[l+72>>2],1<=(0|(tt[n+320>>2]=a)))for(u=tt[t+1028>>2],h=tt[t+1044>>2],g=tt[t+1040>>2],f=tt[t+1036>>2],p=tt[t+1032>>2],y=tt[n+324>>2],o=0;;){if(e=y+it(o,28)|0,c=tt[(r=o<<2)+p>>2],tt[e+4>>2]=c,tt[e>>2]=tt[r+f>>2],s=tt[r+g>>2],tt[e+16>>2]=s,d=tt[r+h>>2],tt[e+20>>2]=d,tt[e+8>>2]=0,tt[e+24>>2]=1+(s-d|0),1<=(0|c))for(d=tt[r+u>>2],b=tt[e+12>>2],A=tt[t+1056>>2],m=tt[t+1048>>2],_=tt[t+1052>>2],r=0;s=r+d<<2,tt[4+(e=b+(r<<4)|0)>>2]=tt[s+_>>2],tt[e>>2]=tt[s+m>>2],s=tt[s+A>>2],tt[e+12>>2]=0,tt[e+8>>2]=s,(0|c)!=(0|(r=r+1|0)););if((0|a)==(0|(o=o+1|0)))break}if(e=tt[l+80>>2],tt[n+340>>2]=e,a=tt[t+1068>>2],tt[n+372>>2]=a,(0|e)<1)e=0;else{for(l=tt[t+1100>>2],c=tt[t+1088>>2],s=tt[t+1096>>2],u=tt[t+1092>>2],h=tt[t+1084>>2],g=tt[t+1080>>2],f=tt[n+344>>2];r=f+it(e=e+-1|0,24)|0,o=e<<2,tt[r>>2]=tt[o+g>>2],tt[r+4>>2]=tt[o+h>>2],tt[r+8>>2]=tt[o+u>>2],o=tt[o+c>>2],tt[r+16>>2]=l+(o<<1),tt[r+12>>2]=s+(o<<2),0<(0|e););if((0|(r=tt[n+340>>2]))<1)e=0;else for(l=tt[n+348>>2],c=tt[n+316>>2],e=0;o=tt[4+(c+it(tt[(s=(r=r+-1|0)<<2)+a>>2],36)|0)>>2],e=e+(tt[s+l>>2]=o)|0,0<(0|r););}tt[n>>2]=t,tt[n+360>>2]=e,ta(n)}return at=336+i|0,n}(t,e,r|=0))break t;tt[36+i>>2]=1872,tt[32+i>>2]=1846,Y(4,1087,32+i|0)}else tt[52+i>>2]=1441,tt[48+i>>2]=1846,Y(4,1087,48+i|0);else tt[20+i>>2]=1246,tt[16+i>>2]=1846,Y(4,1087,16+i|0);else tt[4+i>>2]=1828,tt[i>>2]=1846,Y(4,1087,i);e=0}return at=64+i|0,0|e}function wa(t){var e,r,i;return at=e=at-16|0,t=(t|=0)?(r=t,ba(16+(at=i=at-336|0)|0,0,308),ua(r+704|0,16+i|0,12+i|0),at=336+i|0,tt[12+i>>2]):(tt[4+e>>2]=1828,tt[e>>2]=1810,Y(4,1087,e),0),at=16+e|0,0|t}function xa(t,e){var r=0,i=0,n=0,o=0,a=0,s=0,u=0,l=0;o=t+e|0;t:{e:if(!(1&(r=tt[t+4>>2]))){if(!(3&r))break t;if(e=(r=tt[t>>2])+e|0,(0|(t=t-r|0))==tt[1928]){if(3==(3&(r=tt[o+4>>2])))return tt[1925]=e,tt[o+4>>2]=-2&r,tt[t+4>>2]=1|e,void(tt[o>>2]=e)}else{if(r>>>0<=255){if(n=r>>>3,r=tt[t+8>>2],(0|(i=tt[t+12>>2]))==(0|r)){u=7692,l=tt[1923]&jc(n),tt[u>>2]=l;break e}tt[r+12>>2]=i,tt[i+8>>2]=r;break e}if(s=tt[t+24>>2],(0|(r=tt[t+12>>2]))==(0|t))if((n=tt[(i=t+20|0)>>2])||(n=tt[(i=t+16|0)>>2])){for(;a=i,(n=tt[(i=(r=n)+20|0)>>2])||(i=r+16|0,n=tt[r+16>>2]););tt[a>>2]=0}else r=0;else i=tt[t+8>>2],tt[i+12>>2]=r,tt[r+8>>2]=i;if(!s)break e;i=tt[t+28>>2];r:{if(tt[(n=7996+(i<<2)|0)>>2]==(0|t)){if(tt[n>>2]=r)break r;u=7696,l=tt[1924]&jc(i),tt[u>>2]=l;break e}if(!(tt[s+(tt[s+16>>2]==(0|t)?16:20)>>2]=r))break e}if(tt[r+24>>2]=s,(i=tt[t+16>>2])&&(tt[r+16>>2]=i,tt[i+24>>2]=r),!(i=tt[t+20>>2]))break e;tt[r+20>>2]=i,tt[i+24>>2]=r}}e:{if(!(2&(r=tt[o+4>>2]))){if(tt[1929]==(0|o)){if(tt[1929]=t,e=tt[1926]+e|0,tt[1926]=e,tt[t+4>>2]=1|e,tt[1928]!=(0|t))break t;return tt[1925]=0,tt[1928]=0}if(tt[1928]==(0|o))return tt[1928]=t,e=tt[1925]+e|0,tt[1925]=e,tt[t+4>>2]=1|e,void(tt[t+e>>2]=e);e=(-8&r)+e|0;r:if(r>>>0<=255){if(n=r>>>3,r=tt[o+8>>2],(0|(i=tt[o+12>>2]))==(0|r)){u=7692,l=tt[1923]&jc(n),tt[u>>2]=l;break r}tt[r+12>>2]=i,tt[i+8>>2]=r}else{if(s=tt[o+24>>2],(0|o)==(0|(r=tt[o+12>>2])))if((n=tt[(i=o+20|0)>>2])||(n=tt[(i=o+16|0)>>2])){for(;a=i,(n=tt[(i=(r=n)+20|0)>>2])||(i=r+16|0,n=tt[r+16>>2]););tt[a>>2]=0}else r=0;else i=tt[o+8>>2],tt[i+12>>2]=r,tt[r+8>>2]=i;if(s){i=tt[o+28>>2];i:{if(tt[(n=7996+(i<<2)|0)>>2]==(0|o)){if(tt[n>>2]=r)break i;u=7696,l=tt[1924]&jc(i),tt[u>>2]=l;break r}if(!(tt[s+(tt[s+16>>2]==(0|o)?16:20)>>2]=r))break r}tt[r+24>>2]=s,(i=tt[o+16>>2])&&(tt[r+16>>2]=i,tt[i+24>>2]=r),(i=tt[o+20>>2])&&(tt[r+20>>2]=i,tt[i+24>>2]=r)}}if(tt[t+4>>2]=1|e,tt[t+e>>2]=e,tt[1928]!=(0|t))break e;return void(tt[1925]=e)}tt[o+4>>2]=-2&r,tt[t+4>>2]=1|e,tt[t+e>>2]=e}if(e>>>0<=255)return e=7732+((r=e>>>3)<<3)|0,r=(i=tt[1923])&(r=1<<r)?tt[e+8>>2]:(tt[1923]=r|i,e),tt[e+8>>2]=t,tt[r+12>>2]=t,tt[t+12>>2]=e,void(tt[t+8>>2]=r);tt[t+16>>2]=0,r=tt[t+20>>2]=0,(n=e>>>8)&&(r=31,16777215<e>>>0||(r=28+((r=((o=(n<<=a=n+1048320>>>16&8)<<(r=n+520192>>>16&4))<<(n=o+245760>>>16&2)>>>15)-(n|r|a)|0)<<1|e>>>r+21&1)|0)),n=7996+((tt[(i=t)+28>>2]=r)<<2)|0;e:{if((i=tt[1924])&(a=1<<r)){for(i=e<<(31==(0|r)?0:25-(r>>>1)|0),r=tt[n>>2];;){if((-8&tt[(n=r)+4>>2])==(0|e))break e;if(r=i>>>29,i<<=1,!(r=tt[16+(a=n+(4&r)|0)>>2]))break}tt[a+16>>2]=t}else tt[1924]=i|a,tt[n>>2]=t;return tt[t+24>>2]=n,tt[t+12>>2]=t,void(tt[t+8>>2]=t)}e=tt[n+8>>2],tt[e+12>>2]=t,tt[n+8>>2]=t,tt[t+24>>2]=0,tt[t+12>>2]=n,tt[t+8>>2]=e}}function ya(t,e,r){var i=0;t:{if(8!=(0|e)){if(i=28,3&e|1!=(0|function(t){for(var e=0,r=0;r=e,t;)t&=t-1,e=e+1|0;return r}(e>>>2)))break t;if(i=48,-64-e>>>0<r>>>0)break t;e=function(t,e){var r=0,i=0,n=0,o=0,a=0;if((i=t>>>0>(r=16)?t:16)+-1&i)for(;r=(t=r)<<1,t>>>0<i>>>0;);else t=i;return-64-t>>>0<=e>>>0?(tt[1906]=48,0):(r=ja(12+((i=e>>>0<11?16:e+11&-8)+t|0)|0))?(e=r+-8|0,r&t+-1?(n=(-8&(a=tt[(o=r+-4|0)>>2]))-(r=(t=15<(r=((t+r|0)-1&0-t)-8|0)-e>>>0?r:t+r|0)-e|0)|0,3&a?(tt[t+4>>2]=n|1&tt[t+4>>2]|2,tt[4+(n=t+n|0)>>2]=1|tt[n+4>>2],tt[o>>2]=r|1&tt[o>>2]|2,tt[t+4>>2]=1|tt[t+4>>2],xa(e,r)):(e=tt[e>>2],tt[t+4>>2]=n,tt[t>>2]=e+r)):t=e,3&(e=tt[t+4>>2])&&((r=-8&e)>>>0<=i+16>>>0||(tt[t+4>>2]=i|1&e|2,e=t+i|0,i=r-i|0,tt[e+4>>2]=3|i,tt[4+(r=t+r|0)>>2]=1|tt[r+4>>2],xa(e,i))),t+8|0):0}(16<e>>>0?e:16,r)}else e=ja(r);if(!e)return 1;tt[t>>2]=e,i=0}return i}function za(t){var e=0,r=0,i=0,n=0,o=0,a=0,s=0,u=0,l=0;t:if(t){o=(i=t+-8|0)+(t=-8&(r=tt[t+-4>>2]))|0;e:if(!(1&r)){if(!(3&r))break t;if((i=i-(r=tt[i>>2])|0)>>>0<y[1927])break t;if(t=t+r|0,tt[1928]==(0|i)){if(3==(3&(r=tt[o+4>>2])))return tt[1925]=t,tt[o+4>>2]=-2&r,tt[i+4>>2]=1|t,void(tt[t+i>>2]=t)}else{if(r>>>0<=255){if(n=tt[i+8>>2],r>>>=3,(0|(e=tt[i+12>>2]))==(0|n)){u=7692,l=tt[1923]&jc(r),tt[u>>2]=l;break e}tt[n+12>>2]=e,tt[e+8>>2]=n;break e}if(s=tt[i+24>>2],(0|i)==(0|(r=tt[i+12>>2])))if((e=tt[(n=i+20|0)>>2])||(e=tt[(n=i+16|0)>>2])){for(;a=n,(e=tt[(n=(r=e)+20|0)>>2])||(n=r+16|0,e=tt[r+16>>2]););tt[a>>2]=0}else r=0;else e=tt[i+8>>2],tt[e+12>>2]=r,tt[r+8>>2]=e;if(!s)break e;n=tt[i+28>>2];r:{if(tt[(e=7996+(n<<2)|0)>>2]==(0|i)){if(tt[e>>2]=r)break r;u=7696,l=tt[1924]&jc(n),tt[u>>2]=l;break e}if(!(tt[s+(tt[s+16>>2]==(0|i)?16:20)>>2]=r))break e}if(tt[r+24>>2]=s,(e=tt[i+16>>2])&&(tt[r+16>>2]=e,tt[e+24>>2]=r),!(e=tt[i+20>>2]))break e;tt[r+20>>2]=e,tt[e+24>>2]=r}}if(!(o>>>0<=i>>>0)&&1&(r=tt[o+4>>2])){e:{if(!(2&r)){if(tt[1929]==(0|o)){if(tt[1929]=i,t=tt[1926]+t|0,tt[1926]=t,tt[i+4>>2]=1|t,tt[1928]!=(0|i))break t;return tt[1925]=0,tt[1928]=0}if(tt[1928]==(0|o))return tt[1928]=i,t=tt[1925]+t|0,tt[1925]=t,tt[i+4>>2]=1|t,void(tt[t+i>>2]=t);t=(-8&r)+t|0;r:if(r>>>0<=255){if(r>>>=3,(0|(e=tt[o+8>>2]))==(0|(n=tt[o+12>>2]))){u=7692,l=tt[1923]&jc(r),tt[u>>2]=l;break r}tt[e+12>>2]=n,tt[n+8>>2]=e}else{if(s=tt[o+24>>2],(0|o)==(0|(r=tt[o+12>>2])))if((e=tt[(n=o+20|0)>>2])||(e=tt[(n=o+16|0)>>2])){for(;a=n,(e=tt[(n=(r=e)+20|0)>>2])||(n=r+16|0,e=tt[r+16>>2]););tt[a>>2]=0}else r=0;else e=tt[o+8>>2],tt[e+12>>2]=r,tt[r+8>>2]=e;if(s){n=tt[o+28>>2];i:{if(tt[(e=7996+(n<<2)|0)>>2]==(0|o)){if(tt[e>>2]=r)break i;u=7696,l=tt[1924]&jc(n),tt[u>>2]=l;break r}if(!(tt[s+(tt[s+16>>2]==(0|o)?16:20)>>2]=r))break r}tt[r+24>>2]=s,(e=tt[o+16>>2])&&(tt[r+16>>2]=e,tt[e+24>>2]=r),(e=tt[o+20>>2])&&(tt[r+20>>2]=e,tt[e+24>>2]=r)}}if(tt[i+4>>2]=1|t,tt[t+i>>2]=t,tt[1928]!=(0|i))break e;return void(tt[1925]=t)}tt[o+4>>2]=-2&r,tt[i+4>>2]=1|t,tt[t+i>>2]=t}if(t>>>0<=255)return r=7732+((t>>>=3)<<3)|0,t=(e=tt[1923])&(t=1<<t)?tt[r+8>>2]:(tt[1923]=t|e,r),tt[r+8>>2]=i,tt[t+12>>2]=i,tt[i+12>>2]=r,void(tt[i+8>>2]=t);tt[i+16>>2]=0,e=tt[i+20>>2]=0,(n=t>>>8)&&(e=31,16777215<t>>>0||(e=n,e<<=n=n+1048320>>>16&8,e=28+((e=((e<<=s=e+520192>>>16&4)<<(a=e+245760>>>16&2)>>>15)-(a|n|s)|0)<<1|t>>>e+21&1)|0)),a=7996+((tt[(r=i)+28>>2]=e)<<2)|0;e:if((n=tt[1924])&(r=1<<e)){n=t<<(31==(0|e)?0:25-(e>>>1)|0),r=tt[a>>2];r:{for(;;){if((-8&tt[(e=r)+4>>2])==(0|t))break r;if(r=n>>>29,n<<=1,!(r=tt[16+(a=e+(4&r)|0)>>2]))break}tt[a+16>>2]=i,tt[i+12>>2]=i,tt[i+24>>2]=e,tt[i+8>>2]=i;break e}t=tt[e+8>>2],tt[t+12>>2]=i,tt[e+8>>2]=i,tt[i+24>>2]=0,tt[i+12>>2]=e,tt[i+8>>2]=t}else tt[1924]=r|n,tt[a>>2]=i,tt[i+12>>2]=i,tt[i+24>>2]=a,tt[i+8>>2]=i;if(t=tt[1931]+-1|0,!(tt[1931]=t)){for(i=8148;i=(t=tt[i>>2])+8|0,t;);tt[1931]=-1}}}}function Aa(t,r){var i,n,o=0,a=0,s=0,u=nt(0);if(j(r),!((n=2147483647&(o=e(0)))>>>0<=2139095040&&(j(t),(a=2147483647&(s=e(0)))>>>0<2139095041)))return nt(t+r);if(1065353216==(0|o))return ka(t);o=(i=o>>>30&2)|s>>>31;t:{e:{r:{i:{if(!a){n:switch(o-2|0){case 0:break i;case 1:break n;default:break r}return nt(-3.1415927410125732)}if(2139095040!=(0|n)){if(!n|!(a>>>0<=218103808+n>>>0&&2139095040!=(0|a)))break t;if(a+218103808>>>0<n>>>0&&(u=nt(0),i)||(u=ka(nt(ot(nt(t/r))))),t=u,o>>>0<=2){n:switch(o-1|0){case 0:return nt(-t);case 1:break n;default:break r}return nt(nt(3.1415927410125732)-nt(t+nt(8.742277657347586e-8)))}return nt(nt(t+nt(8.742277657347586e-8))+nt(-3.1415927410125732))}if(2139095040==(0|a))break e;return et[6128+(o<<2)>>2]}t=nt(3.1415927410125732)}return t}return et[6112+(o<<2)>>2]}return nt((0|s)<0?-1.5707963705062866:1.5707963705062866)}function Ia(t,e){var r=0,i=0,n=0;r=0!=(0|e);t:{e:{r:{i:if(!(!e|!(3&t)))for(;;){if(!R[0|t])break r;if(t=t+1|0,r=0!=(0|(e=e+-1|0)),!e)break i;if(!(3&t))break}if(!r)break e}if(!R[0|t])break t;r:{if(4<=e>>>0){for(r=(r=e+-4|0)-(i=-4&r)|0,i=4+(t+i|0)|0;;){if((-1^(n=tt[t>>2]))&n+-16843009&-2139062144)break r;if(t=t+4|0,!(3<(e=e+-4|0)>>>0))break}e=r,t=i}if(!e)break e}for(;;){if(!R[0|t])break t;if(t=t+1|0,!(e=e+-1|0))break}}return 0}return t}function Na(t,e,r,i){if(t|e)for(;T[0|(r=r+-1|0)]=R[3168+(15&t)|0]|i,(t=(15&e)<<28|t>>>4)|(e>>>=4););return r}function Oa(t,e,r){if(t|e)for(;T[0|(r=r+-1|0)]=7&t|48,(t=(7&e)<<29|t>>>3)|(e>>>=3););return r}function $b(t){var r=nt(0),i=nt(0),n=0,o=0,a=nt(0),s=nt(0),u=nt(0),l=nt(0),c=0,h=nt(0),g=nt(0),p=0;t:{e:{if(j(t),o=2147483647&(n=e(0))){if(!(o>>>0<2139095041))return nt(nt(.10000000149011612)+t);if(1065353216==(0|o))return nt(-1<(0|n)?.10000000149011612:10);if(2139095040==(0|o))return nt(-1<(0|n)?0:-t);if(1073741824==(0|n))return nt(.010000000707805157);if(1056964608==(0|n))return nt(.3162277638912201);if(1291845633<=o>>>0)return nt((0|n)<0?A:0);if(a=et[1537],s=nt(nt(1.600000023841858)-a),u=nt(nt(1)/nt(a+nt(1.600000023841858))),f(0,-4096&(j(i=nt(s*u)),e(0))),r=k(),l=nt(r*r),g=et[1541],a=nt(u*nt(nt(s-nt((h=r)*nt(3.099609375)))-nt(r*nt(nt(1.600000023841858)-nt(nt(3.099609375)-a))))),u=nt(nt(i+r)*a),r=nt(i*i),s=nt(u+nt(nt(r*r)*nt(nt(r*nt(nt(r*nt(nt(r*nt(nt(r*nt(nt(r*nt(.20697501301765442))+nt(.23066075146198273)))+nt(.2727281153202057)))+nt(.3333333432674408)))+nt(.4285714328289032)))+nt(.6000000238418579)))),f(0,-4096&(j(nt(nt(l+nt(3))+s)),e(0))),r=k(),u=nt(h*r),i=nt(nt(a*r)+nt(i*nt(s-nt(nt(r+nt(-3))-l)))),f(0,-4096&(j(nt(u+i)),e(0))),r=k(),a=nt(r*nt(.9619140625)),l=nt(et[1539]+nt(nt(nt(i-nt(r-u))*nt(.9617967009544373))+nt(r*nt(-.00011736857413779944)))),f(0,-4096&(j(nt(nt(g+nt(a+l))+nt(-4))),e(0))),i=k(),f(0,-4096&n),s=k(),r=nt(i*s),t=nt(nt(nt(l-nt(nt(nt(i-nt(-4))-g)-a))*t)+nt(nt(t-s)*i)),j(i=nt(r+t)),1124073473<=(0|(n=e(0))))break e;r:{i:{if((o=1124073472)==(0|n)){if(!(nt(t+nt(4.299566569443414e-8))>nt(i-r)))break i;break e}if(o=2147483647&n,!(t<=nt(i-r)^1|-1021968384!=(0|n))|1125515265<=o>>>0)break t;if(o>>>0<1056964609)break r}c=(8388607&(o=(8388608>>>(o>>>23)-126)+n|0)|8388608)>>>150-(p=o>>>23&255),c=(0|n)<0?0-c|0:c,r=nt(r-(f(0,o&-8388608>>p+-127),k())),j(nt(t+r)),n=e(0)}f(0,-32768&n),i=k(),a=nt(i*nt(.693145751953125)),i=nt(nt(i*nt(14286065379565116e-22))+nt(nt(t-nt(i-r))*nt(.6931471824645996))),t=nt(a+i),r=nt(t*t),r=nt(t-nt(r*nt(nt(r*nt(nt(r*nt(nt(r*nt(nt(r*nt(4.138136944220605e-8))+nt(-16533901998627698e-22)))+nt(661375597701408e-19)))+nt(-.0027777778450399637)))+nt(.1666666716337204)))),h=nt(nt(t*r)/nt(r+nt(-2))),r=nt(i-nt(t-a)),t=(0|(n=0|(j(t=nt(nt(t-nt(h-nt(r+nt(t*r))))+nt(1))),e(0)+(c<<23))))<=8388607?function(t,e){var r=0;r:if(128<=(0|e)){if(t=nt(t*nt(17014118346046923e22)),(0|(r=e+-127|0))<128){e=r;break r}t=nt(t*nt(17014118346046923e22)),e=((0|e)<381?e:381)+-254|0}else-127<(0|e)||(t=nt(t*nt(11754943508222875e-54)),e=-127<(0|(r=e+126|0))?r:(t=nt(t*nt(11754943508222875e-54)),(-378<(0|e)?e:-378)+252|0));return nt(t*(f(0,1065353216+(e<<23)|0),k()))}(t,c):(f(0,n),k()),t=nt(nt(1)*t)}else t=nt(1);return t}return nt(A)}return nt(0)}function dc(t,e){var r,i;r=0|t,i=0|e,o[0]=r,o[1]=i}function gc(t,e,r){return n=e,c=0,l=it(a=(o=r)>>>16,c=(i=t)>>>16),i=(65535&(c=((u=it(s=65535&o,i&=65535))>>>16)+it(c,s)|0))+it(i,a)|0,U=((l+it(n,o)|0)+(c>>>16)|0)+(i>>>16)|0,65535&u|i<<16;var i,n,o,a,s,u,l,c}function hc(t,e,r){return function(t,e,r){var i=0,n=0,o=0,a=0,s=0,u=0,l=0,c=0,h=0;t:{e:{r:{i:{n:{o:{a:{s:{u:{if(n=e){if(!(i=r))break u;break s}return dc((e=t)-it(t=(t>>>0)/(r>>>0)|0,r)|0,0),U=0,t}if(!t)break a;break o}if(!((a=i+-1|0)&i))break n;s=0-(a=(b(i)+33|0)-b(n)|0)|0;break r}return dc(0,n-it(t=(n>>>0)/0|0,0)|0),U=0,t}if((i=32-b(n)|0)>>>0<31)break i;break e}if(dc(t&a,0),1==(0|i))break t;return r=31&(i=i?31-b(i+-1^i)|0:32),t=32<=(63&i)>>>0?(n=0,e>>>r):(n=e>>>r,((1<<r)-1&e)<<32-r|t>>>r),U=n,t}a=i+1|0,s=63-i|0}if(i=e,o=31&(n=63&a),o=32<=n>>>0?(n=0,i>>>o):(n=i>>>o,((1<<o)-1&i)<<32-o|t>>>o),i=31&(s&=63),32<=s>>>0?(e=t<<i,t=0):(e=(1<<i)-1&t>>>32-i|e<<i,t<<=i),a)for((s=r+(i=-1)|0)>>>0<4294967295&&(i=0);o=(l=u=o<<1|e>>>31)-(c=r&(u=i-((n=n<<1|o>>>31)+(s>>>0<u>>>0)|0)>>31))|0,n=n-(l>>>0<c>>>0)|0,e=e<<1|t>>>31,t=h|t<<1,h=u&=1,a=a+-1|0;);return dc(o,n),U=e<<1|t>>>31,u|t<<1}dc(t,e),e=t=0}return U=e,t}(t,e,r)}function jc(t){var e;return(-1>>>(e=31&t)&-2)<<e|(-1<<(t=0-t&31)&-2)>>>t}function N(){return d.byteLength/65536|0}var t,r,i,n,o,a,s,u,l,c,p,d,m,E,T,M,tt,R,L,y,et,rt,it,nt,ot,b,F,D,A,C,v,S,at,U,w}i=null,p.wasmBinary&&(v=p.wasmBinary);var w=Error,x={};v=[],"object"!=typeof x&&S("no native wasm support detected");var P,I=new function(t){var r=Array(17);return r.grow=function(){18<=r.length&&B("Unable to grow wasm table. Use a higher value for RESERVED_FUNCTION_POINTERS or set ALLOW_TABLE_GROWTH."),r.push(null)},r.set=function(t,e){r[t]=e},r.get=function(t){return r[t]},r},V=!1;function assert(t,e){t||B("Assertion failed: "+e)}var E,T,R,L,F="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function ja(t,e,r){var i=e+r;for(r=e;t[r]&&!(i<=r);)++r;if(16<r-e&&t.subarray&&F)return F.decode(t.subarray(e,r));for(i="";e<r;){var n=t[e++];if(128&n){var o=63&t[e++];if(192==(224&n))i+=String.fromCharCode((31&n)<<6|o);else{var a=63&t[e++];(n=224==(240&n)?(15&n)<<12|o<<6|a:(7&n)<<18|o<<12|a<<6|63&t[e++])<65536?i+=String.fromCharCode(n):(n-=65536,i+=String.fromCharCode(55296|n>>10,56320|1023&n))}}else i+=String.fromCharCode(n)}return i}function ka(t,e){return t?ja(R,t,e):""}function la(t){return 0<t%65536&&(t+=65536-t%65536),t}function ma(t){E=t,p.HEAP8=T=new Int8Array(t),p.HEAP16=new Int16Array(t),p.HEAP32=L=new Int32Array(t),p.HEAPU8=R=new Uint8Array(t),p.HEAPU16=new Uint16Array(t),p.HEAPU32=new Uint32Array(t),p.HEAPF32=new Float32Array(t),p.HEAPF64=new Float64Array(t)}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var D=p.TOTAL_MEMORY||16777216;function O(t){for(;0<t.length;){var e=t.shift();if("function"==typeof e)e();else{var r=e.X;"number"==typeof r?void 0===e.W?p.dynCall_v(r):p.dynCall_vi(r,e.W):r(void 0===e.W?null:e.W)}}}(P=p.wasmMemory?p.wasmMemory:new function(){return{buffer:new ArrayBuffer(D/65536*65536),grow:function(t){return pt(t)}}})&&(E=P.buffer),D=E.byteLength,ma(E),L[2052]=5251248;var U=[],G=[],J=[],H=[];if(Math.imul&&-5===Math.imul(4294967295,5)||(Math.imul=function(t,e){var r=65535&t,i=65535&e;return r*i+((t>>>16)*i+r*(e>>>16)<<16)|0}),!Math.fround){var Q=new Float32Array(1);Math.fround=function(t){return Q[0]=t,Q[0]}}Math.clz32||(Math.clz32=function(t){var e=32,r=t>>16;return r&&(e-=16,t=r),(r=t>>8)&&(e-=8,t=r),(r=t>>4)&&(e-=4,t=r),(r=t>>2)&&(e-=2,t=r),t>>1?e-2:e-t}),Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)});var q=0,K=null,tt=null;function B(t){throw p.onAbort&&p.onAbort(t),M(t),S(t),V=!0,new w("abort("+t+"). Build with -s ASSERTIONS=1 for more info.")}p.preloadedImages={},p.preloadedAudios={};var et="data:application/octet-stream;base64,";function W(t){return String.prototype.startsWith?t.startsWith(et):0===t.indexOf(et)}var rt="_em_module.wasm";if(!W(rt)){var it=rt;rt=p.locateFile?p.locateFile(it,A):A+it}function ua(){try{if(v)return new Uint8Array(v);var t=z(rt);if(t)return t;if(m)return m(rt);throw"both async and sync fetching of the wasm failed"}catch(t){B(t)}}G.push({X:function(){lt()}});var nt=[null,[],[]],ot=!1;function C(t){for(var e=[],r=0;r<t.length;r++){var i=t[r];255<i&&(ot&&assert(!1,"Character code "+i+" ("+String.fromCharCode(i)+")  at offset "+r+" not in 0x00-0xFF."),i&=255),e.push(String.fromCharCode(i))}return e.join("")}var at="function"==typeof atob?atob:function(t){var e="",r=0;t=t.replace(/[^A-Za-z0-9\+\/=]/g,"");do{var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(t.charAt(r++)),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(t.charAt(r++)),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(t.charAt(r++)),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(t.charAt(r++));i=i<<2|n>>4,n=(15&n)<<4|o>>2;var s=(3&o)<<6|a;e+=String.fromCharCode(i),64!==o&&(e+=String.fromCharCode(n)),64!==a&&(e+=String.fromCharCode(s))}while(r<t.length);return e};function z(e){if(W(e)){if(e=e.slice(et.length),"boolean"==typeof u&&u){try{var r=yt.from(e,"base64")}catch(t){r=new yt(e,"base64")}var t=new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}else try{var i=at(e),n=new Uint8Array(i.length);for(r=0;r<i.length;++r)n[r]=i.charCodeAt(r);t=n}catch(t){throw Error("Converting base64 string to bytes failed.")}return t}}var st={a:function(t,e,r){R.set(R.subarray(e,e+r),t)},b:function(t){if(2147418112<t)return!1;for(var e=Math.max(T.length,16777216);e<t;)e=e<=536870912?la(2*e):Math.min(la((3*e+2147483648)/4),2147418112);t:{try{P.grow(e-E.byteLength+65535>>16),ma(P.buffer);var r=1;break t}catch(t){}r=void 0}return!!r},c:function(t,e,r,i){try{for(var n=0,o=0;o<r;o++){for(var a=L[e+8*o>>2],s=L[e+(8*o+4)>>2],u=0;u<s;u++){var l=R[a+u],c=nt[t];0===l||10===l?((1===t?M:S)(ja(c,0)),c.length=0):c.push(l)}n+=s}return L[i>>2]=n,0}catch(t){return"undefined"!=typeof FS&&t instanceof FS.Y||B(t),t.Z}},memory:P,table:I},ut=function(){function a(t){p.asm=t.exports,q--,p.monitorRunDependencies&&p.monitorRunDependencies(q),0==q&&(null!==K&&(clearInterval(K),K=null),tt&&(t=tt,tt=null,t()))}function c(t){a(t.instance)}function d(t){return(v||!o&&!s||"function"!=typeof fetch?new Promise(function(t){t(ua())}):fetch(rt,{credentials:"same-origin"}).then(function(t){if(!t.ok)throw"failed to load wasm binary file at '"+rt+"'";return t.arrayBuffer()}).catch(function(){return ua()})).then(function(){return{then:function(t){t({instance:new da})}}}).then(t,function(t){S("failed to asynchronously prepare wasm: "+t),B(t)})}var e={env:st,wasi_unstable:st};if(q++,p.monitorRunDependencies&&p.monitorRunDependencies(q),p.instantiateWasm)try{return p.instantiateWasm(e,a)}catch(t){return S("Module.instantiateWasm callback failed with error: "+t),!1}return function(){if(v||"function"!=typeof x.instantiateStreaming||W(rt)||"function"!=typeof fetch)return d(c);fetch(rt,{credentials:"same-origin"}).then(function(t){return x.instantiateStreaming(t,e).then(c,function(t){S("wasm streaming compile failed: "+t),S("falling back to ArrayBuffer instantiation"),d(c)})})}(),{}}();p.asm=ut;var lt=p.___wasm_call_ctors=function(){return p.asm.d.apply(null,arguments)};p._csmGetVersion=function(){return p.asm.e.apply(null,arguments)},p._csmGetLatestMocVersion=function(){return p.asm.f.apply(null,arguments)},p._csmGetMocVersion=function(){return p.asm.g.apply(null,arguments)},p._csmSetLogFunction=function(){return p.asm.h.apply(null,arguments)},p._csmReviveMocInPlace=function(){return p.asm.i.apply(null,arguments)},p._csmReadCanvasInfo=function(){return p.asm.j.apply(null,arguments)},p._csmGetSizeofModel=function(){return p.asm.k.apply(null,arguments)},p._csmInitializeModelInPlace=function(){return p.asm.l.apply(null,arguments)},p._csmUpdateModel=function(){return p.asm.m.apply(null,arguments)},p._csmGetParameterCount=function(){return p.asm.n.apply(null,arguments)},p._csmGetParameterIds=function(){return p.asm.o.apply(null,arguments)},p._csmGetParameterMinimumValues=function(){return p.asm.p.apply(null,arguments)},p._csmGetParameterMaximumValues=function(){return p.asm.q.apply(null,arguments)},p._csmGetParameterDefaultValues=function(){return p.asm.r.apply(null,arguments)},p._csmGetParameterValues=function(){return p.asm.s.apply(null,arguments)},p._csmGetPartCount=function(){return p.asm.t.apply(null,arguments)},p._csmGetPartIds=function(){return p.asm.u.apply(null,arguments)},p._csmGetPartOpacities=function(){return p.asm.v.apply(null,arguments)},p._csmGetPartParentPartIndices=function(){return p.asm.w.apply(null,arguments)},p._csmGetDrawableCount=function(){return p.asm.x.apply(null,arguments)},p._csmGetDrawableIds=function(){return p.asm.y.apply(null,arguments)},p._csmGetDrawableConstantFlags=function(){return p.asm.z.apply(null,arguments)},p._csmGetDrawableDynamicFlags=function(){return p.asm.A.apply(null,arguments)},p._csmGetDrawableTextureIndices=function(){return p.asm.B.apply(null,arguments)},p._csmGetDrawableDrawOrders=function(){return p.asm.C.apply(null,arguments)},p._csmGetDrawableRenderOrders=function(){return p.asm.D.apply(null,arguments)},p._csmGetDrawableOpacities=function(){return p.asm.E.apply(null,arguments)},p._csmGetDrawableMaskCounts=function(){return p.asm.F.apply(null,arguments)},p._csmGetDrawableMasks=function(){return p.asm.G.apply(null,arguments)},p._csmGetDrawableVertexCounts=function(){return p.asm.H.apply(null,arguments)},p._csmGetDrawableVertexPositions=function(){return p.asm.I.apply(null,arguments)},p._csmGetDrawableVertexUvs=function(){return p.asm.J.apply(null,arguments)},p._csmGetDrawableIndexCounts=function(){return p.asm.K.apply(null,arguments)},p._csmGetDrawableIndices=function(){return p.asm.L.apply(null,arguments)},p._csmResetDrawableDynamicFlags=function(){return p.asm.M.apply(null,arguments)},p._csmMallocMoc=function(){return p.asm.N.apply(null,arguments)},p._csmMallocModelAndInitialize=function(){return p.asm.O.apply(null,arguments)},p._csmMalloc=function(){return p.asm.P.apply(null,arguments)},p._csmFree=function(){return p.asm.Q.apply(null,arguments)};var ct,ht=p.stackSave=function(){return p.asm.R.apply(null,arguments)},ft=p.stackAlloc=function(){return p.asm.S.apply(null,arguments)},gt=p.stackRestore=function(){return p.asm.T.apply(null,arguments)},pt=p.__growWasmMemory=function(){return p.asm.U.apply(null,arguments)};function Z(){function a(){if(!ct&&(ct=!0,!V)){if(O(G),O(J),p.onRuntimeInitialized&&p.onRuntimeInitialized(),p.postRun)for("function"==typeof p.postRun&&(p.postRun=[p.postRun]);p.postRun.length;){var t=p.postRun.shift();H.unshift(t)}O(H)}}if(!(0<q)){if(p.preRun)for("function"==typeof p.preRun&&(p.preRun=[p.preRun]);p.preRun.length;)t=p.preRun.shift(),U.unshift(t);O(U),0<q||(p.setStatus?(p.setStatus("Running..."),setTimeout(function(){setTimeout(function(){p.setStatus("")},1),a()},1)):a())}var t}if(p.dynCall_vi=function(){return p.asm.V.apply(null,arguments)},p.asm=ut,p.ccall=function(t,e,r,i){var n,o,a={string:function(t){var e=0;if(null!=t&&0!==t){var r=1+(t.length<<2),i=e=ft(r),n=R;if(0<r){r=i+r-1;for(var o=0;o<t.length;++o){var a=t.charCodeAt(o);if(55296<=a&&a<=57343&&(a=65536+((1023&a)<<10)|1023&t.charCodeAt(++o)),a<=127){if(r<=i)break;n[i++]=a}else{if(a<=2047){if(r<=i+1)break;n[i++]=192|a>>6}else{if(a<=65535){if(r<=i+2)break;n[i++]=224|a>>12}else{if(r<=i+3)break;n[i++]=240|a>>18,n[i++]=128|a>>12&63}n[i++]=128|a>>6&63}n[i++]=128|63&a}}n[i]=0}}return e},array:function(t){var e=ft(t.length);return T.set(t,e),e}},s=(assert(n=p["_"+t],"Cannot call unknown function "+t+", make sure it is exported"),n),u=[];if(t=0,i)for(var l=0;l<i.length;l++){var c=a[r[l]];c?(0===t&&(t=ht()),u[l]=c(i[l])):u[l]=i[l]}return o=r=s.apply(null,u),r="string"===e?ka(o):"boolean"===e?!!o:o,0!==t&&gt(t),r},p.UTF8ToString=ka,p.addFunction=function(e,r){var i=I.length;try{I.grow(1)}catch(t){if(!t instanceof RangeError)throw t;throw"Unable to grow wasm table. Use a higher value for RESERVED_FUNCTION_POINTERS or set ALLOW_TABLE_GROWTH."}try{I.set(i,e)}catch(t){if(!t instanceof TypeError)throw t;assert(void 0!==r,"Missing signature argument to addFunction"),I.set(i,e)}return i},p.then=function(t){if(ct)t(p);else{var e=p.onRuntimeInitialized;p.onRuntimeInitialized=function(){e&&e(),t(p)}}return p},tt=function Ea(){ct||Z(),ct||(tt=Ea)},p.run=Z,p.preInit)for("function"==typeof p.preInit&&(p.preInit=[p.preInit]);0<p.preInit.length;)p.preInit.pop()();return Z(),t}),p=(d.exports=c)()}(t=t||{}),d.exports=t}).call(this,bt(1),"/",bt(2).Buffer)},function(t,e){var r,i,n=t.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(r===setTimeout)return setTimeout(e,0);if((r===defaultSetTimout||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(t){r=defaultSetTimout}try{i="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(t){i=defaultClearTimeout}}();var o,a=[],s=!1,u=-1;function cleanUpNextTick(){s&&o&&(s=!1,o.length?a=o.concat(a):u=-1,a.length&&drainQueue())}function drainQueue(){if(!s){var t=runTimeout(cleanUpNextTick);s=!0;for(var e=a.length;e;){for(o=a,a=[];++u<e;)o&&o[u].run();u=-1,e=a.length}o=null,s=!1,function runClearTimeout(e){if(i===clearTimeout)return clearTimeout(e);if((i===defaultClearTimeout||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(t)}}function Item(t,e){this.fun=t,this.array=e}function noop(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];a.push(new Item(t,e)),1!==a.length||s||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=noop,n.addListener=noop,n.once=noop,n.off=noop,n.removeListener=noop,n.removeAllListeners=noop,n.emit=noop,n.prependListener=noop,n.prependOnceListener=noop,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(t,r,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var i=n(4),o=n(5),a=n(6);function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(t,e){if(kMaxLength()<e)throw new RangeError("Invalid typed array length");return Buffer.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=Buffer.prototype:(null===t&&(t=new Buffer(e)),t.length=e),t}function Buffer(t,e,r){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(t,e,r);if("number"!=typeof t)return from(this,t,e,r);if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return allocUnsafe(this,t)}function from(t,e,r,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function fromArrayBuffer(t,e,r,i){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(i||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,r):new Uint8Array(e,r,i);Buffer.TYPED_ARRAY_SUPPORT?(t=e).__proto__=Buffer.prototype:t=fromArrayLike(t,e);return t}(t,e,r,i):"string"==typeof e?function fromString(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!Buffer.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var i=0|byteLength(e,r),n=(t=createBuffer(t,i)).write(e,r);n!==i&&(t=t.slice(0,n));return t}(t,e,r):function fromObject(t,e){if(Buffer.isBuffer(e)){var r=0|checked(e.length);return 0===(t=createBuffer(t,r)).length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function isnan(t){return t!=t}(e.length)?createBuffer(t,0):fromArrayLike(t,e);if("Buffer"===e.type&&a(e.data))return fromArrayLike(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function assertSize(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function allocUnsafe(t,e){if(assertSize(e),t=createBuffer(t,e<0?0:0|checked(e)),!Buffer.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function fromArrayLike(t,e){var r=e.length<0?0:0|checked(e.length);t=createBuffer(t,r);for(var i=0;i<r;i+=1)t[i]=255&e[i];return t}function checked(t){if(t>=kMaxLength())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+kMaxLength().toString(16)+" bytes");return 0|t}function byteLength(t,e){if(Buffer.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return utf8ToBytes(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(t).length;default:if(i)return utf8ToBytes(t).length;e=(""+e).toLowerCase(),i=!0}}function swap(t,e,r){var i=t[e];t[e]=t[r],t[r]=i}function bidirectionalIndexOf(t,e,r,i,n){if(0===t.length)return-1;if("string"==typeof r?(i=r,r=0):2147483647<r?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=n?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(n)return-1;r=t.length-1}else if(r<0){if(!n)return-1;r=0}if("string"==typeof e&&(e=Buffer.from(e,i)),Buffer.isBuffer(e))return 0===e.length?-1:arrayIndexOf(t,e,r,i,n);if("number"==typeof e)return e&=255,Buffer.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):arrayIndexOf(t,[e],r,i,n);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(t,e,r,i,n){var o,a=1,s=t.length,u=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;s/=a=2,u/=2,r/=2}function read(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(n){var l=-1;for(o=r;o<s;o++)if(read(t,o)===read(e,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(s<r+u&&(r=s-u),o=r;0<=o;o--){for(var c=!0,h=0;h<u;h++)if(read(t,o+h)!==read(e,h)){c=!1;break}if(c)return o}return-1}function hexWrite(t,e,r,i){r=Number(r)||0;var n=t.length-r;(!i||n<(i=Number(i)))&&(i=n);var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");o/2<i&&(i=o/2);for(var a=0;a<i;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[r+a]=s}return a}function asciiWrite(t,e,r,i){return blitBuffer(function asciiToBytes(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,i)}function ucs2Write(t,e,r,i){return blitBuffer(function utf16leToBytes(t,e){for(var r,i,n,o=[],a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),i=r>>8,n=r%256,o.push(n),o.push(i);return o}(e,t.length-r),t,r,i)}function base64Slice(t,e,r){return 0===e&&r===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,r))}function utf8Slice(t,e,r){r=Math.min(t.length,r);for(var i=[],n=e;n<r;){var o,a,s,u,l=t[n],c=null,h=239<l?4:223<l?3:191<l?2:1;if(n+h<=r)switch(h){case 1:l<128&&(c=l);break;case 2:128==(192&(o=t[n+1]))&&127<(u=(31&l)<<6|63&o)&&(c=u);break;case 3:o=t[n+1],a=t[n+2],128==(192&o)&&128==(192&a)&&2047<(u=(15&l)<<12|(63&o)<<6|63&a)&&(u<55296||57343<u)&&(c=u);break;case 4:o=t[n+1],a=t[n+2],s=t[n+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&65535<(u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)&&u<1114112&&(c=u)}null===c?(c=65533,h=1):65535<c&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),n+=h}return function decodeCodePointsArray(t){var e=t.length;if(e<=f)return String.fromCharCode.apply(String,t);var r="",i=0;for(;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=f));return r}(i)}r.Buffer=Buffer,r.SlowBuffer=function SlowBuffer(t){+t!=t&&(t=0);return Buffer.alloc(+t)},r.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function typedArraySupport(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),r.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(t){return t.__proto__=Buffer.prototype,t},Buffer.from=function(t,e,r){return from(null,t,e,r)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(t,e,r){return function alloc(t,e,r,i){return assertSize(e),!(e<=0)&&void 0!==r?"string"==typeof i?createBuffer(t,e).fill(r,i):createBuffer(t,e).fill(r):createBuffer(t,e)}(null,t,e,r)},Buffer.allocUnsafe=function(t){return allocUnsafe(null,t)},Buffer.allocUnsafeSlow=function(t){return allocUnsafe(null,t)},Buffer.isBuffer=function isBuffer(t){return!(null==t||!t._isBuffer)},Buffer.compare=function compare(t,e){if(!Buffer.isBuffer(t)||!Buffer.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,i=e.length,n=0,o=Math.min(r,i);n<o;++n)if(t[n]!==e[n]){r=t[n],i=e[n];break}return r<i?-1:i<r?1:0},Buffer.isEncoding=function isEncoding(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function concat(t,e){if(!a(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return Buffer.alloc(0);var r;if(void 0===e)for(r=e=0;r<t.length;++r)e+=t[r].length;var i=Buffer.allocUnsafe(e),n=0;for(r=0;r<t.length;++r){var o=t[r];if(!Buffer.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(i,n),n+=o.length}return i},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function swap16(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)swap(this,e,e+1);return this},Buffer.prototype.swap32=function swap32(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)swap(this,e,e+3),swap(this,e+1,e+2);return this},Buffer.prototype.swap64=function swap64(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)swap(this,e,e+7),swap(this,e+1,e+6),swap(this,e+2,e+5),swap(this,e+3,e+4);return this},Buffer.prototype.toString=function toString(){var t=0|this.length;return 0==t?"":0===arguments.length?utf8Slice(this,0,t):function slowToString(t,e,r){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t=t||"utf8";;)switch(t){case"hex":return hexSlice(this,e,r);case"utf8":case"utf-8":return utf8Slice(this,e,r);case"ascii":return asciiSlice(this,e,r);case"latin1":case"binary":return latin1Slice(this,e,r);case"base64":return base64Slice(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}.apply(this,arguments)},Buffer.prototype.equals=function equals(t){if(!Buffer.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===Buffer.compare(this,t)},Buffer.prototype.inspect=function inspect(){var t="",e=r.INSPECT_MAX_BYTES;return 0<this.length&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},Buffer.prototype.compare=function compare(t,e,r,i,n){if(!Buffer.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===i&&(i=0),void 0===n&&(n=this.length),e<0||r>t.length||i<0||n>this.length)throw new RangeError("out of range index");if(n<=i&&r<=e)return 0;if(n<=i)return-1;if(r<=e)return 1;if(this===t)return 0;for(var o=(n>>>=0)-(i>>>=0),a=(r>>>=0)-(e>>>=0),s=Math.min(o,a),u=this.slice(i,n),l=t.slice(e,r),c=0;c<s;++c)if(u[c]!==l[c]){o=u[c],a=l[c];break}return o<a?-1:a<o?1:0},Buffer.prototype.includes=function includes(t,e,r){return-1!==this.indexOf(t,e,r)},Buffer.prototype.indexOf=function indexOf(t,e,r){return bidirectionalIndexOf(this,t,e,r,!0)},Buffer.prototype.lastIndexOf=function lastIndexOf(t,e,r){return bidirectionalIndexOf(this,t,e,r,!1)},Buffer.prototype.write=function write(t,e,r,i){if(void 0===e)i="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)i=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===i&&(i="utf8")):(i=r,r=void 0)}var n=this.length-e;if((void 0===r||n<r)&&(r=n),0<t.length&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i=i||"utf8";for(var o,a,s,u,l,c,h=!1;;)switch(i){case"hex":return hexWrite(this,t,e,r);case"utf8":case"utf-8":return l=e,c=r,blitBuffer(utf8ToBytes(t,(u=this).length-l),u,l,c);case"ascii":return asciiWrite(this,t,e,r);case"latin1":case"binary":return asciiWrite(this,t,e,r);case"base64":return o=this,a=e,s=r,blitBuffer(base64ToBytes(t),o,a,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,t,e,r);default:if(h)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),h=!0}},Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var f=4096;function asciiSlice(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(127&t[n]);return i}function latin1Slice(t,e,r){var i="";r=Math.min(t.length,r);for(var n=e;n<r;++n)i+=String.fromCharCode(t[n]);return i}function hexSlice(t,e,r){var i=t.length;(!e||e<0)&&(e=0),(!r||r<0||i<r)&&(r=i);for(var n="",o=e;o<r;++o)n+=toHex(t[o]);return n}function utf16leSlice(t,e,r){for(var i=t.slice(e,r),n="",o=0;o<i.length;o+=2)n+=String.fromCharCode(i[o]+256*i[o+1]);return n}function checkOffset(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(r<t+e)throw new RangeError("Trying to access beyond buffer length")}function checkInt(t,e,r,i,n,o){if(!Buffer.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(n<e||e<o)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}function objectWriteUInt16(t,e,r,i){e<0&&(e=65535+e+1);for(var n=0,o=Math.min(t.length-r,2);n<o;++n)t[r+n]=(e&255<<8*(i?n:1-n))>>>8*(i?n:1-n)}function objectWriteUInt32(t,e,r,i){e<0&&(e=4294967295+e+1);for(var n=0,o=Math.min(t.length-r,4);n<o;++n)t[r+n]=e>>>8*(i?n:3-n)&255}function checkIEEE754(t,e,r,i){if(r+i>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function writeFloat(t,e,r,i,n){return n||checkIEEE754(t,0,r,4),o.write(t,e,r,i,23,4),r+4}function writeDouble(t,e,r,i,n){return n||checkIEEE754(t,0,r,8),o.write(t,e,r,i,52,8),r+8}Buffer.prototype.slice=function slice(t,e){var r,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):i<t&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):i<e&&(e=i),e<t&&(e=t),Buffer.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=Buffer.prototype;else{var n=e-t;r=new Buffer(n,void 0);for(var o=0;o<n;++o)r[o]=this[o+t]}return r},Buffer.prototype.readUIntLE=function readUIntLE(t,e,r){t|=0,e|=0,r||checkOffset(t,e,this.length);for(var i=this[t],n=1,o=0;++o<e&&(n*=256);)i+=this[t+o]*n;return i},Buffer.prototype.readUIntBE=function readUIntBE(t,e,r){t|=0,e|=0,r||checkOffset(t,e,this.length);for(var i=this[t+--e],n=1;0<e&&(n*=256);)i+=this[t+--e]*n;return i},Buffer.prototype.readUInt8=function readUInt8(t,e){return e||checkOffset(t,1,this.length),this[t]},Buffer.prototype.readUInt16LE=function readUInt16LE(t,e){return e||checkOffset(t,2,this.length),this[t]|this[t+1]<<8},Buffer.prototype.readUInt16BE=function readUInt16BE(t,e){return e||checkOffset(t,2,this.length),this[t]<<8|this[t+1]},Buffer.prototype.readUInt32LE=function readUInt32LE(t,e){return e||checkOffset(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Buffer.prototype.readUInt32BE=function readUInt32BE(t,e){return e||checkOffset(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Buffer.prototype.readIntLE=function readIntLE(t,e,r){t|=0,e|=0,r||checkOffset(t,e,this.length);for(var i=this[t],n=1,o=0;++o<e&&(n*=256);)i+=this[t+o]*n;return(n*=128)<=i&&(i-=Math.pow(2,8*e)),i},Buffer.prototype.readIntBE=function readIntBE(t,e,r){t|=0,e|=0,r||checkOffset(t,e,this.length);for(var i=e,n=1,o=this[t+--i];0<i&&(n*=256);)o+=this[t+--i]*n;return(n*=128)<=o&&(o-=Math.pow(2,8*e)),o},Buffer.prototype.readInt8=function readInt8(t,e){return e||checkOffset(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Buffer.prototype.readInt16LE=function readInt16LE(t,e){e||checkOffset(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function readInt16BE(t,e){e||checkOffset(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function readInt32LE(t,e){return e||checkOffset(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Buffer.prototype.readInt32BE=function readInt32BE(t,e){return e||checkOffset(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Buffer.prototype.readFloatLE=function readFloatLE(t,e){return e||checkOffset(t,4,this.length),o.read(this,t,!0,23,4)},Buffer.prototype.readFloatBE=function readFloatBE(t,e){return e||checkOffset(t,4,this.length),o.read(this,t,!1,23,4)},Buffer.prototype.readDoubleLE=function readDoubleLE(t,e){return e||checkOffset(t,8,this.length),o.read(this,t,!0,52,8)},Buffer.prototype.readDoubleBE=function readDoubleBE(t,e){return e||checkOffset(t,8,this.length),o.read(this,t,!1,52,8)},Buffer.prototype.writeUIntLE=function writeUIntLE(t,e,r,i){t=+t,e|=0,r|=0,i||checkInt(this,t,e,r,Math.pow(2,8*r)-1,0);var n=1,o=0;for(this[e]=255&t;++o<r&&(n*=256);)this[e+o]=t/n&255;return e+r},Buffer.prototype.writeUIntBE=function writeUIntBE(t,e,r,i){t=+t,e|=0,r|=0,i||checkInt(this,t,e,r,Math.pow(2,8*r)-1,0);var n=r-1,o=1;for(this[e+n]=255&t;0<=--n&&(o*=256);)this[e+n]=t/o&255;return e+r},Buffer.prototype.writeUInt8=function writeUInt8(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},Buffer.prototype.writeUInt16LE=function writeUInt16LE(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):objectWriteUInt16(this,t,e,!0),e+2},Buffer.prototype.writeUInt16BE=function writeUInt16BE(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):objectWriteUInt16(this,t,e,!1),e+2},Buffer.prototype.writeUInt32LE=function writeUInt32LE(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):objectWriteUInt32(this,t,e,!0),e+4},Buffer.prototype.writeUInt32BE=function writeUInt32BE(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):objectWriteUInt32(this,t,e,!1),e+4},Buffer.prototype.writeIntLE=function writeIntLE(t,e,r,i){if(t=+t,e|=0,!i){var n=Math.pow(2,8*r-1);checkInt(this,t,e,r,n-1,-n)}var o=0,a=1,s=0;for(this[e]=255&t;++o<r&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},Buffer.prototype.writeIntBE=function writeIntBE(t,e,r,i){if(t=+t,e|=0,!i){var n=Math.pow(2,8*r-1);checkInt(this,t,e,r,n-1,-n)}var o=r-1,a=1,s=0;for(this[e+o]=255&t;0<=--o&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},Buffer.prototype.writeInt8=function writeInt8(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},Buffer.prototype.writeInt16LE=function writeInt16LE(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):objectWriteUInt16(this,t,e,!0),e+2},Buffer.prototype.writeInt16BE=function writeInt16BE(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):objectWriteUInt16(this,t,e,!1),e+2},Buffer.prototype.writeInt32LE=function writeInt32LE(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):objectWriteUInt32(this,t,e,!0),e+4},Buffer.prototype.writeInt32BE=function writeInt32BE(t,e,r){return t=+t,e|=0,r||checkInt(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),Buffer.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):objectWriteUInt32(this,t,e,!1),e+4},Buffer.prototype.writeFloatLE=function writeFloatLE(t,e,r){return writeFloat(this,t,e,!0,r)},Buffer.prototype.writeFloatBE=function writeFloatBE(t,e,r){return writeFloat(this,t,e,!1,r)},Buffer.prototype.writeDoubleLE=function writeDoubleLE(t,e,r){return writeDouble(this,t,e,!0,r)},Buffer.prototype.writeDoubleBE=function writeDoubleBE(t,e,r){return writeDouble(this,t,e,!1,r)},Buffer.prototype.copy=function copy(t,e,r,i){if(r=r||0,i||0===i||(i=this.length),e>=t.length&&(e=t.length),e=e||0,0<i&&i<r&&(i=r),i===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-r&&(i=t.length-e+r);var n,o=i-r;if(this===t&&r<e&&e<i)for(n=o-1;0<=n;--n)t[n+e]=this[n+r];else if(o<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(n=0;n<o;++n)t[n+e]=this[n+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},Buffer.prototype.fill=function fill(t,e,r,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,r=this.length):"string"==typeof r&&(i=r,r=this.length),1===t.length){var n=t.charCodeAt(0);n<256&&(t=n)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!Buffer.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,"number"==typeof(t=t||0))for(o=e;o<r;++o)this[o]=t;else{var a=Buffer.isBuffer(t)?t:utf8ToBytes(new Buffer(t,i).toString()),s=a.length;for(o=0;o<r-e;++o)this[o+e]=a[o%s]}return this};var e=/[^+\/0-9A-Za-z-_]/g;function base64clean(t){if((t=function stringtrim(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(e,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}function toHex(t){return t<16?"0"+t.toString(16):t.toString(16)}function utf8ToBytes(t,e){var r;e=e||1/0;for(var i=t.length,n=null,o=[],a=0;a<i;++a){if(55295<(r=t.charCodeAt(a))&&r<57344){if(!n){if(56319<r){-1<(e-=3)&&o.push(239,191,189);continue}if(a+1===i){-1<(e-=3)&&o.push(239,191,189);continue}n=r;continue}if(r<56320){-1<(e-=3)&&o.push(239,191,189),n=r;continue}r=65536+(n-55296<<10|r-56320)}else n&&-1<(e-=3)&&o.push(239,191,189);if(n=null,r<128){if(--e<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function base64ToBytes(t){return i.toByteArray(base64clean(t))}function blitBuffer(t,e,r,i){for(var n=0;n<i&&!(n+r>=e.length||n>=t.length);++n)e[n+r]=t[n];return n}}).call(this,n(3))},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";e.byteLength=function byteLength(t){var e=getLens(t),r=e[0],i=e[1];return 3*(r+i)/4-i},e.toByteArray=function toByteArray(t){var e,r,i=getLens(t),n=i[0],o=i[1],a=new c(function _byteLength(t,e,r){return 3*(e+r)/4-r}(0,n,o)),s=0,u=0<o?n-4:n;for(r=0;r<u;r+=4)e=l[t.charCodeAt(r)]<<18|l[t.charCodeAt(r+1)]<<12|l[t.charCodeAt(r+2)]<<6|l[t.charCodeAt(r+3)],a[s++]=e>>16&255,a[s++]=e>>8&255,a[s++]=255&e;2===o&&(e=l[t.charCodeAt(r)]<<2|l[t.charCodeAt(r+1)]>>4,a[s++]=255&e);1===o&&(e=l[t.charCodeAt(r)]<<10|l[t.charCodeAt(r+1)]<<4|l[t.charCodeAt(r+2)]>>2,a[s++]=e>>8&255,a[s++]=255&e);return a},e.fromByteArray=function fromByteArray(t){for(var e,r=t.length,i=r%3,n=[],o=0,a=r-i;o<a;o+=16383)n.push(encodeChunk(t,o,a<o+16383?a:o+16383));1==i?(e=t[r-1],n.push(s[e>>2]+s[e<<4&63]+"==")):2==i&&(e=(t[r-2]<<8)+t[r-1],n.push(s[e>>10]+s[e>>4&63]+s[e<<2&63]+"="));return n.join("")};for(var s=[],l=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0,o=i.length;n<o;++n)s[n]=i[n],l[i.charCodeAt(n)]=n;function getLens(t){var e=t.length;if(0<e%4)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function encodeChunk(t,e,r){for(var i,n,o=[],a=e;a<r;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(s[(n=i)>>18&63]+s[n>>12&63]+s[n>>6&63]+s[63&n]);return o.join("")}l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,r,i,n){var o,a,s=8*n-i-1,u=(1<<s)-1,l=u>>1,c=-7,h=r?n-1:0,f=r?-1:1,g=t[e+h];for(h+=f,o=g&(1<<-c)-1,g>>=-c,c+=s;0<c;o=256*o+t[e+h],h+=f,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=i;0<c;a=256*a+t[e+h],h+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(g?-1:1);a+=Math.pow(2,i),o-=l}return(g?-1:1)*a*Math.pow(2,o-i)},e.write=function(t,e,r,i,n,o){var a,s,u,l=8*o-n-1,c=(1<<l)-1,h=c>>1,f=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,g=i?0:o-1,p=i?1:-1,d=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),2<=(e+=1<=a+h?f/u:f*Math.pow(2,1-h))*u&&(a++,u/=2),c<=a+h?(s=0,a=c):1<=a+h?(s=(e*u-1)*Math.pow(2,n),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,n),a=0));8<=n;t[r+g]=255&s,g+=p,s/=256,n-=8);for(a=a<<n|s,l+=n;0<l;t[r+g]=255&a,g+=p,a/=256,l-=8);t[r+g-p]|=128*d}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e){},function(t,u,e){(function(n){function normalizeArray(t,e){for(var r=0,i=t.length-1;0<=i;i--){var n=t[i];"."===n?t.splice(i,1):".."===n?(t.splice(i,1),r++):r&&(t.splice(i,1),r--)}if(e)for(;r--;)t.unshift("..");return t}function filter(t,e){if(t.filter)return t.filter(e);for(var r=[],i=0;i<t.length;i++)e(t[i],i,t)&&r.push(t[i]);return r}u.resolve=function(){for(var t="",e=!1,r=arguments.length-1;-1<=r&&!e;r--){var i=0<=r?arguments[r]:n.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(t=i+"/"+t,e="/"===i.charAt(0))}return(e?"/":"")+(t=normalizeArray(filter(t.split("/"),function(t){return!!t}),!e).join("/"))||"."},u.normalize=function(t){var e=u.isAbsolute(t),r="/"===i(t,-1);return(t=normalizeArray(filter(t.split("/"),function(t){return!!t}),!e).join("/"))||e||(t="."),t&&r&&(t+="/"),(e?"/":"")+t},u.isAbsolute=function(t){return"/"===t.charAt(0)},u.join=function(){var t=Array.prototype.slice.call(arguments,0);return u.normalize(filter(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},u.relative=function(t,e){function trim(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;0<=r&&""===t[r];r--);return r<e?[]:t.slice(e,r-e+1)}t=u.resolve(t).substr(1),e=u.resolve(e).substr(1);for(var r=trim(t.split("/")),i=trim(e.split("/")),n=Math.min(r.length,i.length),o=n,a=0;a<n;a++)if(r[a]!==i[a]){o=a;break}var s=[];for(a=o;a<r.length;a++)s.push("..");return(s=s.concat(i.slice(o))).join("/")},u.sep="/",u.delimiter=":",u.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),r=47===e,i=-1,n=!0,o=t.length-1;1<=o;--o)if(47===(e=t.charCodeAt(o))){if(!n){i=o;break}}else n=!1;return-1===i?r?"/":".":r&&1===i?"/":t.slice(0,i)},u.basename=function(t,e){var r=function basename(t){"string"!=typeof t&&(t+="");var e,r=0,i=-1,n=!0;for(e=t.length-1;0<=e;--e)if(47===t.charCodeAt(e)){if(!n){r=e+1;break}}else-1===i&&(n=!1,i=e+1);return-1===i?"":t.slice(r,i)}(t);return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},u.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,r=0,i=-1,n=!0,o=0,a=t.length-1;0<=a;--a){var s=t.charCodeAt(a);if(47===s){if(n)continue;r=a+1;break}-1===i&&(n=!1,i=a+1),46===s?-1===e?e=a:1!==o&&(o=1):-1!==e&&(o=-1)}return-1===e||-1===i||0===o||1===o&&e===i-1&&e===r+1?"":t.slice(e,i)};var i="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}}).call(this,e(1))},function(t,e,r){"use strict";r.r(e);var w=(Logger.init=function(t,e,r){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===r&&(r=!0),this.canLog=t,this.canWarn=e,this.canError=r},Logger.log=function(t,e){void 0===e&&(e=!1),Logger.canLog&&console.log("[live2d-helper] "+t)},Logger.warn=function(t,e){void 0===e&&(e=!1),Logger.canWarn&&console.warn("[live2d-helper] "+t)},Logger.error=function(t,e){void 0===e&&(e=!1),Logger.canError&&console.error("[live2d-helper] "+t)},Logger.canLog=!0,Logger.canWarn=!0,Logger.canError=!0,Logger);function Logger(){}var i=function(t,i,n,o){return new(n=n||Promise)(function(e,r){function fulfilled(t){try{step(o.next(t))}catch(t){r(t)}}function rejected(t){try{step(o.throw(t))}catch(t){r(t)}}function step(t){t.done?e(t.value):function adopt(e){return e instanceof n?e:new n(function(t){t(e)})}(t.value).then(fulfilled,rejected)}step((o=o.apply(t,i||[])).next())})},n=function(r,i){var n,o,a,t,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return t={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function verb(e){return function(t){return function step(e){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(a=2&e[0]?o.return:e[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,e[1])).done)return a;switch(o=0,a&&(e=[2&e[0],a.value]),e[0]){case 0:case 1:a=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,o=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){s.label=e[1];break}if(6===e[0]&&s.label<a[1]){s.label=a[1],a=e;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(e);break}a[2]&&s.ops.pop(),s.trys.pop();continue}e=i.call(r,s)}catch(t){e=[6,t],o=0}finally{n=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},x=(Utils.xhr=function(i,n,o){return new Promise(function(t,e){var r=new XMLHttpRequest;r.open(n,i),r.responseType=o,r.onreadystatechange=function(){4===r.readyState&&(200===r.status?t(r.response):e({status:r.status,message:r.responseText}))},r.send()})},Utils.getJson=function(e){return i(this,void 0,void 0,function(){return n(this,function(t){switch(t.label){case 0:return[4,this.xhr(e,"get","json")];case 1:return[2,t.sent()]}})})},Utils.getBlob=function(e){return i(this,void 0,void 0,function(){return n(this,function(t){switch(t.label){case 0:return[4,this.xhr(e,"get","blob")];case 1:return[2,t.sent()]}})})},Utils.getArraybuffer=function(e){return i(this,void 0,void 0,function(){return n(this,function(t){switch(t.label){case 0:return[4,this.xhr(e,"get","arraybuffer")];case 1:return[2,t.sent()]}})})},Utils.arrayBuffer2String=function(t){return String.fromCharCode.apply(null,new Uint8Array(t))},Utils.getRandomItem=function(t){return t[Math.floor(Math.random()*t.length)]},Utils);function Utils(){}var o,a,s,u=function(t,i,n,o){return new(n=n||Promise)(function(e,r){function fulfilled(t){try{step(o.next(t))}catch(t){r(t)}}function rejected(t){try{step(o.throw(t))}catch(t){r(t)}}function step(t){t.done?e(t.value):function adopt(e){return e instanceof n?e:new n(function(t){t(e)})}(t.value).then(fulfilled,rejected)}step((o=o.apply(t,i||[])).next())})},B=function(r,i){var n,o,a,t,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return t={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function verb(e){return function(t){return function step(e){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(a=2&e[0]?o.return:e[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,e[1])).done)return a;switch(o=0,a&&(e=[2&e[0],a.value]),e[0]){case 0:case 1:a=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,o=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){s.label=e[1];break}if(6===e[0]&&s.label<a[1]){s.label=a[1],a=e;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(e);break}a[2]&&s.ops.pop(),s.trys.pop();continue}e=i.call(r,s)}catch(t){e=[6,t],o=0}finally{n=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},l=(Setting.prototype.init=function(M,S){return u(this,void 0,void 0,function(){var e,r,i,n,o,a,s,u,l,c,h,f,g,p,d,m,_,y,b,A,C,v;return B(this,function(t){switch(t.label){case 0:if(("string"==typeof M||M instanceof HTMLCanvasElement)&&"string"==typeof S)if(this.baseUrl=/\/$/.test(S)?S:S+"/","string"==typeof M){if(this.canvas=document.querySelector(M),!this.canvas)throw w.error("Not Found HTMLCanvasElement"),new Error("Not Found HTMLCanvasElement")}else this.canvas=M;else{if(r=M.canvas,i=M.baseUrl,n=M.model,o=M.imageUrl,a=M.soundUrl,s=M.interval,u=M.width,l=M.height,c=M.layout,h=M.debug,f=M.idle,g=M.view,p=M.initModelCallback,d=M.scaling,m=M.globalFollowPointer,_=M.binding,y=M.autoLoadAudio,b=M.allowSound,A=M.motionLoadMode,this.canvas=r instanceof HTMLElement?r:document.querySelector(r),this.baseUrl=/\/$/.test(i)?i:i+"/",this.imageUrl=o||this.baseUrl,this.imageUrl=/\/$/.test(this.imageUrl)?this.imageUrl:this.imageUrl+"/",this.soundUrl=a||this.baseUrl,this.soundUrl=/\/$/.test(this.soundUrl)?this.soundUrl:this.soundUrl+"/",this.interval=s||15e3,this.width=isNaN(Number(u))?800:Number(u),this.height=isNaN(Number(l))?800:Number(l),this.canvas.width=this.width,this.canvas.height=this.height,this.layout=c,this.debug=h||this.debug,this.idle=f,this.motionLoadMode=A||"lazy",g)for(C in this.view)g[C]&&(this.view[C]=g[C]);this.initModelCallback="function"==typeof p?p:function(t){},this.scaling="boolean"==typeof d&&d,this.globalFollowPointer="boolean"==typeof m&&m,"function"==typeof y?this.autoLoadAudio={canLoad:!0,callback:y}:"boolean"==typeof y&&(this.autoLoadAudio={canLoad:y,callback:function(){}}),this.model=n,e=_,this.allowSound="boolean"!=typeof b||b}return void 0!==this.model&&"string"!=typeof this.model?[3,2]:(this.model=this.model?this.model:this.baseUrl+"model.json",v=this,[4,x.getArraybuffer(this.model)]);case 1:return v.modelBuffer=t.sent(),this.model=JSON.parse(x.arrayBuffer2String(this.modelBuffer)),[3,3];case 2:this.model=this.model,t.label=3;case 3:if(this.initBind(e||{}),!this.canvas||!this.baseUrl)throw w.error("Not Found HTMLCanvasElement OR baseUrl"),new Error("Not Found HTMLCanvasElement OR baseUrl");return[2]}})})},Setting.prototype.initBind=function(t){var r=this;for(var e in t){var i=[],n=function(t){t.hitArea,t.motionPath,t.motionName,t.priority};"string"==typeof t[e]?i.push(t[e]):Array.isArray(t[e])?i.push.apply(i,t[e]):"function"==typeof t[e]?n=t[e]:"object"==typeof t[e]&&(Array.isArray(t[e].motion)?i.push.apply(i,t[e].motion):i.push(t[e].motion),"function"==typeof t[e].callback&&(n=t[e].callback)),this.binding[name]={motion:i,callback:n}}if(this.model.HitAreas)for(var o=JSON.parse(JSON.stringify(this.model.HitAreas)),a=function(e){var t=[];e.Motion&&("string"==typeof e.Motion?t.push(e.Motion):Array.isArray(e.Motion)&&t.push.apply(t,e.Motion)),s.binding[e.Id]?t.forEach(function(t){r.binding[e.Id].motion.includes(t)||r.binding[e.Id].motion.push(t)}):s.binding[e.Id]={motion:t,callback:function(t){t.hitArea,t.motionPath,t.motionName,t.priority}}},s=this,u=0,l=o;u<l.length;u++)a(l[u]);else w.warn("Not Found HitAreas In model.json")},Setting);function Setting(){this.model="",this.imageUrl="",this.soundUrl="",this.interval=15e3,this.width=300,this.height=300,this.layout={width:null,height:null,x:null,y:null,center_x:null,center_y:null,top:null,bottom:null,left:null,right:null},this.idle="idle",this.view={VIEW_MAX_SCALE:2,VIEW_MIN_SCALE:.8,VIEW_LOGICAL_LEFT:-1,VIEW_LOGICAL_RIGHT:1,VIEW_LOGICAL_MAX_LEFT:-2,VIEW_LOGICAL_MAX_RIGHT:2,VIEW_LOGICAL_MAX_BOTTOM:-2,VIEW_LOGICAL_MAX_TOP:2},this.initModelCallback=function(t){},this.scaling=!1,this.globalFollowPointer=!1,this.binding={},this.autoLoadAudio={canLoad:!0,callback:function(){}},this.allowSound=!0,this.Priority={None:0,Idle:1,Normal:2,Force:3}}function csmString(t){this.s=t}a=o=o||{},csmString.prototype.append=function(t,e){return this.s+=void 0!==e?t.substr(0,e):t,this},csmString.prototype.expansion=function(t,e){for(var r=0;r<t;r++)this.append(e);return this},csmString.prototype.getBytes=function(){return encodeURIComponent(this.s).replace(/%../g,"x").length},csmString.prototype.getLength=function(){return this.s.length},csmString.prototype.isLess=function(t){return this.s<t.s},csmString.prototype.isGreat=function(t){return this.s>t.s},csmString.prototype.isEqual=function(t){return this.s==t},csmString.prototype.isEmpty=function(){return 0==this.s.length},s=csmString,a.csmString=s;function _F(t,e,r){var i,n,o;i=t,n=e+"\n",o=r,c.CubismDebug.print(i,"[CSM]"+n,o)}function aG(t){console.assert(t)}var c,h,f,g,p,C=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r]},y=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r]},d=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r]},P=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r]};function CubismDebug(){}C=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];_F(W.LogLevel_Debug,"[D]"+t,e)},y=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];_F(W.LogLevel_Info,"[I]"+t,e)},d=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];_F(W.LogLevel_Warning,"[W]"+t,e)},P=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];_F(W.LogLevel_Error,"[E]"+t,e)},h=c=c||{},CubismDebug.print=function(t,e,r){if(!(t<G.CubismFramework.getLoggingLevel())){var i=G.CubismFramework.coreLogFunction;i&&i(e.replace(/\{(\d+)\}/g,function(t,e){return r[e]}))}},CubismDebug.dumpBytes=function(t,e,r){for(var i=0;i<r;i++)i%16==0&&0<i?this.print(t,"\n"):i%8==0&&0<i&&this.print(t,"  "),this.print(t,"{0} ",[255&e[i]]);this.print(t,"\n")},f=CubismDebug,h.CubismDebug=f,function(t){var e=function csmPair(t,e){this.first=null==t?null:t,this.second=null==e?null:e};t.csmPair=e;var r=(csmMap.prototype.release=function(){this.clear()},csmMap.prototype.appendKey=function(t){this.prepareCapacity(this._size+1,!1),this._keyValues[this._size]=new e(t),this._size+=1},csmMap.prototype.getValue=function(t){for(var e=-1,r=0;r<this._size;r++)if(this._keyValues[r].first==t){e=r;break}return 0<=e?this._keyValues[e].second:(this.appendKey(t),this._keyValues[this._size-1].second)},csmMap.prototype.setValue=function(t,e){for(var r=-1,i=0;i<this._size;i++)if(this._keyValues[i].first==t){r=i;break}0<=r?this._keyValues[r].second=e:(this.appendKey(t),this._keyValues[this._size-1].second=e)},csmMap.prototype.isExist=function(t){for(var e=0;e<this._size;e++)if(this._keyValues[e].first==t)return!0;return!1},csmMap.prototype.clear=function(){this._keyValues=void 0,this._keyValues=null,this._keyValues=new Array,this._size=0},csmMap.prototype.getSize=function(){return this._size},csmMap.prototype.prepareCapacity=function(t,e){t>this._keyValues.length&&(0==this._keyValues.length?!e&&t<csmMap.DefaultSize&&(t=csmMap.DefaultSize):!e&&t<2*this._keyValues.length&&(t=2*this._keyValues.length),this._keyValues.length=t)},csmMap.prototype.begin=function(){return new i(this,0)},csmMap.prototype.end=function(){return new i(this,this._size)},csmMap.prototype.erase=function(t){var e=t._index;return e<0||this._size<=e?t:(this._keyValues.splice(e,1),--this._size,new i(this,e))},csmMap.prototype.dumpAsInt=function(){for(var t=0;t<this._size;t++)C("{0} ,",this._keyValues[t]),C("\n")},csmMap.DefaultSize=10,csmMap);function csmMap(t){null==t||t<1?(this._keyValues=new Array,this._dummyValue=null,this._size=0):(this._keyValues=new Array(t),this._size=t)}t.csmMap=r;var i=(iterator.prototype.set=function(t){return this._index=t._index,this._map=t._map,this},iterator.prototype.preIncrement=function(){return++this._index,this},iterator.prototype.preDecrement=function(){return--this._index,this},iterator.prototype.increment=function(){var t=new iterator(this._map,this._index++);return this._map=t._map,this._index=t._index,this},iterator.prototype.decrement=function(){var t=new iterator(this._map,this._index);return this._map=t._map,this._index=t._index,this},iterator.prototype.ptr=function(){return this._map._keyValues[this._index]},iterator.prototype.notEqual=function(t){return this._index!=t._index||this._map!=t._map},iterator);function iterator(t,e){this._map=null!=t?t:new r,this._index=null!=e?e:0}t.iterator=i}(g=g||{}),function(t){var e=(csmVector.prototype.at=function(t){return this._ptr[t]},csmVector.prototype.set=function(t,e){this._ptr[t]=e},csmVector.prototype.get=function(t){void 0===t&&(t=0);for(var e=new Array,r=t;r<this._size;r++)e.push(this._ptr[r]);return e},csmVector.prototype.pushBack=function(t){this._size>=this._capacity&&this.prepareCapacity(0==this._capacity?csmVector.s_defaultSize:2*this._capacity),this._ptr[this._size++]=t},csmVector.prototype.clear=function(){this._ptr.length=0,this._size=0},csmVector.prototype.getSize=function(){return this._size},csmVector.prototype.assign=function(t,e){this._size<t&&this.prepareCapacity(t);for(var r=0;r<t;r++)this._ptr[r]=e;this._size=t},csmVector.prototype.resize=function(t,e){void 0===e&&(e=null),this.updateSize(t,e,!0)},csmVector.prototype.updateSize=function(t,e,r){if(void 0===e&&(e=null),void 0===r&&(r=!0),this._size<t)if(this.prepareCapacity(t),r)for(var i=this._size;i<t;i++)this._ptr[i]="function"==typeof e?JSON.parse(JSON.stringify(new e)):e;else for(i=this._size;i<t;i++)this._ptr[i]=e;else{var n=this._size-t;this._ptr.splice(this._size-n,n)}this._size=t},csmVector.prototype.insert=function(t,e,r){var i=t._index,n=e._index,o=r._index,a=o-n;this.prepareCapacity(this._size+a);var s=this._size-i;if(0<s)for(var u=0;u<s;u++)this._ptr.splice(i+u,0,null);for(u=n;u<o;u++,i++)this._ptr[i]=e._vector._ptr[u];this._size=this._size+a},csmVector.prototype.remove=function(t){return!(t<0||this._size<=t||(this._ptr.splice(t,1),--this._size,0))},csmVector.prototype.erase=function(t){var e=t._index;return e<0||this._size<=e?t:(this._ptr.splice(e,1),--this._size,new r(this,e))},csmVector.prototype.prepareCapacity=function(t){t>this._capacity&&(0==this._capacity?this._ptr=new Array(t):this._ptr.length=t,this._capacity=t)},csmVector.prototype.begin=function(){return 0==this._size?this.end():new r(this,0)},csmVector.prototype.end=function(){return new r(this,this._size)},csmVector.prototype.getOffset=function(t){var e=new csmVector;return e._ptr=this.get(t),e._size=this.get(t).length,e._capacity=this.get(t).length,e},csmVector.s_defaultSize=10,csmVector);function csmVector(t){void 0===t&&(t=0),t<1?(this._ptr=new Array,this._capacity=0):(this._ptr=new Array(t),this._capacity=t),this._size=0}t.csmVector=e;var r=(iterator.prototype.set=function(t){return this._index=t._index,this._vector=t._vector,this},iterator.prototype.preIncrement=function(){return++this._index,this},iterator.prototype.preDecrement=function(){return--this._index,this},iterator.prototype.increment=function(){var t=new iterator(this._vector,this._index++);return this._vector=t._vector,this._index=t._index,this},iterator.prototype.decrement=function(){var t=new iterator(this._vector,this._index--);return this._vector=t._vector,this._index=t._index,this},iterator.prototype.ptr=function(){return this._vector._ptr[this._index]},iterator.prototype.substitution=function(t){return this._index=t._index,this._vector=t._vector,this},iterator.prototype.notEqual=function(t){return this._index!=t._index||this._vector!=t._vector},iterator);function iterator(t,e){this._vector=null!=t?t:null,this._index=null!=e?e:0}t.iterator=r}(p=p||{});var m,_,b=(m=function(t,e){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function __(){this.constructor=t}m(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),A=p.csmVector,v=g.csmMap,M=o.csmString;!function(t){var e="Error: type mismatch",i=(Value.prototype.getRawString=function(t,e){return this.getString(t,e)},Value.prototype.toInt=function(t){return void 0===t&&(t=0),t},Value.prototype.toFloat=function(t){return void 0===t&&(t=0),t},Value.prototype.toBoolean=function(t){return void 0===t&&(t=!1),t},Value.prototype.getSize=function(){return 0},Value.prototype.getArray=function(t){return void 0===t&&(t=null),t},Value.prototype.getVector=function(t){return t},Value.prototype.getMap=function(t){return t},Value.prototype.getValueByIndex=function(t){return Value.errorValue.setErrorNotForClientCall(e)},Value.prototype.getValueByString=function(t){return Value.nullValue.setErrorNotForClientCall(e)},Value.prototype.getKeys=function(){return Value.s_dummyKeys},Value.prototype.isError=function(){return!1},Value.prototype.isNull=function(){return!1},Value.prototype.isBool=function(){return!1},Value.prototype.isFloat=function(){return!1},Value.prototype.isString=function(){return!1},Value.prototype.isArray=function(){return!1},Value.prototype.isMap=function(){return!1},Value.prototype.equals=function(t){return!1},Value.prototype.isStatic=function(){return!1},Value.prototype.setErrorNotForClientCall=function(t){return h.errorValue},Value.staticInitializeNotForClientCall=function(){l.trueValue=new l(!0),l.falseValue=new l(!1),h.errorValue=new h("ERROR",!0),this.nullValue=new g,Value.s_dummyKeys=new A},Value.staticReleaseNotForClientCall=function(){l.trueValue=null,l.falseValue=null,h.errorValue=null,Value.nullValue=null,Value.s_dummyKeys=null,l.trueValue=null,l.falseValue=null,h.errorValue=null,Value.nullValue=null,Value.s_dummyKeys=null},Value);function Value(){}t.Value=i;var r=(CubismJson.create=function(t,e){var r=new CubismJson;return r.parseBytes(t,e)?r:(CubismJson.delete(r),null)},CubismJson.delete=function(t){},CubismJson.prototype.getRoot=function(){return this._root},CubismJson.prototype.arrayBufferToString=function(t){for(var e=new Uint8Array(t),r="",i=0,n=e.length;i<n;++i)r+="%"+this.pad(e[i].toString(16));return r=decodeURIComponent(r)},CubismJson.prototype.pad=function(t){return t.length<2?"0"+t:t},CubismJson.prototype.parseBytes=function(t,e){var r,i=new Array(1),n=this.arrayBufferToString(t);return this._root=this.parseValue(n,e,0,i),this._error?(r="Json parse error : @line "+(this._lineCount+1)+"\n",this._root=new c(r),y("{0}",this._root.getRawString()),!1):null!=this._root||(this._root=new h(new M(this._error),!1),!1)},CubismJson.prototype.getParseError=function(){return this._error},CubismJson.prototype.checkEndOfFile=function(){return this._root.getArray()[1].equals("EOF")},CubismJson.prototype.parseValue=function(t,e,r,i){if(this._error)return null;for(var n,o=null,a=r;a<e;a++)switch(t[a]){case"-":case".":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":var s=new Array(1);return n=strtod(t.slice(a),s),i[0]=t.indexOf(s[0]),new u(n);case'"':return new c(this.parseString(t,e,a+1,i));case"[":return o=this.parseArray(t,e,a+1,i);case"{":return o=this.parseObject(t,e,a+1,i);case"n":return a+3<e?(o=new g,i[0]=a+4):this._error="parse null",o;case"t":return a+3<e?(o=l.trueValue,i[0]=a+4):this._error="parse true",o;case"f":return a+4<e?(o=l.falseValue,i[0]=a+5):this._error="illegal ',' position",o;case",":return this._error="illegal ',' position",null;case"]":return i[0]=a,null;case"\n":this._lineCount++}return this._error="illegal end of value",null},CubismJson.prototype.parseString=function(t,e,r,i){if(this._error)return null;for(var n=r,o=new M(""),a=r;n<e;n++)switch(t[n]){case'"':return i[0]=n+1,o.append(t.slice(a),n-a),o.s;case"//":if(a<++n-1&&o.append(t.slice(a),n-a),a=n+1,n<e)switch(t[n]){case"\\":o.expansion(1,"\\");break;case'"':o.expansion(1,'"');break;case"/":o.expansion(1,"/");break;case"b":o.expansion(1,"\b");break;case"f":o.expansion(1,"\f");break;case"n":o.expansion(1,"\n");break;case"r":o.expansion(1,"\r");break;case"t":o.expansion(1,"\t");break;case"u":this._error="parse string/unicord escape not supported"}else this._error="parse string/escape error"}return this._error="parse string/illegal end",null},CubismJson.prototype.parseObject=function(t,e,r,i){if(this._error)return null;for(var n=new _,o="",a=r,s=Array(1),u=!1;a<e;a++){t:for(;a<e;a++)switch(t[a]){case'"':if(o=this.parseString(t,e,a+1,s),this._error)return null;a=s[0],u=!0;break t;case"}":return i[0]=a+1,n;case":":this._error="illegal ':' position";break;case"\n":this._lineCount++}if(!u)return this._error="key not found",null;u=!1;t:for(;a<e;a++)switch(t[a]){case":":u=!0,a++;break t;case"}":this._error="illegal '}' position";break;case"\n":this._lineCount++}if(!u)return this._error="':' not found",null;var l=this.parseValue(t,e,a,s);if(this._error)return null;a=s[0],n.put(o,l);t:for(;a<e;a++)switch(t[a]){case",":break t;case"}":return i[0]=a+1,n;case"\n":this._lineCount++}}return this._error="illegal end of perseObject",null},CubismJson.prototype.parseArray=function(t,e,r,i){if(this._error)return null;for(var n=new d,o=r,a=new Array(1);o<e;o++){var s=this.parseValue(t,e,o,a);if(this._error)return null;o=a[0],s&&n.add(s);t:for(;o<e;o++)switch(t[o]){case",":break t;case"]":return i[0]=o+1,n;case"\n":++this._lineCount}}return n=void 0,this._error="illegal end of parseObject",null},CubismJson);function CubismJson(t,e){this._error=null,this._lineCount=0,(this._root=null)!=t&&this.parseBytes(t,e)}t.CubismJson=r;var n,u=(b(JsonFloat,n=i),JsonFloat.prototype.isFloat=function(){return!0},JsonFloat.prototype.getString=function(t,e){return this._value=parseFloat("\0"),this._stringBuffer="\0",this._stringBuffer},JsonFloat.prototype.toInt=function(t){return void 0===t&&(t=0),parseInt(this._value.toString())},JsonFloat.prototype.toFloat=function(t){return void 0===t&&(t=0),this._value},JsonFloat.prototype.equals=function(t){return"number"==typeof t&&!Math.round(t)&&t==this._value},JsonFloat);function JsonFloat(t){var e=n.call(this)||this;return e._value=t,e}t.JsonFloat=u;var o,l=(b(JsonBoolean,o=i),JsonBoolean.prototype.isBool=function(){return!0},JsonBoolean.prototype.toBoolean=function(t){return void 0===t&&(t=!1),this._boolValue},JsonBoolean.prototype.getString=function(t,e){return this._stringBuffer=this._boolValue?"true":"false",this._stringBuffer},JsonBoolean.prototype.equals=function(t){return"boolean"==typeof t&&t==this._boolValue},JsonBoolean.prototype.isStatic=function(){return!0},JsonBoolean);function JsonBoolean(t){var e=o.call(this)||this;return e._boolValue=t,e}t.JsonBoolean=l;var a,c=(b(JsonString,a=i),JsonString.prototype.isString=function(){return!0},JsonString.prototype.getString=function(t,e){return this._stringBuffer},JsonString.prototype.equals=function(t){return"string"==typeof t?this._stringBuffer==t:t instanceof M&&this._stringBuffer==t.s},JsonString);function JsonString(t){var e=a.call(this)||this;return"string"==typeof t&&(e._stringBuffer=t),t instanceof M&&(e._stringBuffer=t.s),e}t.JsonString=c;var s,h=(b(JsonError,s=c),JsonError.prototype.isStatic=function(){return this._isStatic},JsonError.prototype.setErrorNotForClientCall=function(t){return this._stringBuffer=t,this},JsonError.prototype.isError=function(){return!0},JsonError);function JsonError(t,e){var r=this;return(r=s.call(this,t)||this)._isStatic=e,r}t.JsonError=h;var f,g=(b(JsonNullvalue,f=i),JsonNullvalue.prototype.isNull=function(){return!0},JsonNullvalue.prototype.getString=function(t,e){return this._stringBuffer},JsonNullvalue.prototype.isStatic=function(){return!0},JsonNullvalue);function JsonNullvalue(){var t=f.call(this)||this;return t._stringBuffer="NullValue",t}t.JsonNullvalue=g;var p,d=(b(JsonArray,p=i),JsonArray.prototype.release=function(){for(var t=this._array.begin();t.notEqual(this._array.end());t.preIncrement()){var e=t.ptr();e&&!e.isStatic()&&(e=void 0,e=null)}},JsonArray.prototype.isArray=function(){return!0},JsonArray.prototype.getValueByIndex=function(t){if(t<0||this._array.getSize()<=t)return i.errorValue.setErrorNotForClientCall("Error: index out of bounds");var e=this._array.at(t);return null==e?i.nullValue:e},JsonArray.prototype.getValueByString=function(t){return i.errorValue.setErrorNotForClientCall(e)},JsonArray.prototype.getString=function(t,e){for(var r=e+"[\n",i=this._array.begin();i.notEqual(this._array.end());i.increment()){var n=i.ptr();this._stringBuffer+=e+""+n.getString(e+" ")+"\n"}return this._stringBuffer=r+e+"]\n",this._stringBuffer},JsonArray.prototype.add=function(t){this._array.pushBack(t)},JsonArray.prototype.getVector=function(t){return void 0===t&&(t=null),this._array},JsonArray.prototype.getSize=function(){return this._array.getSize()},JsonArray);function JsonArray(){var t=p.call(this)||this;return t._array=new A,t}t.JsonArray=d;var m,_=(b(JsonMap,m=i),JsonMap.prototype.release=function(){for(var t=this._map.begin();t.notEqual(this._map.end());){var e=t.ptr().second;e&&!e.isStatic()&&(e=void 0,e=null),t.preIncrement()}},JsonMap.prototype.isMap=function(){return!0},JsonMap.prototype.getValueByString=function(t){if(t instanceof M){var e=this._map.getValue(t.s);return null==e?i.nullValue:e}for(var r=this._map.begin();r.notEqual(this._map.end());r.preIncrement())if(r.ptr().first==t)return null==r.ptr().second?i.nullValue:r.ptr().second;return i.nullValue},JsonMap.prototype.getValueByIndex=function(t){return i.errorValue.setErrorNotForClientCall(e)},JsonMap.prototype.getString=function(t,e){this._stringBuffer=e+"{\n";for(var r=this._map.begin();r.notEqual(this._map.end());){var i=r.ptr().first,n=r.ptr().second;this._stringBuffer+=e+" "+i+" : "+n.getString(e+"   ")+" \n",r.preIncrement()}return this._stringBuffer+=e+"}\n",this._stringBuffer},JsonMap.prototype.getMap=function(t){return this._map},JsonMap.prototype.put=function(t,e){this._map.setValue(t,e)},JsonMap.prototype.getKeys=function(){if(!this._keys){this._keys=new A;for(var t=this._map.begin();t.notEqual(this._map.end());){var e=t.ptr().first;this._keys.pushBack(e),t.preIncrement()}}return this._keys},JsonMap.prototype.getSize=function(){return this._keys.getSize()},JsonMap);function JsonMap(){var t=m.call(this)||this;return t._map=new v,t}t.JsonMap=_}(_=_||{});var S,I,V,k=o.csmString;function CubismId(t){this._id="string"!=typeof t?t:new k(t)}I=S=S||{},CubismId.prototype.getString=function(){return this._id},CubismId.prototype.isEqual=function(t){return"string"==typeof t?this._id.isEqual(t):t instanceof k?this._id.isEqual(t.s):t instanceof CubismId&&this._id.isEqual(t._id.s)},CubismId.prototype.isNotEqual=function(t){return"string"==typeof t?!this._id.isEqual(t):t instanceof k?!this._id.isEqual(t.s):t instanceof CubismId&&!this._id.isEqual(t._id.s)},V=CubismId,I.CubismId=V;var E,T,R,L,F,D,U=S.CubismId,N=p.csmVector;function CubismIdManager(){this._ids=new N}function CubismMatrix44(){this._tr=new Float32Array(16),this.loadIdentity()}T=E=E||{},CubismIdManager.prototype.release=function(){for(var t=0;t<this._ids.getSize();++t)this._ids.set(t,void 0);this._ids=null},CubismIdManager.prototype.registerIds=function(t){for(var e=0;e<t.length;e++)this.registerId(t[e])},CubismIdManager.prototype.registerId=function(t){var e=null;return"string"!=typeof t?this.registerId(t.s):(null!=(e=this.findId(t))||(e=new U(t),this._ids.pushBack(e)),e)},CubismIdManager.prototype.getId=function(t){return this.registerId(t)},CubismIdManager.prototype.isExist=function(t){return"string"==typeof t?null!=this.findId(t):this.isExist(t.s)},CubismIdManager.prototype.findId=function(t){for(var e=0;e<this._ids.getSize();++e)if(this._ids.at(e).getString().isEqual(t))return this._ids.at(e);return null},R=CubismIdManager,T.CubismIdManager=R,F=L=L||{},CubismMatrix44.multiply=function(t,e,r){for(var i=new Float32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),n=0;n<4;++n)for(var o=0;o<4;++o)for(var a=0;a<4;++a)i[o+4*n]+=t[a+4*n]*e[o+4*a];for(n=0;n<16;++n)r[n]=i[n]},CubismMatrix44.prototype.loadIdentity=function(){var t=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);this.setMatrix(t)},CubismMatrix44.prototype.setMatrix=function(t){for(var e=0;e<16;++e)this._tr[e]=t[e]},CubismMatrix44.prototype.getArray=function(){return this._tr},CubismMatrix44.prototype.getScaleX=function(){return this._tr[0]},CubismMatrix44.prototype.getScaleY=function(){return this._tr[5]},CubismMatrix44.prototype.getTranslateX=function(){return this._tr[12]},CubismMatrix44.prototype.getTranslateY=function(){return this._tr[13]},CubismMatrix44.prototype.transformX=function(t){return this._tr[0]*t+this._tr[12]},CubismMatrix44.prototype.transformY=function(t){return this._tr[5]*t+this._tr[13]},CubismMatrix44.prototype.invertTransformX=function(t){return(t-this._tr[12])/this._tr[0]},CubismMatrix44.prototype.invertTransformY=function(t){return(t-this._tr[13])/this._tr[5]},CubismMatrix44.prototype.translateRelative=function(t,e){var r=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,t,e,0,1]);CubismMatrix44.multiply(r,this._tr,this._tr)},CubismMatrix44.prototype.translate=function(t,e){this._tr[12]=t,this._tr[13]=e},CubismMatrix44.prototype.translateX=function(t){this._tr[12]=t},CubismMatrix44.prototype.translateY=function(t){this._tr[13]=t},CubismMatrix44.prototype.scaleRelative=function(t,e){var r=new Float32Array([t,0,0,0,0,e,0,0,0,0,1,0,0,0,0,1]);CubismMatrix44.multiply(r,this._tr,this._tr)},CubismMatrix44.prototype.scale=function(t,e){this._tr[0]=t,this._tr[5]=e},CubismMatrix44.prototype.multiplyByMatrix=function(t){CubismMatrix44.multiply(t.getArray(),this._tr,this._tr)},CubismMatrix44.prototype.clone=function(){for(var t=new CubismMatrix44,e=0;e<this._tr.length;e++)t._tr[e]=this._tr[e];return t},D=CubismMatrix44,F.CubismMatrix44=D;var O,X=L.CubismMatrix44;!function(t){var e,r=(CubismRenderer.create=function(){return null},CubismRenderer.delete=function(t){},CubismRenderer.prototype.initialize=function(t){this._model=t},CubismRenderer.prototype.drawModel=function(){null!=this.getModel()&&this.doDrawModel()},CubismRenderer.prototype.setMvpMatrix=function(t){this._mvpMatrix4x4.setMatrix(t.getArray())},CubismRenderer.prototype.getMvpMatrix=function(){return this._mvpMatrix4x4},CubismRenderer.prototype.setModelColor=function(t,e,r,i){t<0?t=0:1<t&&(t=1),e<0?e=0:1<e&&(e=1),r<0?r=0:1<r&&(r=1),i<0?i=0:1<i&&(i=1),this._modelColor.R=t,this._modelColor.G=e,this._modelColor.B=r,this._modelColor.A=i},CubismRenderer.prototype.getModelColor=function(){return JSON.parse(JSON.stringify(this._modelColor))},CubismRenderer.prototype.setIsPremultipliedAlpha=function(t){this._isPremultipliedAlpha=t},CubismRenderer.prototype.isPremultipliedAlpha=function(){return this._isPremultipliedAlpha},CubismRenderer.prototype.setIsCulling=function(t){this._isCulling=t},CubismRenderer.prototype.isCulling=function(){return this._isCulling},CubismRenderer.prototype.setAnisotropy=function(t){this._anisortopy=t},CubismRenderer.prototype.getAnisotropy=function(){return this._anisortopy},CubismRenderer.prototype.getModel=function(){return this._model},CubismRenderer);function CubismRenderer(){this._isCulling=!1,this._isPremultipliedAlpha=!1,this._anisortopy=0,this._model=null,this._modelColor=new i,this._mvpMatrix4x4=new X,this._mvpMatrix4x4.loadIdentity()}t.CubismRenderer=r,(e=t.CubismBlendMode||(t.CubismBlendMode={}))[e.CubismBlendMode_Normal=0]="CubismBlendMode_Normal",e[e.CubismBlendMode_Additive=1]="CubismBlendMode_Additive",e[e.CubismBlendMode_Multiplicative=2]="CubismBlendMode_Multiplicative";var i=function CubismTextureColor(){this.R=1,this.G=1,this.B=1,this.A=1};t.CubismTextureColor=i}(O=O||{});var G,Y=r(0),z=_.Value,J=E.CubismIdManager,j=O.CubismRenderer;function strtod(t,e){for(var r=0,i=1;;i++){var n=t.slice(i-1,i);if("e"!=n&&"-"!=n&&"E"!=n){var o=t.substring(0,i),a=Number(o);if(isNaN(a))break;r=i}}var s=parseFloat(t);return isNaN(s)&&(s=NaN),e[0]=t.slice(r),s}!function(t){var e,o=!1,r=!1,a=null,i=null;(e=t.Constant||(t.Constant={})).vertexOffset=0,e.vertexStep=2,t.csmDelete=function csmDelete(t){0};var n=(CubismFramework.startUp=function(t){if(void 0===t&&(t=null),o)return y("CubismFramework.startUp() is already done."),o;null!=(a=t)&&Y.Logging.csmSetLogFunction(a.logFunction),o=!0;var e=Y.Version.csmGetVersion(),r=(16711680&e)>>16,i=65535&e,n=e;return y("Live2D Cubism Core version: {0}.{1}.{2} ({3})",("00"+((4278190080&e)>>24)).slice(-2),("00"+r).slice(-2),("0000"+i).slice(-4),n),y("CubismFramework.startUp() is complete."),o},CubismFramework.cleanUp=function(){r=o=!1,i=a=null},CubismFramework.initialize=function(){aG(o),o?r?d("CubismFramework.initialize() skipped, already initialized."):(z.staticInitializeNotForClientCall(),i=new J,r=!0,y("CubismFramework.initialize() is complete.")):d("CubismFramework is not started.")},CubismFramework.dispose=function(){aG(o),o?r?(z.staticReleaseNotForClientCall(),i.release(),i=null,j.staticRelease(),r=!1,y("CubismFramework.dispose() is complete.")):d("CubismFramework.dispose() skipped, not initialized."):d("CubismFramework is not started.")},CubismFramework.isStarted=function(){return o},CubismFramework.isInitialized=function(){return r},CubismFramework.coreLogFunction=function(t){Y.Logging.csmGetLogFunction()&&Y.Logging.csmGetLogFunction()(t)},CubismFramework.getLoggingLevel=function(){return null!=a?a.loggingLevel:W.LogLevel_Off},CubismFramework.getIdManager=function(){return i},CubismFramework);function CubismFramework(){}t.CubismFramework=n}(G=G||{});var W,H,Q=function Option(){};(H=W=W||{})[H.LogLevel_Verbose=0]="LogLevel_Verbose",H[H.LogLevel_Debug=1]="LogLevel_Debug",H[H.LogLevel_Info=2]="LogLevel_Info",H[H.LogLevel_Warning=3]="LogLevel_Warning",H[H.LogLevel_Error=4]="LogLevel_Error",H[H.LogLevel_Off=5]="LogLevel_Off";var q=function(t,i,n,o){return new(n=n||Promise)(function(e,r){function fulfilled(t){try{step(o.next(t))}catch(t){r(t)}}function rejected(t){try{step(o.throw(t))}catch(t){r(t)}}function step(t){t.done?e(t.value):function adopt(e){return e instanceof n?e:new n(function(t){t(e)})}(t.value).then(fulfilled,rejected)}step((o=o.apply(t,i||[])).next())})},Z=function(r,i){var n,o,a,t,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return t={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function verb(e){return function(t){return function step(e){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(a=2&e[0]?o.return:e[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,e[1])).done)return a;switch(o=0,a&&(e=[2&e[0],a.value]),e[0]){case 0:case 1:a=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,o=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){s.label=e[1];break}if(6===e[0]&&s.label<a[1]){s.label=a[1],a=e;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(e);break}a[2]&&s.ops.pop(),s.trys.pop();continue}e=i.call(r,s)}catch(t){e=[6,t],o=0}finally{n=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},K=p.csmVector,$=(TextureManager.prototype.release=function(){for(var t=this._textures.begin();t.notEqual(this._textures.end());t.preIncrement())this.webgl.gl.deleteTexture(t.ptr().id);this._textures=null},TextureManager.prototype.createTextureFromPngFile=function(u,l){return q(this,void 0,void 0,function(){var e=this;return Z(this,function(t){return[2,new Promise(function(s,t){return q(e,void 0,void 0,function(){var e,r,i,n,o,a=this;return Z(this,function(t){switch(t.label){case 0:for(e=this._textures.begin();e.notEqual(this._textures.end());e.preIncrement())if(e.ptr().fileName==u&&e.ptr().usePremultply==l)return s(e.ptr()),[2];return(r=new Image).onload=function(){var t=a.webgl.gl.createTexture();a.webgl.gl.bindTexture(a.webgl.gl.TEXTURE_2D,t),a.webgl.gl.texParameteri(a.webgl.gl.TEXTURE_2D,a.webgl.gl.TEXTURE_MIN_FILTER,a.webgl.gl.LINEAR_MIPMAP_LINEAR),a.webgl.gl.texParameteri(a.webgl.gl.TEXTURE_2D,a.webgl.gl.TEXTURE_MAG_FILTER,a.webgl.gl.LINEAR),l&&a.webgl.gl.pixelStorei(a.webgl.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,1),a.webgl.gl.texImage2D(a.webgl.gl.TEXTURE_2D,0,a.webgl.gl.RGBA,a.webgl.gl.RGBA,a.webgl.gl.UNSIGNED_BYTE,r),a.webgl.gl.generateMipmap(a.webgl.gl.TEXTURE_2D),a.webgl.gl.bindTexture(a.webgl.gl.TEXTURE_2D,null);var e=new tt;e.fileName=u,e.width=r.width,e.height=r.height,e.id=t,e.img=r,e.usePremultply=l,a._textures.pushBack(e),s(e)},i=r,o=(n=URL).createObjectURL,[4,x.getBlob(u)];case 1:return i.src=o.apply(n,[t.sent()]),[2]}})})})]})})},TextureManager.prototype.releaseTextures=function(){for(var t=0;t<this._textures.getSize();t++)this._textures.set(t,null);this._textures.clear()},TextureManager.prototype.releaseTextureByTexture=function(t){for(var e=0;e<this._textures.getSize();e++)if(this._textures.at(e).id==t){this._textures.set(e,null),this._textures.remove(e);break}},TextureManager.prototype.releaseTextureByFilePath=function(t){for(var e=0;e<this._textures.getSize();e++)if(this._textures.at(e).fileName==t){this._textures.set(e,null),this._textures.remove(e);break}},TextureManager);function TextureManager(t){this._textures=new K,this.webgl=t}var tt=function TextureInfo(){this.id=null,this.width=0,this.height=0},et=(Webgl.prototype.createShader=function(){var t=this.gl.createShader(this.gl.VERTEX_SHADER);if(null==t)return null;this.gl.shaderSource(t,"precision mediump float;attribute vec3 position;attribute vec2 uv;varying vec2 vuv;void main(void){   gl_Position = vec4(position, 1.0);   vuv = uv;}"),this.gl.compileShader(t);var e=this.gl.createShader(this.gl.FRAGMENT_SHADER);if(null==e)return null;this.gl.shaderSource(e,"precision mediump float;varying vec2 vuv;uniform sampler2D texture;void main(void){   gl_FragColor = texture2D(texture, vuv);}"),this.gl.compileShader(e);var r=this.gl.createProgram();return this.gl.attachShader(r,t),this.gl.attachShader(r,e),this.gl.deleteShader(t),this.gl.deleteShader(e),this.gl.linkProgram(r),this.gl.useProgram(r),r},Webgl);function Webgl(t){this.gl=t.getContext("webgl"),this.frameBuffer=this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING),this.gl.enable(this.gl.BLEND),this.gl.blendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)}var rt,it,nt,ot=(View.prototype.render=function(){this._webgl.gl.useProgram(this._programId),this._webgl.gl.flush()},View);function View(t){this._webgl=t}function CubismVector2(t,e){this.x=t,this.y=e,this.x=null==t?0:t,this.y=null==e?0:e}it=rt=rt||{},CubismVector2.prototype.add=function(t){var e=new CubismVector2(0,0);return e.x=this.x+t.x,e.y=this.y+t.y,e},CubismVector2.prototype.substract=function(t){var e=new CubismVector2(0,0);return e.x=this.x-t.x,e.y=this.y-t.y,e},CubismVector2.prototype.multiply=function(t){var e=new CubismVector2(0,0);return e.x=this.x*t.x,e.y=this.y*t.y,e},CubismVector2.prototype.multiplyByScaler=function(t){return this.multiply(new CubismVector2(t,t))},CubismVector2.prototype.division=function(t){var e=new CubismVector2(0,0);return e.x=this.x/t.x,e.y=this.y/t.y,e},CubismVector2.prototype.divisionByScalar=function(t){return this.division(new CubismVector2(t,t))},CubismVector2.prototype.getLength=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},CubismVector2.prototype.getDistanceWith=function(t){return Math.sqrt((this.x-t.x)*(this.x-t.x)+(this.y-t.y)*(this.y-t.y))},CubismVector2.prototype.dot=function(t){return this.x*t.x+this.y*t.y},CubismVector2.prototype.normalize=function(){var t=Math.pow(this.x*this.x+this.y*this.y,.5);this.x=this.x/t,this.y=this.y/t},CubismVector2.prototype.isEqual=function(t){return this.x==t.x&&this.y==t.y},CubismVector2.prototype.isNotEqual=function(t){return!this.isEqual(t)},nt=CubismVector2,it.CubismVector2=nt;var at,st,ut,lt=rt.CubismVector2;function CubismMath(){}st=at=at||{},CubismMath.range=function(t,e,r){return t<e?t=e:r<t&&(t=r),t},CubismMath.sin=function(t){return Math.sin(t)},CubismMath.cos=function(t){return Math.cos(t)},CubismMath.abs=function(t){return Math.abs(t)},CubismMath.sqrt=function(t){return Math.sqrt(t)},CubismMath.getEasingSine=function(t){return t<0?0:1<t?1:.5-.5*this.cos(t*Math.PI)},CubismMath.max=function(t,e){return e<t?t:e},CubismMath.min=function(t,e){return e<t?e:t},CubismMath.degreesToRadian=function(t){return t/180*Math.PI},CubismMath.radianToDegrees=function(t){return 180*t/Math.PI},CubismMath.directionToRadian=function(t,e){for(var r=Math.atan2(e.y,e.x)-Math.atan2(t.y,t.x);r<-Math.PI;)r+=2*Math.PI;for(;r>Math.PI;)r-=2*Math.PI;return r},CubismMath.directionToDegrees=function(t,e){var r=this.directionToRadian(t,e),i=this.radianToDegrees(r);return 0<e.x-t.x&&(i=-i),i},CubismMath.radianToDirection=function(t){var e=new lt;return e.x=this.sin(t),e.y=this.cos(t),e},ut=CubismMath,st.CubismMath=ut;var ct,ht,ft,gt=p.csmVector,pt=at.CubismMath;function ACubismMotion(){this._fadeInSeconds=-1,this._fadeOutSeconds=-1,this._weight=1,this._offsetSeconds=0,this._firedEventValues=new gt}ht=ct=ct||{},ACubismMotion.delete=function(t){t.release(),t=void 0,t=null},ACubismMotion.prototype.release=function(){this._weight=0},ACubismMotion.prototype.updateParameters=function(t,e,r){if(e.isAvailable()&&!e.isFinished()){if(!e.isStarted()){e.setIsStarted(!0),e.setStartTime(r-this._offsetSeconds),e.setFadeInStartTime(r);var i=this.getDuration();e.getEndTime()<0&&e.setEndTime(i<=0?-1:e.getStartTime()+i)}var n=this._weight;n=n*(0==this._fadeInSeconds?1:pt.getEasingSine((r-e.getFadeInStartTime())/this._fadeInSeconds))*(0==this._fadeOutSeconds||e.getEndTime()<0?1:pt.getEasingSine((e.getEndTime()-r)/this._fadeOutSeconds)),e.setState(r,n),aG(0<=n&&n<=1),this.doUpdateParameters(t,r,n,e),0<e.getEndTime()&&e.getEndTime()<r&&e.setIsFinished(!0)}},ACubismMotion.prototype.setFadeInTime=function(t){this._fadeInSeconds=t},ACubismMotion.prototype.setFadeOutTime=function(t){this._fadeOutSeconds=t},ACubismMotion.prototype.getFadeOutTime=function(){return this._fadeOutSeconds},ACubismMotion.prototype.getFadeInTime=function(){return this._fadeInSeconds},ACubismMotion.prototype.setWeight=function(t){this._weight=t},ACubismMotion.prototype.getWeight=function(){return this._weight},ACubismMotion.prototype.getDuration=function(){return-1},ACubismMotion.prototype.getLoopDuration=function(){return-1},ACubismMotion.prototype.setOffsetTime=function(t){this._offsetSeconds=t},ACubismMotion.prototype.getFiredEvent=function(t,e){return this._firedEventValues},ft=ACubismMotion,ht.ACubismMotion=ft;var dt,mt,_t,yt=ct.ACubismMotion;function CubismMotionQueueEntry(){this._autoDelete=!1,this._motion=null,this._available=!0,this._finished=!1,this._started=!1,this._startTimeSeconds=-1,this._fadeInStartTimeSeconds=0,this._endTimeSeconds=-1,this._stateTimeSeconds=0,this._stateWeight=0,this._lastEventCheckSeconds=0,this._motionQueueEntryHandle=this}mt=dt=dt||{},CubismMotionQueueEntry.prototype.release=function(){this._autoDelete&&this._motion&&yt.delete(this._motion)},CubismMotionQueueEntry.prototype.startFadeout=function(t,e){var r=e+t;(this._endTimeSeconds<0||r<this._endTimeSeconds)&&(this._endTimeSeconds=r)},CubismMotionQueueEntry.prototype.isFinished=function(){return this._finished},CubismMotionQueueEntry.prototype.isStarted=function(){return this._started},CubismMotionQueueEntry.prototype.getStartTime=function(){return this._startTimeSeconds},CubismMotionQueueEntry.prototype.getFadeInStartTime=function(){return this._fadeInStartTimeSeconds},CubismMotionQueueEntry.prototype.getEndTime=function(){return this._endTimeSeconds},CubismMotionQueueEntry.prototype.setStartTime=function(t){this._startTimeSeconds=t},CubismMotionQueueEntry.prototype.setFadeInStartTime=function(t){this._fadeInStartTimeSeconds=t},CubismMotionQueueEntry.prototype.setEndTime=function(t){this._endTimeSeconds=t},CubismMotionQueueEntry.prototype.setIsFinished=function(t){this._finished=t},CubismMotionQueueEntry.prototype.setIsStarted=function(t){this._started=t},CubismMotionQueueEntry.prototype.isAvailable=function(){return this._available},CubismMotionQueueEntry.prototype.setIsAvailable=function(t){this._available=t},CubismMotionQueueEntry.prototype.setState=function(t,e){this._stateTimeSeconds=t,this._stateWeight=e},CubismMotionQueueEntry.prototype.getStateTime=function(){return this._stateTimeSeconds},CubismMotionQueueEntry.prototype.getStateWeight=function(){return this._stateWeight},CubismMotionQueueEntry.prototype.getLastCheckEventTime=function(){return this._lastEventCheckSeconds},CubismMotionQueueEntry.prototype.setLastCheckEventTime=function(t){this._lastEventCheckSeconds=t},_t=CubismMotionQueueEntry,mt.CubismMotionQueueEntry=_t;var bt,At,Ct,vt=p.csmVector,Mt=dt.CubismMotionQueueEntry;function CubismMotionQueueManager(){this._userTimeSeconds=0,this._eventCallBack=null,this._eventCustomData=null,this._motions=new vt}At=bt=bt||{},CubismMotionQueueManager.prototype.release=function(){for(var t=0;t<this._motions.getSize();++t)this._motions.at(t)&&(this._motions.at(t).release(),this._motions.set(t,void 0),this._motions.set(t,null));this._motions=null},CubismMotionQueueManager.prototype.startMotion=function(t,e,r){if(null==t)return At.InvalidMotionQueueEntryHandleValue;for(var i=null,n=0;n<this._motions.getSize();++n)null!=(i=this._motions.at(n))&&i.startFadeout(i._motion.getFadeOutTime(),r);return(i=new Mt)._autoDelete=e,i._motion=t,this._motions.pushBack(i),i._motionQueueEntryHandle},CubismMotionQueueManager.prototype.isFinished=function(){for(var t=this._motions.begin();t.notEqual(this._motions.end());){var e=t.ptr();if(null!=e)if(null!=e._motion){if(!e.isFinished())return!1;t.preIncrement()}else e.release(),e=void 0,e=null,t=this._motions.erase(t);else t=this._motions.erase(t)}return!0},CubismMotionQueueManager.prototype.isFinishedByHandle=function(t){for(var e=this._motions.begin();e.notEqual(this._motions.end());e.increment()){var r=e.ptr();if(null!=r&&r._motionQueueEntryHandle==t&&!r.isFinished())return!1}return!0},CubismMotionQueueManager.prototype.stopAllMotions=function(){for(var t=this._motions.begin();t.notEqual(this._motions.end());){var e=t.ptr();t=(null!=e&&(e.release(),e=void 0,e=null),this._motions.erase(t))}},CubismMotionQueueManager.prototype.getCubismMotionQueueEntry=function(t){for(var e=this._motions.begin();e.notEqual(this._motions.end());e.preIncrement()){var r=e.ptr();if(null!=r&&r._motionQueueEntryHandle==t)return r}return null},CubismMotionQueueManager.prototype.setEventCallback=function(t,e){void 0===e&&(e=null),this._eventCallBack=t,this._eventCustomData=e},CubismMotionQueueManager.prototype.doUpdateMotion=function(t,e){for(var r=!1,i=this._motions.begin();i.notEqual(this._motions.end());){var n=i.ptr();if(null!=n){var o=n._motion;if(null!=o){o.updateParameters(t,n,e),r=!0;for(var a=o.getFiredEvent(n.getLastCheckEventTime()-n.getStartTime(),e-n.getStartTime()),s=0;s<a.getSize();++s)this._eventCallBack(this,a.at(s),this._eventCustomData);n.setLastCheckEventTime(e),n.isFinished()?(n.release(),n=void 0,n=null,i=this._motions.erase(i)):i.preIncrement()}else n.release(),n=void 0,n=null,i=this._motions.erase(i)}else i=this._motions.erase(i)}return r},Ct=CubismMotionQueueManager,At.CubismMotionQueueManager=Ct,At.InvalidMotionQueueEntryHandleValue=-1;var St,wt,xt,Bt,Pt,It=(St=function(t,e){return(St=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function __(){this.constructor=t}St(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),Vt=bt.CubismMotionQueueManager;function CubismMotionManager(){var t=Bt.call(this)||this;return t._currentPriority=0,t._reservePriority=0,t}xt=wt=wt||{},It(CubismMotionManager,Bt=Vt),CubismMotionManager.prototype.getCurrentPriority=function(){return this._currentPriority},CubismMotionManager.prototype.getReservePriority=function(){return this._reservePriority},CubismMotionManager.prototype.setReservePriority=function(t){this._reservePriority=t},CubismMotionManager.prototype.startMotionPriority=function(t,e,r){return r==this._reservePriority&&(this._reservePriority=0),this._currentPriority=r,Bt.prototype.startMotion.call(this,t,e,this._userTimeSeconds)},CubismMotionManager.prototype.updateMotion=function(t,e){this._userTimeSeconds+=e;var r=Bt.prototype.doUpdateMotion.call(this,t,this._userTimeSeconds);return this.isFinished()&&(this._currentPriority=0),r},CubismMotionManager.prototype.reserveMotion=function(t){return!(t<=this._reservePriority||t<=this._currentPriority||(this._reservePriority=t,0))},Pt=CubismMotionManager,xt.CubismMotionManager=Pt;var kt,Et,Tt,Rt=at.CubismMath;function CubismTargetPoint(){this._faceTargetX=0,this._faceTargetY=0,this._faceX=0,this._faceY=0,this._faceVX=0,this._faceVY=0,this._lastTimeSeconds=0,this._userTimeSeconds=0}Et=kt=kt||{},CubismTargetPoint.prototype.update=function(t){if(this._userTimeSeconds+=t,0!=this._lastTimeSeconds){var e=30*(this._userTimeSeconds-this._lastTimeSeconds);this._lastTimeSeconds=this._userTimeSeconds;var r=4/30*e/4.5,i=this._faceTargetX-this._faceX,n=this._faceTargetY-this._faceY;if(!(Rt.abs(i)<=.01&&Rt.abs(n)<=.01)){var o=Rt.sqrt(i*i+n*n),a=4/30*n/o,s=4/30*i/o-this._faceVX,u=a-this._faceVY,l=Rt.sqrt(s*s+u*u);(l<-r||r<l)&&(s*=r/l,u*=r/l),this._faceVX+=s,this._faceVY+=u;var c=.5*(Rt.sqrt(r*r+16*r*o-8*r*o)-r),h=Rt.sqrt(this._faceVX*this._faceVX+this._faceVY*this._faceVY);c<h&&(this._faceVX*=c/h,this._faceVY*=c/h),this._faceX+=this._faceVX,this._faceY+=this._faceVY}}else this._lastTimeSeconds=this._userTimeSeconds},CubismTargetPoint.prototype.getX=function(){return this._faceX},CubismTargetPoint.prototype.getY=function(){return this._faceY},CubismTargetPoint.prototype.set=function(t,e){this._faceTargetX=t,this._faceTargetY=e},Tt=CubismTargetPoint,Et.CubismTargetPoint=Tt;var Lt,Ft,Dt,Ut,Nt,Ot=(Lt=function(t,e){return(Lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function __(){this.constructor=t}Lt(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),Xt=L.CubismMatrix44;function CubismModelMatrix(t,e){var r=Ut.call(this)||this;return r._width=void 0!==t?t:0,r._height=void 0!==e?e:0,r.setHeight(1),r}Dt=Ft=Ft||{},Ot(CubismModelMatrix,Ut=Xt),CubismModelMatrix.prototype.setWidth=function(t){var e=t/this._width,r=e;this.scale(e,r)},CubismModelMatrix.prototype.setHeight=function(t){var e=t/this._height,r=e;this.scale(e,r)},CubismModelMatrix.prototype.setPosition=function(t,e){this.translate(t,e)},CubismModelMatrix.prototype.setCenterPosition=function(t,e){this.centerX(t),this.centerY(e)},CubismModelMatrix.prototype.top=function(t){this.setY(t)},CubismModelMatrix.prototype.bottom=function(t){var e=this._height*this.getScaleY();this.translateY(t-e)},CubismModelMatrix.prototype.left=function(t){this.setX(t)},CubismModelMatrix.prototype.right=function(t){var e=this._width*this.getScaleX();this.translateX(t-e)},CubismModelMatrix.prototype.centerX=function(t){var e=this._width*this.getScaleX();this.translateX(t-e/2)},CubismModelMatrix.prototype.setX=function(t){this.translateX(t)},CubismModelMatrix.prototype.centerY=function(t){var e=this._height*this.getScaleY();this.translateY(t-e/2)},CubismModelMatrix.prototype.setY=function(t){this.translateY(t)},CubismModelMatrix.prototype.setupFromLayout=function(t){for(var e=t.begin();e.notEqual(t.end());e.preIncrement()){var r=e.ptr().first,i=e.ptr().second;"width"==r?this.setWidth(i):"height"==r&&this.setHeight(i)}for(e=t.begin();e.notEqual(t.end());e.preIncrement())r=e.ptr().first,i=e.ptr().second,"x"==r?this.setX(i):"y"==r?this.setY(i):"center_x"==r?this.centerX(i):"center_y"==r?this.centerY(i):"top"==r?this.top(i):"bottom"==r?this.bottom(i):"left"==r?this.left(i):"right"==r&&this.right(i)},Nt=CubismModelMatrix,Dt.CubismModelMatrix=Nt;var Gt,Yt,zt,Jt=r(0),jt=G.CubismFramework,Wt=O.CubismBlendMode,Ht=p.csmVector,Qt=g.csmMap;function CubismModel(t){this._model=t,this._parameterValues=null,this._parameterMaximumValues=null,this._parameterMinimumValues=null,this._partOpacities=null,this._savedParameters=new Ht,this._parameterIds=new Ht,this._drawableIds=new Ht,this._partIds=new Ht,this._notExistPartId=new Qt,this._notExistParameterId=new Qt,this._notExistParameterValues=new Qt,this._notExistPartOpacities=new Qt}Yt=Gt=Gt||{},CubismModel.prototype.update=function(){this._model.update(),this._model.drawables.resetDynamicFlags()},CubismModel.prototype.getCanvasWidth=function(){return null==this._model?0:this._model.canvasinfo.CanvasWidth/this._model.canvasinfo.PixelsPerUnit},CubismModel.prototype.getCanvasHeight=function(){return null==this._model?0:this._model.canvasinfo.CanvasHeight/this._model.canvasinfo.PixelsPerUnit},CubismModel.prototype.saveParameters=function(){for(var t=this._model.parameters.count,e=this._savedParameters.getSize(),r=0;r<t;++r)r<e?this._savedParameters.set(r,this._parameterValues[r]):this._savedParameters.pushBack(this._parameterValues[r])},CubismModel.prototype.getModel=function(){return this._model},CubismModel.prototype.getPartIndex=function(t){var e,r=this._model.parts.count;for(e=0;e<r;++e)if(t==this._partIds.at(e))return e;return this._notExistPartId.isExist(t)?this._notExistPartId.getValue(t):(e=r+this._notExistPartId.getSize(),this._notExistPartId.setValue(t,e),this._notExistPartOpacities.appendKey(e),e)},CubismModel.prototype.getPartCount=function(){return this._model.parts.count},CubismModel.prototype.setPartOpacityByIndex=function(t,e){this._notExistPartOpacities.isExist(t)?this._notExistPartOpacities.setValue(t,e):(aG(0<=t&&t<this.getPartCount()),this._partOpacities[t]=e)},CubismModel.prototype.setPartOpacityById=function(t,e){var r=this.getPartIndex(t);r<0||this.setPartOpacityByIndex(r,e)},CubismModel.prototype.getPartOpacityByIndex=function(t){return this._notExistPartOpacities.isExist(t)?this._notExistPartOpacities.getValue(t):(aG(0<=t&&t<this.getPartCount()),this._partOpacities[t])},CubismModel.prototype.getPartOpacityById=function(t){var e=this.getPartIndex(t);return e<0?0:this.getPartOpacityByIndex(e)},CubismModel.prototype.getParameterIndex=function(t){var e,r=this._model.parameters.count;for(e=0;e<r;++e)if(t==this._parameterIds.at(e))return e;return this._notExistParameterId.isExist(t)?this._notExistParameterId.getValue(t):(e=this._model.parameters.count+this._notExistParameterId.getSize(),this._notExistParameterId.setValue(t,e),this._notExistParameterValues.appendKey(e),e)},CubismModel.prototype.getParameterCount=function(){return this._model.parameters.count},CubismModel.prototype.getParameterMaximumValue=function(t){return this._model.parameters.maximumValues[t]},CubismModel.prototype.getParameterMinimumValue=function(t){return this._model.parameters.minimumValues[t]},CubismModel.prototype.getParameterDefaultValue=function(t){return this._model.parameters.defaultValues[t]},CubismModel.prototype.getParameterValueByIndex=function(t){return this._notExistParameterValues.isExist(t)?this._notExistParameterValues.getValue(t):(aG(0<=t&&t<this.getParameterCount()),this._parameterValues[t])},CubismModel.prototype.getParameterValueById=function(t){var e=this.getParameterIndex(t);return this.getParameterValueByIndex(e)},CubismModel.prototype.setParameterValueByIndex=function(t,e,r){void 0===r&&(r=1),this._notExistParameterValues.isExist(t)?this._notExistParameterValues.setValue(t,1==r?e:this._notExistParameterValues.getValue(t)*(1-r)+e*r):(aG(0<=t&&t<this.getParameterCount()),this._model.parameters.maximumValues[t]<e&&(e=this._model.parameters.maximumValues[t]),this._model.parameters.minimumValues[t]>e&&(e=this._model.parameters.minimumValues[t]),this._parameterValues[t]=1==r?e:this._parameterValues[t]=this._parameterValues[t]*(1-r)+e*r)},CubismModel.prototype.setParameterValueById=function(t,e,r){void 0===r&&(r=1);var i=this.getParameterIndex(t);this.setParameterValueByIndex(i,e,r)},CubismModel.prototype.addParameterValueByIndex=function(t,e,r){void 0===r&&(r=1),this.setParameterValueByIndex(t,this.getParameterValueByIndex(t)+e*r)},CubismModel.prototype.addParameterValueById=function(t,e,r){void 0===r&&(r=1);var i=this.getParameterIndex(t);this.addParameterValueByIndex(i,e,r)},CubismModel.prototype.multiplyParameterValueById=function(t,e,r){void 0===r&&(r=1);var i=this.getParameterIndex(t);this.multiplyParameterValueByIndex(i,e,r)},CubismModel.prototype.multiplyParameterValueByIndex=function(t,e,r){void 0===r&&(r=1),this.setParameterValueByIndex(t,this.getParameterValueByIndex(t)*(1+(e-1)*r))},CubismModel.prototype.getDrawableIndex=function(t){for(var e=this._model.drawables.count,r=0;r<e;++r)if(this._drawableIds.at(r)==t)return r;return-1},CubismModel.prototype.getDrawableCount=function(){return this._model.drawables.count},CubismModel.prototype.getDrawableId=function(t){var e=this._model.drawables.ids;return jt.getIdManager().getId(e[t])},CubismModel.prototype.getDrawableRenderOrders=function(){return this._model.drawables.renderOrders},CubismModel.prototype.getDrawableTextureIndices=function(t){return this._model.drawables.textureIndices[t]},CubismModel.prototype.getDrawableDynamicFlagVertexPositionsDidChange=function(t){var e=this._model.drawables.dynamicFlags;return Jt.Utils.hasVertexPositionsDidChangeBit(e[t])},CubismModel.prototype.getDrawableVertexIndexCount=function(t){return this._model.drawables.indexCounts[t]},CubismModel.prototype.getDrawableVertexCount=function(t){return this._model.drawables.vertexCounts[t]},CubismModel.prototype.getDrawableVertices=function(t){return this.getDrawableVertexPositions(t)},CubismModel.prototype.getDrawableVertexIndices=function(t){return this._model.drawables.indices[t]},CubismModel.prototype.getDrawableVertexPositions=function(t){return this._model.drawables.vertexPositions[t]},CubismModel.prototype.getDrawableVertexUvs=function(t){return this._model.drawables.vertexUvs[t]},CubismModel.prototype.getDrawableOpacity=function(t){return this._model.drawables.opacities[t]},CubismModel.prototype.getDrawableCulling=function(t){var e=this._model.drawables.constantFlags;return!Jt.Utils.hasIsDoubleSidedBit(e[t])},CubismModel.prototype.getDrawableBlendMode=function(t){var e=this._model.drawables.constantFlags;return Jt.Utils.hasBlendAdditiveBit(e[t])?Wt.CubismBlendMode_Additive:Jt.Utils.hasBlendMultiplicativeBit(e[t])?Wt.CubismBlendMode_Multiplicative:Wt.CubismBlendMode_Normal},CubismModel.prototype.getDrawableInvertedMaskBit=function(t){var e=this._model.drawables.constantFlags;return Jt.Utils.hasIsInvertedMaskBit(e[t])},CubismModel.prototype.getDrawableMasks=function(){return this._model.drawables.masks},CubismModel.prototype.getDrawableMaskCounts=function(){return this._model.drawables.maskCounts},CubismModel.prototype.isUsingMasking=function(){for(var t=0;t<this._model.drawables.count;++t)if(!(this._model.drawables.maskCounts[t]<=0))return!0;return!1},CubismModel.prototype.getDrawableDynamicFlagIsVisible=function(t){var e=this._model.drawables.dynamicFlags;return Jt.Utils.hasIsVisibleBit(e[t])},CubismModel.prototype.getDrawableDynamicFlagVisibilityDidChange=function(t){var e=this._model.drawables.dynamicFlags;return Jt.Utils.hasVisibilityDidChangeBit(e[t])},CubismModel.prototype.getDrawableDynamicFlagOpacityDidChange=function(t){var e=this._model.drawables.dynamicFlags;return Jt.Utils.hasOpacityDidChangeBit(e[t])},CubismModel.prototype.getDrawableDynamicFlagRenderOrderDidChange=function(t){var e=this._model.drawables.dynamicFlags;return Jt.Utils.hasRenderOrderDidChangeBit(e[t])},CubismModel.prototype.loadParameters=function(){var t=this._model.parameters.count,e=this._savedParameters.getSize();e<t&&(t=e);for(var r=0;r<t;++r)this._parameterValues[r]=this._savedParameters.at(r)},CubismModel.prototype.initialize=function(){aG(this._model),this._parameterValues=this._model.parameters.values,this._partOpacities=this._model.parts.opacities,this._parameterMaximumValues=this._model.parameters.maximumValues,this._parameterMinimumValues=this._model.parameters.minimumValues;var t=this._model.parameters.ids,e=this._model.parameters.count;this._parameterIds.prepareCapacity(e);for(var r=0;r<e;++r)this._parameterIds.pushBack(jt.getIdManager().getId(t[r]));var i=this._model.parts.ids,n=this._model.parts.count;for(this._partIds.prepareCapacity(n),r=0;r<n;++r)this._partIds.pushBack(jt.getIdManager().getId(i[r]));var o=this._model.drawables.ids,a=this._model.drawables.count;for(this._drawableIds.prepareCapacity(a),r=0;r<a;++r)this._drawableIds.pushBack(jt.getIdManager().getId(o[r]))},CubismModel.prototype.release=function(){this._model.release(),this._model=null},zt=CubismModel,Yt.CubismModel=zt;var qt,Zt,Kt,$t=r(0),te=Gt.CubismModel;function CubismMoc(t){this._moc=t,this._modelCount=0}Zt=qt=qt||{},CubismMoc.create=function(t){var e=null,r=$t.Moc.fromArrayBuffer(t);return r&&(e=new CubismMoc(r)),e},CubismMoc.delete=function(t){t._moc._release(),t._moc=null,t=null},CubismMoc.prototype.createModel=function(){var t=null,e=$t.Model.fromMoc(this._moc);return e&&((t=new te(e)).initialize(),++this._modelCount),t},CubismMoc.prototype.deleteModel=function(t){null!=t&&(t.release(),t=null,--this._modelCount)},CubismMoc.prototype.release=function(){aG(0==this._modelCount),this._moc._release(),this._moc=null},Kt=CubismMoc,Zt.CubismMoc=Kt;var ee,re,ie,ne,oe,ae,se,ue,le,ce=o.csmString,he=G.CubismFramework,fe=_.CubismJson;function CubismMotionJson(t,e){this._json=fe.create(t,e)}re=ee=ee||{},ie="Meta",ne="Curves",oe="FadeInTime",ae="FadeOutTime",se="Segments",ue="UserData",CubismMotionJson.prototype.release=function(){fe.delete(this._json)},CubismMotionJson.prototype.getMotionDuration=function(){return this._json.getRoot().getValueByString(ie).getValueByString("Duration").toFloat()},CubismMotionJson.prototype.isMotionLoop=function(){return this._json.getRoot().getValueByString(ie).getValueByString("Loop").toBoolean()},CubismMotionJson.prototype.getMotionCurveCount=function(){return this._json.getRoot().getValueByString(ie).getValueByString("CurveCount").toInt()},CubismMotionJson.prototype.getMotionFps=function(){return this._json.getRoot().getValueByString(ie).getValueByString("Fps").toFloat()},CubismMotionJson.prototype.getMotionTotalSegmentCount=function(){return this._json.getRoot().getValueByString(ie).getValueByString("TotalSegmentCount").toInt()},CubismMotionJson.prototype.getMotionTotalPointCount=function(){return this._json.getRoot().getValueByString(ie).getValueByString("TotalPointCount").toInt()},CubismMotionJson.prototype.isExistMotionFadeInTime=function(){return!this._json.getRoot().getValueByString(ie).getValueByString(oe).isNull()},CubismMotionJson.prototype.isExistMotionFadeOutTime=function(){return!this._json.getRoot().getValueByString(ie).getValueByString(ae).isNull()},CubismMotionJson.prototype.getMotionFadeInTime=function(){return this._json.getRoot().getValueByString(ie).getValueByString(oe).toFloat()},CubismMotionJson.prototype.getMotionFadeOutTime=function(){return this._json.getRoot().getValueByString(ie).getValueByString(ae).toFloat()},CubismMotionJson.prototype.getMotionCurveTarget=function(t){return this._json.getRoot().getValueByString(ne).getValueByIndex(t).getValueByString("Target").getRawString()},CubismMotionJson.prototype.getMotionCurveId=function(t){return he.getIdManager().getId(this._json.getRoot().getValueByString(ne).getValueByIndex(t).getValueByString("Id").getRawString())},CubismMotionJson.prototype.isExistMotionCurveFadeInTime=function(t){return!this._json.getRoot().getValueByString(ne).getValueByIndex(t).getValueByString(oe).isNull()},CubismMotionJson.prototype.isExistMotionCurveFadeOutTime=function(t){return!this._json.getRoot().getValueByString(ne).getValueByIndex(t).getValueByString(ae).isNull()},CubismMotionJson.prototype.getMotionCurveFadeInTime=function(t){return this._json.getRoot().getValueByString(ne).getValueByIndex(t).getValueByString(oe).toFloat()},CubismMotionJson.prototype.getMotionCurveFadeOutTime=function(t){return this._json.getRoot().getValueByString(ne).getValueByIndex(t).getValueByString(ae).toFloat()},CubismMotionJson.prototype.getMotionCurveSegmentCount=function(t){return this._json.getRoot().getValueByString(ne).getValueByIndex(t).getValueByString(se).getVector().getSize()},CubismMotionJson.prototype.getMotionCurveSegment=function(t,e){return this._json.getRoot().getValueByString(ne).getValueByIndex(t).getValueByString(se).getValueByIndex(e).toFloat()},CubismMotionJson.prototype.getEventCount=function(){return this._json.getRoot().getValueByString(ie).getValueByString("UserDataCount").toInt()},CubismMotionJson.prototype.getTotalEventValueSize=function(){return this._json.getRoot().getValueByString(ie).getValueByString("TotalUserDataSize").toInt()},CubismMotionJson.prototype.getEventTime=function(t){return this._json.getRoot().getValueByString(ue).getValueByIndex(t).getValueByString("Time").toInt()},CubismMotionJson.prototype.getEventValue=function(t){return new ce(this._json.getRoot().getValueByString(ue).getValueByIndex(t).getValueByString("Value").getRawString())},le=CubismMotionJson,re.CubismMotionJson=le;var ge,pe=p.csmVector;!function(t){var e,r,i;(r=e=t.CubismMotionCurveTarget||(t.CubismMotionCurveTarget={}))[r.CubismMotionCurveTarget_Model=0]="CubismMotionCurveTarget_Model",r[r.CubismMotionCurveTarget_Parameter=1]="CubismMotionCurveTarget_Parameter",r[r.CubismMotionCurveTarget_PartOpacity=2]="CubismMotionCurveTarget_PartOpacity",(i=t.CubismMotionSegmentType||(t.CubismMotionSegmentType={}))[i.CubismMotionSegmentType_Linear=0]="CubismMotionSegmentType_Linear",i[i.CubismMotionSegmentType_Bezier=1]="CubismMotionSegmentType_Bezier",i[i.CubismMotionSegmentType_Stepped=2]="CubismMotionSegmentType_Stepped",i[i.CubismMotionSegmentType_InverseStepped=3]="CubismMotionSegmentType_InverseStepped";function R$(){this.time=0,this.value=0}t.CubismMotionPoint=R$;function S$(){this.evaluate=null,this.basePointIndex=0,this.segmentType=0}t.CubismMotionSegment=S$;function T$(){this.type=e.CubismMotionCurveTarget_Model,this.segmentCount=0,this.baseSegmentIndex=0,this.fadeInTime=0,this.fadeOutTime=0}t.CubismMotionCurve=T$;function U$(){this.fireTime=0}t.CubismMotionEvent=U$;function V$(){this.duration=0,this.loop=!1,this.curveCount=0,this.eventCount=0,this.fps=0,this.curves=new pe,this.segments=new pe,this.points=new pe,this.events=new pe}t.CubismMotionData=V$}(ge=ge||{});var de,me,_e,ye,be,Ae=(de=function(t,e){return(de=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function __(){this.constructor=t}de(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),Ce=o.csmString,ve=ge.CubismMotionData,Me=ge.CubismMotionSegment,Se=ge.CubismMotionPoint,we=ge.CubismMotionEvent,xe=ge.CubismMotionSegmentType,Be=ge.CubismMotionCurve,Pe=ge.CubismMotionCurveTarget,Ie=at.CubismMath,Ve=G.CubismFramework,ke=ct.ACubismMotion,Ee=ee.CubismMotionJson;function lerpPoints(t,e,r){var i=new Se;return i.time=t.time+(e.time-t.time)*r,i.value=t.value+(e.value-t.value)*r,i}function linearEvaluate(t,e){var r=(e-t[0].time)/(t[1].time-t[0].time);return r<0&&(r=0),t[0].value+(t[1].value-t[0].value)*r}function bezierEvaluate(t,e){var r=(e-t[0].time)/(t[3].time-t[0].time);r<0&&(r=0);var i=lerpPoints(t[0],t[1],r),n=lerpPoints(t[1],t[2],r),o=lerpPoints(t[2],t[3],r),a=lerpPoints(i,n,r),s=lerpPoints(n,o,r);return lerpPoints(a,s,r).value}function steppedEvaluate(t,e){return t[0].value}function inverseSteppedEvaluate(t,e){return t[1].value}function evaluateCurve(t,e,r){for(var i=t.curves.at(e),n=-1,o=i.baseSegmentIndex+i.segmentCount,a=0,s=i.baseSegmentIndex;s<o;++s)if(a=t.segments.at(s).basePointIndex+(t.segments.at(s).segmentType==xe.CubismMotionSegmentType_Bezier?3:1),t.points.at(a).time>r){n=s;break}if(-1==n)return t.points.at(a).value;var u=t.segments.at(n);return u.evaluate(t.points.get(u.basePointIndex),r)}function CubismMotion(){var t=ye.call(this)||this;return t._sourceFrameRate=30,t._loopDurationSeconds=-1,t._isLoop=!1,t._isLoopFadeIn=!0,t._lastWeight=0,t._motionData=null,t._modelCurveIdEyeBlink=null,t._modelCurveIdLipSync=null,t._eyeBlinkParameterIds=null,t._lipSyncParameterIds=null,t}_e=me=me||{},Ae(CubismMotion,ye=ke),CubismMotion.create=function(t,e){var r=new CubismMotion;return r.parse(t,e),r._sourceFrameRate=r._motionData.fps,r._loopDurationSeconds=r._motionData.duration,r},CubismMotion.prototype.doUpdateParameters=function(t,e,r,i){null==this._modelCurveIdEyeBlink&&(this._modelCurveIdEyeBlink=Ve.getIdManager().getId("EyeBlink")),null==this._modelCurveIdLipSync&&(this._modelCurveIdLipSync=Ve.getIdManager().getId("LipSync"));var n=e-i.getStartTime();n<0&&(n=0);var o=Number.MAX_VALUE,a=Number.MAX_VALUE,s=0,u=0;64<this._eyeBlinkParameterIds.getSize()&&C("too many eye blink targets : {0}",this._eyeBlinkParameterIds.getSize()),64<this._lipSyncParameterIds.getSize()&&C("too many lip sync targets : {0}",this._lipSyncParameterIds.getSize());var l,c,h,f=this._fadeInSeconds<=0?1:Ie.getEasingSine((e-i.getFadeInStartTime())/this._fadeInSeconds),g=this._fadeOutSeconds<=0||i.getEndTime()<0?1:Ie.getEasingSine((i.getEndTime()-e)/this._fadeOutSeconds),p=n;if(this._isLoop)for(;p>this._motionData.duration;)p-=this._motionData.duration;var d=this._motionData.curves;for(c=0;c<this._motionData.curveCount&&d.at(c).type==Pe.CubismMotionCurveTarget_Model;++c)l=evaluateCurve(this._motionData,c,p),d.at(c).id==this._modelCurveIdEyeBlink?a=l:d.at(c).id==this._modelCurveIdLipSync&&(o=l);for(;c<this._motionData.curveCount&&d.at(c).type==Pe.CubismMotionCurveTarget_Parameter;++c)if(-1!=(h=t.getParameterIndex(d.at(c).id))){var m=t.getParameterValueByIndex(h);if(l=evaluateCurve(this._motionData,c,p),a!=Number.MAX_VALUE)for(var _=0;_<this._eyeBlinkParameterIds.getSize()&&_<64;++_)if(this._eyeBlinkParameterIds.at(_)==d.at(c).id){l*=a,u|=1<<_;break}if(o!=Number.MAX_VALUE)for(_=0;_<this._lipSyncParameterIds.getSize()&&_<64;++_)if(this._lipSyncParameterIds.at(_)==d.at(c).id){l+=o,s|=1<<_;break}var y=void 0;if(d.at(c).fadeInTime<0&&d.at(c).fadeOutTime<0)y=m+(l-m)*r;else{var b=void 0,A=void 0;b=d.at(c).fadeInTime<0?f:0==d.at(c).fadeInTime?1:Ie.getEasingSine((e-i.getFadeInStartTime())/d.at(c).fadeInTime),A=d.at(c).fadeOutTime<0?g:0==d.at(c).fadeOutTime||i.getEndTime()<0?1:Ie.getEasingSine((i.getEndTime()-e)/d.at(c).fadeOutTime),y=m+(l-m)*(this._weight*b*A)}t.setParameterValueByIndex(h,y,1)}if(a!=Number.MAX_VALUE)for(_=0;_<this._eyeBlinkParameterIds.getSize()&&_<64;++_)m=t.getParameterValueById(this._eyeBlinkParameterIds.at(_)),u>>_&1||(y=m+(a-m)*r,t.setParameterValueById(this._eyeBlinkParameterIds.at(_),y));if(o!=Number.MAX_VALUE)for(_=0;_<this._lipSyncParameterIds.getSize()&&_<64;++_)m=t.getParameterValueById(this._lipSyncParameterIds.at(_)),s>>_&1||(y=m+(o-m)*r,t.setParameterValueById(this._lipSyncParameterIds.at(_),y));for(;c<this._motionData.curveCount&&d.at(c).type==Pe.CubismMotionCurveTarget_PartOpacity;++c)-1!=(h=t.getParameterIndex(d.at(c).id))&&(l=evaluateCurve(this._motionData,c,p),t.setParameterValueByIndex(h,l));n>=this._motionData.duration&&(this._isLoop?(i.setStartTime(e),this._isLoopFadeIn&&i.setFadeInStartTime(e)):i.setIsFinished(!0)),this._lastWeight=r},CubismMotion.prototype.setIsLoop=function(t){this._isLoop=t},CubismMotion.prototype.isLoop=function(){return this._isLoop},CubismMotion.prototype.setIsLoopFadeIn=function(t){this._isLoopFadeIn=t},CubismMotion.prototype.isLoopFadeIn=function(){return this._isLoopFadeIn},CubismMotion.prototype.getDuration=function(){return this._isLoop?-1:this._loopDurationSeconds},CubismMotion.prototype.getLoopDuration=function(){return this._loopDurationSeconds},CubismMotion.prototype.setParameterFadeInTime=function(t,e){for(var r=this._motionData.curves,i=0;i<this._motionData.curveCount;++i)if(t==r.at(i).id)return void(r.at(i).fadeInTime=e)},CubismMotion.prototype.setParameterFadeOutTime=function(t,e){for(var r=this._motionData.curves,i=0;i<this._motionData.curveCount;++i)if(t==r.at(i).id)return void(r.at(i).fadeOutTime=e)},CubismMotion.prototype.getParameterFadeInTime=function(t){for(var e=this._motionData.curves,r=0;r<this._motionData.curveCount;++r)if(t==e.at(r).id)return e.at(r).fadeInTime;return-1},CubismMotion.prototype.getParameterFadeOutTime=function(t){for(var e=this._motionData.curves,r=0;r<this._motionData.curveCount;++r)if(t==e.at(r).id)return e.at(r).fadeOutTime;return-1},CubismMotion.prototype.setEffectIds=function(t,e){this._eyeBlinkParameterIds=t,this._lipSyncParameterIds=e},CubismMotion.prototype.release=function(){this._motionData=void 0,this._motionData=null},CubismMotion.prototype.parse=function(t,e){this._motionData=new ve;var r=new Ee(t,e);this._motionData.duration=r.getMotionDuration(),this._motionData.loop=r.isMotionLoop(),this._motionData.curveCount=r.getMotionCurveCount(),this._motionData.fps=r.getMotionFps(),this._motionData.eventCount=r.getEventCount(),r.isExistMotionFadeInTime()?this._fadeInSeconds=r.getMotionFadeInTime()<0?1:r.getMotionFadeInTime():this._fadeInSeconds=1,r.isExistMotionFadeOutTime()?this._fadeOutSeconds=r.getMotionFadeOutTime()<0?1:r.getMotionFadeOutTime():this._fadeOutSeconds=1;for(var i=0,n=0,o=0;o<this._motionData.curveCount;++o){var a=new Be;"Model"==r.getMotionCurveTarget(o)?a.type=Pe.CubismMotionCurveTarget_Model:"Parameter"==r.getMotionCurveTarget(o)?a.type=Pe.CubismMotionCurveTarget_Parameter:"PartOpacity"==r.getMotionCurveTarget(o)&&(a.type=Pe.CubismMotionCurveTarget_PartOpacity),a.id=r.getMotionCurveId(o),a.baseSegmentIndex=n,a.fadeInTime=r.isExistMotionCurveFadeInTime(o)?r.getMotionCurveFadeInTime(o):-1,a.fadeOutTime=r.isExistMotionCurveFadeOutTime(o)?r.getMotionCurveFadeOutTime(o):-1;for(var s=0;s<r.getMotionCurveSegmentCount(o);){var u=new Me;if(0==s){var l=new Se;u.basePointIndex=i,l.time=r.getMotionCurveSegment(o,s),l.value=r.getMotionCurveSegment(o,s+1),this._motionData.points.pushBack(l),i+=1,s+=2}else u.basePointIndex=i-1;switch(r.getMotionCurveSegment(o,s)){case xe.CubismMotionSegmentType_Linear:l=new Se,u.segmentType=xe.CubismMotionSegmentType_Linear,u.evaluate=linearEvaluate,l.time=r.getMotionCurveSegment(o,s+1),l.value=r.getMotionCurveSegment(o,s+2),this._motionData.points.pushBack(l),i+=1,s+=3;break;case xe.CubismMotionSegmentType_Bezier:l=void 0,u.segmentType=xe.CubismMotionSegmentType_Bezier,u.evaluate=bezierEvaluate,(l=new Se).time=r.getMotionCurveSegment(o,s+1),l.value=r.getMotionCurveSegment(o,s+2),this._motionData.points.pushBack(l),(l=new Se).time=r.getMotionCurveSegment(o,s+3),l.value=r.getMotionCurveSegment(o,s+4),this._motionData.points.pushBack(l),(l=new Se).time=r.getMotionCurveSegment(o,s+5),l.value=r.getMotionCurveSegment(o,s+6),this._motionData.points.pushBack(l),i+=3,s+=7;break;case xe.CubismMotionSegmentType_Stepped:l=new Se,u.segmentType=xe.CubismMotionSegmentType_Stepped,u.evaluate=steppedEvaluate,l.time=r.getMotionCurveSegment(o,s+1),l.value=r.getMotionCurveSegment(o,s+2),this._motionData.points.pushBack(l),i+=1,s+=3;break;case xe.CubismMotionSegmentType_InverseStepped:l=new Se,u.segmentType=xe.CubismMotionSegmentType_InverseStepped,u.evaluate=inverseSteppedEvaluate,l.time=r.getMotionCurveSegment(o,s+1),l.value=r.getMotionCurveSegment(o,s+2),this._motionData.points.pushBack(l),i+=1,s+=3;break;default:aG(0)}++a.segmentCount,++n,this._motionData.segments.pushBack(u)}this._motionData.curves.pushBack(a)}for(var c=0;c<r.getEventCount();++c){var h=new we;h.fireTime=r.getEventTime(c),h.value=r.getEventValue(c),this._motionData.events.pushBack(h)}r.release(),r=void 0,r=null},CubismMotion.prototype.getFiredEvent=function(t,e){this._firedEventValues.updateSize(0);for(var r=0;r<this._motionData.eventCount;++r)this._motionData.events.at(r).fireTime>t&&this._motionData.events.at(r).fireTime<=e&&this._firedEventValues.pushBack(new Ce(this._motionData.events.at(r).value.s));return this._firedEventValues},be=CubismMotion,_e.CubismMotion=be;var Te,Re,Le=(Te=function(t,e){return(Te=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function __(){this.constructor=t}Te(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),Fe=p.csmVector,De=G.CubismFramework,Ue=_.CubismJson,Ne=ct.ACubismMotion;!function(t){var e,f,r,g="Parameters",p="Blend",i=(Le(CubismExpressionMotion,e=Ne),CubismExpressionMotion.create=function(t,e){var r=new CubismExpressionMotion,i=Ue.create(t,e),n=i.getRoot();r.setFadeInTime(n.getValueByString("FadeInTime").toFloat(1)),r.setFadeOutTime(n.getValueByString("FadeOutTime").toFloat(1));var o=n.getValueByString(g).getSize();r._parameters.prepareCapacity(o);for(var a=0;a<o;++a){var s=n.getValueByString(g).getValueByIndex(a),u=De.getIdManager().getId(s.getValueByString("Id").getRawString()),l=s.getValueByString("Value").toFloat(),c=void 0;c=s.getValueByString(p).isNull()||"Add"==s.getValueByString(p).getString()?f.ExpressionBlendType_Add:"Multiply"==s.getValueByString(p).getString()?f.ExpressionBlendType_Multiply:"Overwrite"==s.getValueByString(p).getString()?f.ExpressionBlendType_Overwrite:f.ExpressionBlendType_Add;var h=new d;h.parameterId=u,h.blendType=c,h.value=l,r._parameters.pushBack(h)}return Ue.delete(i),r},CubismExpressionMotion.prototype.doUpdateParameters=function(t,e,r,i){for(var n=0;n<this._parameters.getSize();++n){var o=this._parameters.at(n);switch(o.blendType){case f.ExpressionBlendType_Add:t.addParameterValueById(o.parameterId,o.value,r);break;case f.ExpressionBlendType_Multiply:t.multiplyParameterValueById(o.parameterId,o.value,r);break;case f.ExpressionBlendType_Overwrite:t.setParameterValueById(o.parameterId,o.value,r)}}},CubismExpressionMotion);function CubismExpressionMotion(){var t=e.call(this)||this;return t._parameters=new Fe,t}t.CubismExpressionMotion=i,(r=f=t.ExpressionBlendType||(t.ExpressionBlendType={}))[r.ExpressionBlendType_Add=0]="ExpressionBlendType_Add",r[r.ExpressionBlendType_Multiply=1]="ExpressionBlendType_Multiply",r[r.ExpressionBlendType_Overwrite=2]="ExpressionBlendType_Overwrite";var d=function ExpressionParameter(){};t.ExpressionParameter=d}(Re=Re||{});var Oe,Xe=p.csmVector,Ge=G.CubismFramework,Ye=_.CubismJson;!function(t){var A="FadeInTime",e=(CubismPose.create=function(t,e){var r=new CubismPose,i=Ye.create(t,e),n=i.getRoot();n.getValueByString(A).isNull()||(r._fadeTimeSeconds=n.getValueByString(A).toFloat(.5),r._fadeTimeSeconds<=0&&(r._fadeTimeSeconds=.5));for(var o=n.getValueByString("Groups"),a=o.getSize(),s=0;s<a;++s){for(var u=o.getValueByIndex(s),l=u.getSize(),c=0,h=0;h<l;++h){var f=u.getValueByIndex(h),g=new C,p=Ge.getIdManager().getId(f.getValueByString("Id").getRawString());if(g.partId=p,!f.getValueByString("Link").isNull())for(var d=f.getValueByString("Link"),m=d.getSize(),_=0;_<m;++_){var y=new C,b=Ge.getIdManager().getId(d.getValueByIndex(_).getString());y.partId=b,g.link.pushBack(y)}r._partGroups.pushBack(g.clone()),++c}r._partGroupCounts.pushBack(c)}return Ye.delete(i),r},CubismPose.delete=function(t){null!=t&&(t=null)},CubismPose.prototype.updateParameters=function(t,e){t!=this._lastModel&&this.reset(t),this._lastModel=t,e<0&&(e=0);for(var r=0,i=0;i<this._partGroupCounts.getSize();i++){var n=this._partGroupCounts.at(i);this.doFade(t,e,r,n),r+=n}this.copyPartOpacities(t)},CubismPose.prototype.reset=function(t){for(var e=0,r=0;r<this._partGroupCounts.getSize();++r){for(var i=this._partGroupCounts.at(r),n=e;n<e+i;++n){this._partGroups.at(n).initialize(t);var o=this._partGroups.at(n).partIndex,a=this._partGroups.at(n).parameterIndex;if(!(o<0)){t.setPartOpacityByIndex(o,n==e?1:0),t.setParameterValueByIndex(a,n==e?1:0);for(var s=0;s<this._partGroups.at(n).link.getSize();++s)this._partGroups.at(n).link.at(s).initialize(t)}}e+=i}},CubismPose.prototype.copyPartOpacities=function(t){for(var e=0;e<this._partGroups.getSize();++e){var r=this._partGroups.at(e);if(0!=r.link.getSize())for(var i=this._partGroups.at(e).partIndex,n=t.getPartOpacityByIndex(i),o=0;o<r.link.getSize();++o){var a=r.link.at(o).partIndex;a<0||t.setPartOpacityByIndex(a,n)}}},CubismPose.prototype.doFade=function(t,e,r,i){for(var n=-1,o=1,a=r;a<r+i;++a){var s=this._partGroups.at(a).partIndex,u=this._partGroups.at(a).parameterIndex;if(.001<t.getParameterValueByIndex(u)){if(0<=n)break;n=a,o=t.getPartOpacityByIndex(s),1<(o+=e/this._fadeTimeSeconds)&&(o=1)}}for(n<0&&(n=0,o=1),a=r;a<r+i;++a){var l=this._partGroups.at(a).partIndex;if(n==a)t.setPartOpacityByIndex(l,o);else{var c=t.getPartOpacityByIndex(l),h=void 0;.15<(1-(h=o<.5?-.5*o/.5+1:.5*(1-o)/.5))*(1-o)&&(h=1-.15/(1-o)),h<c&&(c=h),t.setPartOpacityByIndex(l,c)}}},CubismPose);function CubismPose(){this._fadeTimeSeconds=.5,this._lastModel=null,this._partGroups=new Xe,this._partGroupCounts=new Xe}t.CubismPose=e;var C=(PartData.prototype.assignment=function(t){this.partId=t.partId;for(var e=t.link.begin();e.notEqual(t.link.end());e.preIncrement())this.link.pushBack(e.ptr().clone());return this},PartData.prototype.initialize=function(t){this.parameterIndex=t.getParameterIndex(this.partId),this.partIndex=t.getPartIndex(this.partId),t.setParameterValueByIndex(this.parameterIndex,1)},PartData.prototype.clone=function(){var t=new PartData;t.partId=this.partId,t.parameterIndex=this.parameterIndex,t.partIndex=this.partIndex,t.link=new Xe;for(var e=this.link.begin();e.notEqual(this.link.end());e.increment())t.link.pushBack(e.ptr().clone());return t},PartData);function PartData(t){if(this.parameterIndex=0,this.partIndex=0,this.link=new Xe,null!=t){this.partId=t.partId;for(var e=t.link.begin();e.notEqual(t.link.end());e.preIncrement())this.link.pushBack(e.ptr().clone())}}t.PartData=C}(Oe=Oe||{});var ze,Je,je,We,He=G.CubismFramework,Qe=_.CubismJson;function CubismModelUserDataJson(t,e){this._json=Qe.create(t,e)}Je=ze=ze||{},je="UserData",CubismModelUserDataJson.prototype.release=function(){Qe.delete(this._json)},CubismModelUserDataJson.prototype.getUserDataCount=function(){return this._json.getRoot().getValueByString("Meta").getValueByString("UserDataCount").toInt()},CubismModelUserDataJson.prototype.getTotalUserDataSize=function(){return this._json.getRoot().getValueByString("Meta").getValueByString("TotalUserDataSize").toInt()},CubismModelUserDataJson.prototype.getUserDataTargetType=function(t){return this._json.getRoot().getValueByString(je).getValueByIndex(t).getValueByString("Target").getRawString()},CubismModelUserDataJson.prototype.getUserDataId=function(t){return He.getIdManager().getId(this._json.getRoot().getValueByString(je).getValueByIndex(t).getValueByString("Id").getRawString())},CubismModelUserDataJson.prototype.getUserDataValue=function(t){return this._json.getRoot().getValueByString(je).getValueByIndex(t).getValueByString("Value").getRawString()},We=CubismModelUserDataJson,Je.CubismModelUserDataJson=We;var qe,Ze=G.CubismFramework,Ke=p.csmVector,$e=o.csmString,tr=ze.CubismModelUserDataJson;!function(t){var s=function CubismModelUserDataNode(){};t.CubismModelUserDataNode=s;var e=(CubismModelUserData.create=function(t,e){var r=new CubismModelUserData;return r.parseUserData(t,e),r},CubismModelUserData.delete=function(t){null!=t&&(t.release(),t=null)},CubismModelUserData.prototype.getArtMeshUserDatas=function(){return this._artMeshUserDataNode},CubismModelUserData.prototype.parseUserData=function(t,e){for(var r=new tr(t,e),i=Ze.getIdManager().getId("ArtMesh"),n=r.getUserDataCount(),o=0;o<n;o++){var a=new s;a.targetId=r.getUserDataId(o),a.targetType=Ze.getIdManager().getId(r.getUserDataTargetType(o)),a.value=new $e(r.getUserDataValue(o)),this._userDataNodes.pushBack(a),a.targetType==i&&this._artMeshUserDataNode.pushBack(a)}r.release(),r=void 0},CubismModelUserData.prototype.release=function(){for(var t=0;t<this._userDataNodes.getSize();++t)this._userDataNodes.set(t,null);this._userDataNodes=null},CubismModelUserData);function CubismModelUserData(){this._userDataNodes=new Ke,this._artMeshUserDataNode=new Ke}t.CubismModelUserData=e}(qe=qe||{});var er,rr=p.csmVector,ir=rt.CubismVector2;!function(t){var e,r;(e=t.CubismPhysicsTargetType||(t.CubismPhysicsTargetType={}))[e.CubismPhysicsTargetType_Parameter=0]="CubismPhysicsTargetType_Parameter",(r=t.CubismPhysicsSource||(t.CubismPhysicsSource={}))[r.CubismPhysicsSource_X=0]="CubismPhysicsSource_X",r[r.CubismPhysicsSource_Y=1]="CubismPhysicsSource_Y",r[r.CubismPhysicsSource_Angle=2]="CubismPhysicsSource_Angle";function O3(){this.gravity=new ir(0,0),this.wind=new ir(0,0)}t.PhysicsJsonEffectiveForces=O3;var i=function CubismPhysicsParameter(){};t.CubismPhysicsParameter=i;var n=function CubismPhysicsNormalization(){};t.CubismPhysicsNormalization=n;function R3(){this.initialPosition=new ir(0,0),this.position=new ir(0,0),this.lastPosition=new ir(0,0),this.lastGravity=new ir(0,0),this.force=new ir(0,0),this.velocity=new ir(0,0)}t.CubismPhysicsParticle=R3;function S3(){this.normalizationPosition=new n,this.normalizationAngle=new n}t.CubismPhysicsSubRig=S3;function T3(){this.source=new i}t.CubismPhysicsInput=T3;function U3(){this.destination=new i,this.translationScale=new ir(0,0)}t.CubismPhysicsOutput=U3;function V3(){this.settings=new rr,this.inputs=new rr,this.outputs=new rr,this.particles=new rr,this.gravity=new ir(0,0),this.wind=new ir(0,0)}t.CubismPhysicsRig=V3}(er=er||{});var nr,or,ar,sr,ur,lr,cr,hr,fr,gr,pr,dr,mr,_r,yr,br,Ar,Cr=G.CubismFramework,vr=rt.CubismVector2,Mr=_.CubismJson;function CubismPhysicsJson(t,e){this._json=Mr.create(t,e)}or=nr=nr||{},ar="Position",sr="Angle",ur="Meta",lr="EffectiveForces",cr="Gravity",hr="PhysicsSettings",fr="Normalization",gr="Minimum",pr="Maximum",dr="Default",mr="Reflect",_r="Input",yr="Output",br="Vertices",CubismPhysicsJson.prototype.release=function(){Mr.delete(this._json)},CubismPhysicsJson.prototype.getGravity=function(){var t=new vr(0,0);return t.x=this._json.getRoot().getValueByString(ur).getValueByString(lr).getValueByString(cr).getValueByString("X").toFloat(),t.y=this._json.getRoot().getValueByString(ur).getValueByString(lr).getValueByString(cr).getValueByString("Y").toFloat(),t},CubismPhysicsJson.prototype.getWind=function(){var t=new vr(0,0);return t.x=this._json.getRoot().getValueByString(ur).getValueByString(lr).getValueByString("Wind").getValueByString("X").toFloat(),t.y=this._json.getRoot().getValueByString(ur).getValueByString(lr).getValueByString("Wind").getValueByString("Y").toFloat(),t},CubismPhysicsJson.prototype.getSubRigCount=function(){return this._json.getRoot().getValueByString(ur).getValueByString("PhysicsSettingCount").toInt()},CubismPhysicsJson.prototype.getTotalInputCount=function(){return this._json.getRoot().getValueByString(ur).getValueByString("TotalInputCount").toInt()},CubismPhysicsJson.prototype.getTotalOutputCount=function(){return this._json.getRoot().getValueByString(ur).getValueByString("TotalOutputCount").toInt()},CubismPhysicsJson.prototype.getVertexCount=function(){return this._json.getRoot().getValueByString(ur).getValueByString("VertexCount").toInt()},CubismPhysicsJson.prototype.getNormalizationPositionMinimumValue=function(t){return this._json.getRoot().getValueByString(hr).getValueByIndex(t).getValueByString(fr).getValueByString(ar).getValueByString(gr).toFloat()},CubismPhysicsJson.prototype.getNormalizationPositionMaximumValue=function(t){return this._json.getRoot().getValueByString(hr).getValueByIndex(t).getValueByString(fr).getValueByString(ar).getValueByString(pr).toFloat()},CubismPhysicsJson.prototype.getNormalizationPositionDefaultValue=function(t){return this._json.getRoot().getValueByString(hr).getValueByIndex(t).getValueByString(fr).getValueByString(ar).getValueByString(dr).toFloat()},CubismPhysicsJson.prototype.getNormalizationAngleMinimumValue=function(t){return this._json.getRoot().getValueByString(hr).getValueByIndex(t).getValueByString(fr).getValueByString(sr).getValueByString(gr).toFloat()},CubismPhysicsJson.prototype.getNormalizationAngleMaximumValue=function(t){return this._json.getRoot().getValueByString(hr).getValueByIndex(t).getValueByString(fr).getValueByString(sr).getValueByString(pr).toFloat()},CubismPhysicsJson.prototype.getNormalizationAngleDefaultValue=function(t){return this._json.getRoot().getValueByString(hr).getValueByIndex(t).getValueByString(fr).getValueByString(sr).getValueByString(dr).toFloat()},CubismPhysicsJson.prototype.getInputCount=function(t){return this._json.getRoot().getValueByString(hr).getValueByIndex(t).getValueByString(_r).getVector().getSize()},CubismPhysicsJson.prototype.getInputWeight=function(t,e){return this._json.getRoot().getValueByString(hr).getValueByIndex(t).getValueByString(_r).getValueByIndex(e).getValueByString("Weight").toFloat()},CubismPhysicsJson.prototype.getInputReflect=function(t,e){return this._json.getRoot().getValueByString(hr).getValueByIndex(t).getValueByString(_r).getValueByIndex(e).getValueByString(mr).toBoolean()},CubismPhysicsJson.prototype.getInputType=function(t,e){return this._json.getRoot().getValueByString(hr).getValueByIndex(t).getValueByString(_r).getValueByIndex(e).getValueByString("Type").getRawString()},CubismPhysicsJson.prototype.getInputSourceId=function(t,e){return Cr.getIdManager().getId(this._json.getRoot().getValueByString(hr).getValueByIndex(t).getValueByString(_r).getValueByIndex(e).getValueByString("Source").getValueByString("Id").getRawString())},CubismPhysicsJson.prototype.getOutputCount=function(t){return this._json.getRoot().getValueByString(hr).getValueByIndex(t).getValueByString(yr).getVector().getSize()},CubismPhysicsJson.prototype.getOutputVertexIndex=function(t,e){return this._json.getRoot().getValueByString(hr).getValueByIndex(t).getValueByString(yr).getValueByIndex(e).getValueByString("VertexIndex").toInt()},CubismPhysicsJson.prototype.getOutputAngleScale=function(t,e){return this._json.getRoot().getValueByString(hr).getValueByIndex(t).getValueByString(yr).getValueByIndex(e).getValueByString("Scale").toFloat()},CubismPhysicsJson.prototype.getOutputWeight=function(t,e){return this._json.getRoot().getValueByString(hr).getValueByIndex(t).getValueByString(yr).getValueByIndex(e).getValueByString("Weight").toFloat()},CubismPhysicsJson.prototype.getOutputDestinationId=function(t,e){return Cr.getIdManager().getId(this._json.getRoot().getValueByString(hr).getValueByIndex(t).getValueByString(yr).getValueByIndex(e).getValueByString("Destination").getValueByString("Id").getRawString())},CubismPhysicsJson.prototype.getOutputType=function(t,e){return this._json.getRoot().getValueByString(hr).getValueByIndex(t).getValueByString(yr).getValueByIndex(e).getValueByString("Type").getRawString()},CubismPhysicsJson.prototype.getOutputReflect=function(t,e){return this._json.getRoot().getValueByString(hr).getValueByIndex(t).getValueByString(yr).getValueByIndex(e).getValueByString(mr).toBoolean()},CubismPhysicsJson.prototype.getParticleCount=function(t){return this._json.getRoot().getValueByString(hr).getValueByIndex(t).getValueByString(br).getVector().getSize()},CubismPhysicsJson.prototype.getParticleMobility=function(t,e){return this._json.getRoot().getValueByString(hr).getValueByIndex(t).getValueByString(br).getValueByIndex(e).getValueByString("Mobility").toFloat()},CubismPhysicsJson.prototype.getParticleDelay=function(t,e){return this._json.getRoot().getValueByString(hr).getValueByIndex(t).getValueByString(br).getValueByIndex(e).getValueByString("Delay").toFloat()},CubismPhysicsJson.prototype.getParticleAcceleration=function(t,e){return this._json.getRoot().getValueByString(hr).getValueByIndex(t).getValueByString(br).getValueByIndex(e).getValueByString("Acceleration").toFloat()},CubismPhysicsJson.prototype.getParticleRadius=function(t,e){return this._json.getRoot().getValueByString(hr).getValueByIndex(t).getValueByString(br).getValueByIndex(e).getValueByString("Radius").toInt()},CubismPhysicsJson.prototype.getParticlePosition=function(t,e){var r=new vr(0,0);return r.x=this._json.getRoot().getValueByString(hr).getValueByIndex(t).getValueByString(br).getValueByIndex(e).getValueByString(ar).getValueByString("X").toFloat(),r.y=this._json.getRoot().getValueByString(hr).getValueByIndex(t).getValueByString(br).getValueByIndex(e).getValueByString(ar).getValueByString("Y").toFloat(),r},Ar=CubismPhysicsJson,or.CubismPhysicsJson=Ar;var Sr,wr,xr=nr.CubismPhysicsJson,Br=at.CubismMath,Pr=er.CubismPhysicsRig,Ir=er.CubismPhysicsSubRig,Vr=er.CubismPhysicsInput,kr=er.CubismPhysicsOutput,Er=er.CubismPhysicsParticle,Tr=er.CubismPhysicsSource,Rr=er.CubismPhysicsTargetType,Lr=rt.CubismVector2;!function(t){var M=100,e=(CubismPhysics.create=function(t,e){var r=new CubismPhysics;return r.parse(t,e),r._physicsRig.gravity.y=0,r},CubismPhysics.delete=function(t){null!=t&&(t.release(),t=null)},CubismPhysics.prototype.evaluate=function(t,e){var r,i,n,o,a,s,u,l,c,h,f,g,p=new Lr;c=t.getModel().parameters.values,h=t.getModel().parameters.maximumValues,f=t.getModel().parameters.minimumValues,g=t.getModel().parameters.defaultValues;for(var d=0;d<this._physicsRig.subRigCount;++d){r={angle:0},p.x=0,p.y=0,a=this._physicsRig.settings.at(d),s=this._physicsRig.inputs.get(a.baseInputIndex),u=this._physicsRig.outputs.get(a.baseOutputIndex),l=this._physicsRig.particles.get(a.baseParticleIndex);for(var m=0;m<a.inputCount;++m)i=s[m].weight/M,-1==s[m].sourceParameterIndex&&(s[m].sourceParameterIndex=t.getParameterIndex(s[m].source.id)),s[m].getNormalizedParameterValue(p,r,c[s[m].sourceParameterIndex],f[s[m].sourceParameterIndex],h[s[m].sourceParameterIndex],g[s[m].sourceParameterIndex],a.normalizationPosition,a.normalizationAngle,s[0].reflect,i);for(n=Br.degreesToRadian(-r.angle),p.x=p.x*Br.cos(n)-p.y*Br.sin(n),p.y=p.x*Br.sin(n)+p.y*Br.cos(n),updateParticles(l,a.particleCount,p,r.angle,this._options.wind,.001*a.normalizationPosition.maximum,e,5),m=0;m<a.outputCount;++m){var _=u[m].vertexIndex;if(_<1||_>=a.particleCount)break;-1==u[m].destinationParameterIndex&&(u[m].destinationParameterIndex=t.getParameterIndex(u[m].destination.id));var y=new Lr;y.x=l[_].position.x-l[_-1].position.x,y.y=l[_].position.y-l[_-1].position.y,o=u[m].getValue(y,l,_,u[m].reflect,this._options.gravity);var b=u[m].destinationParameterIndex,A=!Float32Array.prototype.slice&&"subarray"in Float32Array.prototype?JSON.parse(JSON.stringify(c.subarray(b))):c.slice(b);updateOutputParameterValue(A,f[b],h[b],o,u[m]);for(var C=b,v=0;C<c.length;C++,v++)c[C]=A[v]}}},CubismPhysics.prototype.setOptions=function(t){this._options=t},CubismPhysics.prototype.getOption=function(){return this._options},CubismPhysics.prototype.release=function(){this._physicsRig=void 0,this._physicsRig=null},CubismPhysics.prototype.parse=function(t,e){this._physicsRig=new Pr;var r=new xr(t,e);this._physicsRig.gravity=r.getGravity(),this._physicsRig.wind=r.getWind(),this._physicsRig.subRigCount=r.getSubRigCount(),this._physicsRig.settings.updateSize(this._physicsRig.subRigCount,Ir,!0),this._physicsRig.inputs.updateSize(r.getTotalInputCount(),Vr,!0),this._physicsRig.outputs.updateSize(r.getTotalOutputCount(),kr,!0),this._physicsRig.particles.updateSize(r.getVertexCount(),Er,!0);for(var i=0,n=0,o=0,a=0;a<this._physicsRig.settings.getSize();++a){this._physicsRig.settings.at(a).normalizationPosition.minimum=r.getNormalizationPositionMinimumValue(a),this._physicsRig.settings.at(a).normalizationPosition.maximum=r.getNormalizationPositionMaximumValue(a),this._physicsRig.settings.at(a).normalizationPosition.defalut=r.getNormalizationPositionDefaultValue(a),this._physicsRig.settings.at(a).normalizationAngle.minimum=r.getNormalizationAngleMinimumValue(a),this._physicsRig.settings.at(a).normalizationAngle.maximum=r.getNormalizationAngleMaximumValue(a),this._physicsRig.settings.at(a).normalizationAngle.defalut=r.getNormalizationAngleDefaultValue(a),this._physicsRig.settings.at(a).inputCount=r.getInputCount(a),this._physicsRig.settings.at(a).baseInputIndex=i;for(var s=0;s<this._physicsRig.settings.at(a).inputCount;++s)this._physicsRig.inputs.at(i+s).sourceParameterIndex=-1,this._physicsRig.inputs.at(i+s).weight=r.getInputWeight(a,s),this._physicsRig.inputs.at(i+s).reflect=r.getInputReflect(a,s),"X"==r.getInputType(a,s)?(this._physicsRig.inputs.at(i+s).type=Tr.CubismPhysicsSource_X,this._physicsRig.inputs.at(i+s).getNormalizedParameterValue=getInputTranslationXFromNormalizedParameterValue):"Y"==r.getInputType(a,s)?(this._physicsRig.inputs.at(i+s).type=Tr.CubismPhysicsSource_Y,this._physicsRig.inputs.at(i+s).getNormalizedParameterValue=getInputTranslationYFromNormalizedParamterValue):"Angle"==r.getInputType(a,s)&&(this._physicsRig.inputs.at(i+s).type=Tr.CubismPhysicsSource_Angle,this._physicsRig.inputs.at(i+s).getNormalizedParameterValue=getInputAngleFromNormalizedParameterValue),this._physicsRig.inputs.at(i+s).source.targetType=Rr.CubismPhysicsTargetType_Parameter,this._physicsRig.inputs.at(i+s).source.id=r.getInputSourceId(a,s);for(i+=this._physicsRig.settings.at(a).inputCount,this._physicsRig.settings.at(a).outputCount=r.getOutputCount(a),this._physicsRig.settings.at(a).baseOutputIndex=n,s=0;s<this._physicsRig.settings.at(a).outputCount;++s)this._physicsRig.outputs.at(n+s).destinationParameterIndex=-1,this._physicsRig.outputs.at(n+s).vertexIndex=r.getOutputVertexIndex(a,s),this._physicsRig.outputs.at(n+s).angleScale=r.getOutputAngleScale(a,s),this._physicsRig.outputs.at(n+s).weight=r.getOutputWeight(a,s),this._physicsRig.outputs.at(n+s).destination.targetType=Rr.CubismPhysicsTargetType_Parameter,this._physicsRig.outputs.at(n+s).destination.id=r.getOutputDestinationId(a,s),"X"==r.getOutputType(a,s)?(this._physicsRig.outputs.at(n+s).type=Tr.CubismPhysicsSource_X,this._physicsRig.outputs.at(n+s).getValue=getOutputTranslationX,this._physicsRig.outputs.at(n+s).getScale=getOutputScaleTranslationX):"Y"==r.getOutputType(a,s)?(this._physicsRig.outputs.at(n+s).type=Tr.CubismPhysicsSource_Y,this._physicsRig.outputs.at(n+s).getValue=getOutputTranslationY,this._physicsRig.outputs.at(n+s).getScale=getOutputScaleTranslationY):"Angle"==r.getOutputType(a,s)&&(this._physicsRig.outputs.at(n+s).type=Tr.CubismPhysicsSource_Angle,this._physicsRig.outputs.at(n+s).getValue=getOutputAngle,this._physicsRig.outputs.at(n+s).getScale=getOutputScaleAngle),this._physicsRig.outputs.at(n+s).reflect=r.getOutputReflect(a,s);for(n+=this._physicsRig.settings.at(a).outputCount,this._physicsRig.settings.at(a).particleCount=r.getParticleCount(a),this._physicsRig.settings.at(a).baseParticleIndex=o,s=0;s<this._physicsRig.settings.at(a).particleCount;++s)this._physicsRig.particles.at(o+s).mobility=r.getParticleMobility(a,s),this._physicsRig.particles.at(o+s).delay=r.getParticleDelay(a,s),this._physicsRig.particles.at(o+s).acceleration=r.getParticleAcceleration(a,s),this._physicsRig.particles.at(o+s).radius=r.getParticleRadius(a,s),this._physicsRig.particles.at(o+s).position=r.getParticlePosition(a,s);o+=this._physicsRig.settings.at(a).particleCount}this.initialize(),r.release(),r=void 0,r=null},CubismPhysics.prototype.initialize=function(){for(var t,e,r,i=0;i<this._physicsRig.subRigCount;++i){e=this._physicsRig.settings.at(i),(t=this._physicsRig.particles.get(e.baseParticleIndex))[0].initialPosition=new Lr(0,0),t[0].lastPosition=new Lr(t[0].initialPosition.x,t[0].initialPosition.y),t[0].lastGravity=new Lr(0,-1),t[0].lastGravity.y*=-1,t[0].velocity=new Lr(0,0),t[0].force=new Lr(0,0);for(var n=1;n<e.particleCount;++n)(r=new Lr(0,0)).y=t[n].radius,t[n].initialPosition=new Lr(t[n-1].initialPosition.x+r.x,t[n-1].initialPosition.y+r.y),t[n].position=new Lr(t[n].initialPosition.x,t[n].initialPosition.y),t[n].lastPosition=new Lr(t[n].initialPosition.x,t[n].initialPosition.y),t[n].lastGravity=new Lr(0,-1),t[n].lastGravity.y*=-1,t[n].velocity=new Lr(0,0),t[n].force=new Lr(0,0)}},CubismPhysics);function CubismPhysics(){this._physicsRig=null,this._options=new r,this._options.gravity.y=-1,this._options.gravity.x=0,this._options.wind.x=0,this._options.wind.y=0}t.CubismPhysics=e;var r=function Options(){this.gravity=new Lr(0,0),this.wind=new Lr(0,0)};function getInputTranslationXFromNormalizedParameterValue(t,e,r,i,n,o,a,s,u,l){t.x+=normalizeParameterValue(r,i,n,0,a.minimum,a.maximum,a.defalut,u)*l}function getInputTranslationYFromNormalizedParamterValue(t,e,r,i,n,o,a,s,u,l){t.y+=normalizeParameterValue(r,i,n,0,a.minimum,a.maximum,a.defalut,u)*l}function getInputAngleFromNormalizedParameterValue(t,e,r,i,n,o,a,s,u,l){e.angle+=normalizeParameterValue(r,i,n,0,s.minimum,s.maximum,s.defalut,u)*l}function getOutputTranslationX(t,e,r,i,n){var o=t.x;return i&&(o*=-1),o}function getOutputTranslationY(t,e,r,i,n){var o=t.y;return i&&(o*=-1),o}function getOutputAngle(t,e,r,i,n){var o;return n=2<=r?e[r-1].position.substract(e[r-2].position):n.multiplyByScaler(-1),o=Br.directionToRadian(n,t),i&&(o*=-1),o}function getDefaultValue(t,e){return Br.min(t,e)+function getRangeValue(t,e){var r=Br.max(t,e),i=Br.min(t,e);return Br.abs(r-i)}(t,e)/2}function getOutputScaleTranslationX(t,e){return JSON.parse(JSON.stringify(t.x))}function getOutputScaleTranslationY(t,e){return JSON.parse(JSON.stringify(t.y))}function getOutputScaleAngle(t,e){return JSON.parse(JSON.stringify(e))}function updateParticles(t,e,r,i,n,o,a,s){var u,l,c,h,f=new Lr(0,0),g=new Lr(0,0),p=new Lr(0,0),d=new Lr(0,0);t[0].position=new Lr(r.x,r.y),u=Br.degreesToRadian(i),(h=Br.radianToDirection(u)).normalize();for(var m=1;m<e;++m)t[m].force=h.multiplyByScaler(t[m].acceleration).add(n),t[m].lastPosition=new Lr(t[m].position.x,t[m].position.y),l=t[m].delay*a*30,f=t[m].position.substract(t[m-1].position),c=Br.directionToRadian(t[m].lastGravity,h)/s,f.x=Br.cos(c)*f.x-f.y*Br.sin(c),f.y=Br.sin(c)*f.x+f.y*Br.cos(c),t[m].position=t[m-1].position.add(f),g=t[m].velocity.multiplyByScaler(l),p=t[m].force.multiplyByScaler(l).multiplyByScaler(l),t[m].position=t[m].position.add(g).add(p),(d=t[m].position.substract(t[m-1].position)).normalize(),t[m].position=t[m-1].position.add(d.multiplyByScaler(t[m].radius)),Br.abs(t[m].position.x)<o&&(t[m].position.x=0),0!=l&&(t[m].velocity=t[m].position.substract(t[m].lastPosition),t[m].velocity=t[m].velocity.divisionByScalar(l),t[m].velocity=t[m].velocity.multiplyByScaler(t[m].mobility)),t[m].force=new Lr(0,0),t[m].lastGravity=new Lr(h.x,h.y)}function updateOutputParameterValue(t,e,r,i,n){var o,a;(o=i*n.getScale(n.translationScale,n.angleScale))<e?(o<n.valueBelowMinimum&&(n.valueBelowMinimum=o),o=e):r<o&&(o>n.valueExceededMaximum&&(n.valueExceededMaximum=o),o=r),1<=(a=n.weight/M)||(o=t[0]*(1-a)+o*a),t[0]=o}function normalizeParameterValue(t,e,r,i,n,o,a,s){var u=0,l=Br.max(r,e);l<t&&(t=l);var c=Br.min(r,e);t<c&&(t=c);var h=Br.min(n,o),f=Br.max(n,o),g=a,p=getDefaultValue(c,l),d=t-p;switch(function sign(t){var e=0;return 0<t?e=1:t<0&&(e=-1),e}(d)){case 1:var m=f-g;0!=(_=l-p)&&(u=m/_*d,u+=g);break;case-1:var _;m=h-g;0!=(_=c-p)&&(u=m/_*d,u+=g);break;case 0:u=g}return s?u:-1*u}t.Options=r}(Sr=Sr||{}),function(t){var e=(CubismBreath.create=function(){return new CubismBreath},CubismBreath.delete=function(t){null!=t&&(t=null)},CubismBreath.prototype.setParameters=function(t){this._breathParameters=t},CubismBreath.prototype.getParameters=function(){return this._breathParameters},CubismBreath.prototype.updateParameters=function(t,e){this._currentTime+=e;for(var r=2*this._currentTime*3.14159,i=0;i<this._breathParameters.getSize();++i){var n=this._breathParameters.at(i);t.addParameterValueById(n.parameterId,n.offset+n.peak*Math.sin(r/n.cycle),n.weight)}},CubismBreath);function CubismBreath(){this._currentTime=0}t.CubismBreath=e;function q8(t,e,r,i,n){this.parameterId=null==t?null:t,this.offset=null==e?0:e,this.peak=null==r?0:r,this.cycle=null==i?0:i,this.weight=null==n?0:n}t.BreathParameterData=q8}(wr=wr||{});var Fr,Dr,Ur,Nr,Or,Xr,Gr,Yr,zr=p.csmVector;function CubismEyeBlink(t){if(this._blinkingState=Ur.EyeState_First,this._nextBlinkingTime=0,this._stateStartTimeSeconds=0,this._blinkingIntervalSeconds=4,this._closingSeconds=.1,this._closedSeconds=.05,this._openingSeconds=.15,this._userTimeSeconds=0,this._parameterIds=new zr,null!=t)for(var e=0;e<t.getEyeBlinkParameterCount();++e)this._parameterIds.pushBack(t.getEyeBlinkParameterId(e))}function csmRect(t,e,r,i){this.x=t,this.y=e,this.width=r,this.height=i}Dr=Fr=Fr||{},CubismEyeBlink.create=function(t){return void 0===t&&(t=null),new CubismEyeBlink(t)},CubismEyeBlink.delete=function(t){null!=t&&(t=null)},CubismEyeBlink.prototype.setBlinkingInterval=function(t){this._blinkingIntervalSeconds=t},CubismEyeBlink.prototype.setBlinkingSetting=function(t,e,r){this._closingSeconds=t,this._closedSeconds=e,this._openingSeconds=r},CubismEyeBlink.prototype.setParameterIds=function(t){this._parameterIds=t},CubismEyeBlink.prototype.getParameterIds=function(){return this._parameterIds},CubismEyeBlink.prototype.updateParameters=function(t,e){var r;this._userTimeSeconds+=e;var i=0;switch(this._blinkingState){case Ur.EyeState_Closing:1<=(i=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._closingSeconds)&&(i=1,this._blinkingState=Ur.EyeState_Closed,this._stateStartTimeSeconds=this._userTimeSeconds),r=1-i;break;case Ur.EyeState_Closed:1<=(i=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._closedSeconds)&&(this._blinkingState=Ur.EyeState_Opening,this._stateStartTimeSeconds=this._userTimeSeconds),r=0;break;case Ur.EyeState_Opening:1<=(i=(this._userTimeSeconds-this._stateStartTimeSeconds)/this._openingSeconds)&&(i=1,this._blinkingState=Ur.EyeState_Interval,this._nextBlinkingTime=this.determinNextBlinkingTiming()),r=i;break;case Ur.EyeState_Interval:this._nextBlinkingTime<this._userTimeSeconds&&(this._blinkingState=Ur.EyeState_Closing,this._stateStartTimeSeconds=this._userTimeSeconds),r=1;break;case Ur.EyeState_First:default:this._blinkingState=Ur.EyeState_Interval,this._nextBlinkingTime=this.determinNextBlinkingTiming(),r=1}CubismEyeBlink.CloseIfZero||(r=-r);for(var n=0;n<this._parameterIds.getSize();++n)t.setParameterValueById(this._parameterIds.at(n),r)},CubismEyeBlink.prototype.determinNextBlinkingTiming=function(){var t=Math.random();return this._userTimeSeconds+t*(2*this._blinkingIntervalSeconds-1)},CubismEyeBlink.CloseIfZero=!0,Or=CubismEyeBlink,Dr.CubismEyeBlink=Or,(Nr=Ur=Dr.EyeState||(Dr.EyeState={}))[Nr.EyeState_First=0]="EyeState_First",Nr[Nr.EyeState_Interval=1]="EyeState_Interval",Nr[Nr.EyeState_Closing=2]="EyeState_Closing",Nr[Nr.EyeState_Closed=3]="EyeState_Closed",Nr[Nr.EyeState_Opening=4]="EyeState_Opening",Gr=Xr=Xr||{},csmRect.prototype.getCenterX=function(){return this.x+.5*this.width},csmRect.prototype.getCenterY=function(){return this.y+.5*this.height},csmRect.prototype.getRight=function(){return this.x+this.width},csmRect.prototype.getBottom=function(){return this.y+this.height},csmRect.prototype.setRect=function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},csmRect.prototype.expand=function(t,e){this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},Yr=csmRect,Gr.csmRect=Yr;var Jr,jr,Wr=(Jr=function(t,e){return(Jr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function __(){this.constructor=t}Jr(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),Hr=G.Constant,Qr=L.CubismMatrix44,qr=Xr.csmRect,Zr=g.csmMap,Kr=p.csmVector,$r=O.CubismRenderer,ti=O.CubismBlendMode,ei=O.CubismTextureColor;!function(e){var t,g,p,r=(CubismClippingManager_WebGL.prototype.getChannelFlagAsColor=function(t){return this._channelColors.at(t)},CubismClippingManager_WebGL.prototype.getMaskRenderTexture=function(){var t=0;if(this._maskTexture&&0!=this._maskTexture.texture&&(this._maskTexture.frameNo=this._currentFrameNo,t=this._maskTexture.texture),0==t){var e=this._clippingMaskBufferSize;this._colorBuffer=this.gl.createTexture(),this.gl.bindTexture(this.gl.TEXTURE_2D,this._colorBuffer),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,e,e,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,null),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.bindTexture(this.gl.TEXTURE_2D,null),t=this.gl.createFramebuffer(),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,t),this.gl.framebufferTexture2D(this.gl.FRAMEBUFFER,this.gl.COLOR_ATTACHMENT0,this.gl.TEXTURE_2D,this._colorBuffer,0),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,p),this._maskTexture=new i(this._currentFrameNo,t)}return t},CubismClippingManager_WebGL.prototype.setGL=function(t){this.gl=t},CubismClippingManager_WebGL.prototype.calcClippedDrawTotalBounds=function(t,e){for(var r=Number.MAX_VALUE,i=Number.MAX_VALUE,n=Number.MIN_VALUE,o=Number.MIN_VALUE,a=e._clippedDrawableIndexList.length,s=0;s<a;s++){for(var u=e._clippedDrawableIndexList[s],l=t.getDrawableVertexCount(u),c=t.getDrawableVertices(u),h=Number.MAX_VALUE,f=Number.MAX_VALUE,g=Number.MIN_VALUE,p=Number.MIN_VALUE,d=l*Hr.vertexStep,m=Hr.vertexOffset;m<d;m+=Hr.vertexStep){var _=c[m],y=c[m+1];_<h&&(h=_),g<_&&(g=_),y<f&&(f=y),p<y&&(p=y)}if(h!=Number.MAX_VALUE)if(h<r&&(r=h),f<i&&(i=f),n<g&&(n=g),o<p&&(o=p),r==Number.MAX_VALUE)e._allClippedDrawRect.x=0,e._allClippedDrawRect.y=0,e._allClippedDrawRect.width=0,e._allClippedDrawRect.height=0,e._isUsing=!1;else{e._isUsing=!0;var b=n-r,A=o-i;e._allClippedDrawRect.x=r,e._allClippedDrawRect.y=i,e._allClippedDrawRect.width=b,e._allClippedDrawRect.height=A}}},CubismClippingManager_WebGL.prototype.release=function(){for(var t=0;t<this._clippingContextListForMask.getSize();t++)this._clippingContextListForMask.at(t)&&(this._clippingContextListForMask.at(t).release(),this._clippingContextListForMask.set(t,void 0)),this._clippingContextListForMask.set(t,null);for(this._clippingContextListForMask=null,t=0;t<this._clippingContextListForDraw.getSize();t++)this._clippingContextListForDraw.set(t,null);for(this._clippingContextListForDraw=null,this._maskTexture&&(this.gl.deleteFramebuffer(this._maskTexture.texture),this._maskTexture=null),t=0;t<this._channelColors.getSize();t++)this._channelColors.set(t,null);this._channelColors=null,this.gl.deleteTexture(this._colorBuffer),this._colorBuffer=null},CubismClippingManager_WebGL.prototype.initialize=function(t,e,r,i){for(var n=0;n<e;n++)if(i[n]<=0)this._clippingContextListForDraw.pushBack(null);else{var o=this.findSameClip(r[n],i[n]);null==o&&(o=new a(this,r[n],i[n]),this._clippingContextListForMask.pushBack(o)),o.addClippedDrawable(n),this._clippingContextListForDraw.pushBack(o)}},CubismClippingManager_WebGL.prototype.setupClippingContext=function(t,e){this._currentFrameNo++;for(var r=0,i=0;i<this._clippingContextListForMask.getSize();i++){var n=this._clippingContextListForMask.at(i);this.calcClippedDrawTotalBounds(t,n),n._isUsing&&r++}if(0<r){for(this.gl.viewport(0,0,this._clippingMaskBufferSize,this._clippingMaskBufferSize),this._maskRenderTexture=this.getMaskRenderTexture(),e.getMvpMatrix(),e.preDraw(),this.setupLayoutBounds(r),this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,this._maskRenderTexture),this.gl.clearColor(1,1,1,1),this.gl.clear(this.gl.COLOR_BUFFER_BIT),i=0;i<this._clippingContextListForMask.getSize();i++){var o=this._clippingContextListForMask.at(i),a=o._allClippedDrawRect,s=o._layoutBounds;this._tmpBoundsOnModel.setRect(a),this._tmpBoundsOnModel.expand(.05*a.width,.05*a.height);var u=s.width/this._tmpBoundsOnModel.width,l=s.height/this._tmpBoundsOnModel.height;this._tmpMatrix.loadIdentity(),this._tmpMatrix.translateRelative(-1,-1),this._tmpMatrix.scaleRelative(2,2),this._tmpMatrix.translateRelative(s.x,s.y),this._tmpMatrix.scaleRelative(u,l),this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x,-this._tmpBoundsOnModel.y),this._tmpMatrixForMask.setMatrix(this._tmpMatrix.getArray()),this._tmpMatrix.loadIdentity(),this._tmpMatrix.translateRelative(s.x,s.y),this._tmpMatrix.scaleRelative(u,l),this._tmpMatrix.translateRelative(-this._tmpBoundsOnModel.x,-this._tmpBoundsOnModel.y),this._tmpMatrixForDraw.setMatrix(this._tmpMatrix.getArray()),o._matrixForMask.setMatrix(this._tmpMatrixForMask.getArray()),o._matrixForDraw.setMatrix(this._tmpMatrixForDraw.getArray());for(var c=o._clippingIdCount,h=0;h<c;h++){var f=o._clippingIdList[h];t.getDrawableDynamicFlagVertexPositionsDidChange(f)&&(e.setIsCulling(0!=t.getDrawableCulling(f)),e.setClippingContextBufferForMask(o),e.drawMesh(t.getDrawableTextureIndices(f),t.getDrawableVertexIndexCount(f),t.getDrawableVertexCount(f),t.getDrawableVertexIndices(f),t.getDrawableVertices(f),t.getDrawableVertexUvs(f),t.getDrawableOpacity(f),ti.CubismBlendMode_Normal,!1))}}this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,p),e.setClippingContextBufferForMask(null),this.gl.viewport(g[0],g[1],g[2],g[3])}},CubismClippingManager_WebGL.prototype.findSameClip=function(t,e){for(var r=0;r<this._clippingContextListForMask.getSize();r++){var i=this._clippingContextListForMask.at(r),n=i._clippingIdCount;if(n==e){for(var o=0,a=0;a<n;a++)for(var s=i._clippingIdList[a],u=0;u<n;u++)if(t[u]==s){o++;break}if(o==n)return i}}return null},CubismClippingManager_WebGL.prototype.setupLayoutBounds=function(t){var e=t/4,r=t%4;e=~~e,r=~~r;for(var i=0,n=0;n<4;n++){var o=e+(n<r?1:0);if(0!=o)if(1==o){var a=this._clippingContextListForMask.at(i++);a._layoutChannelNo=n,a._layoutBounds.x=0,a._layoutBounds.y=0,a._layoutBounds.width=1,a._layoutBounds.height=1}else if(2==o)for(var s=0;s<o;s++)u=~~(s%2),(c=this._clippingContextListForMask.at(i++))._layoutChannelNo=n,c._layoutBounds.x=.5*u,c._layoutBounds.y=0,c._layoutBounds.width=.5,c._layoutBounds.height=1;else if(o<=4)for(s=0;s<o;s++)u=~~(s%2),l=~~(s/2),(c=this._clippingContextListForMask.at(i++))._layoutChannelNo=n,c._layoutBounds.x=.5*u,c._layoutBounds.y=.5*l,c._layoutBounds.width=.5,c._layoutBounds.height=.5;else if(o<=9)for(s=0;s<o;s++){var u,l,c;u=~~(s%3),l=~~(s/3),(c=this._clippingContextListForMask.at(i++))._layoutChannelNo=n,c._layoutBounds.x=u/3,c._layoutBounds.y=l/3,c._layoutBounds.width=1/3,c._layoutBounds.height=1/3}else P("not supported mask count : {0}",o)}},CubismClippingManager_WebGL.prototype.getColorBuffer=function(){return this._colorBuffer},CubismClippingManager_WebGL.prototype.getClippingContextListForDraw=function(){return this._clippingContextListForDraw},CubismClippingManager_WebGL.prototype.setClippingMaskBufferSize=function(t){this._clippingMaskBufferSize=t},CubismClippingManager_WebGL.prototype.getClippingMaskBufferSize=function(){return this._clippingMaskBufferSize},CubismClippingManager_WebGL);function CubismClippingManager_WebGL(){this._maskRenderTexture=null,this._colorBuffer=null,this._currentFrameNo=0,this._clippingMaskBufferSize=256,this._clippingContextListForMask=new Kr,this._clippingContextListForDraw=new Kr,this._channelColors=new Kr,this._tmpBoundsOnModel=new qr,this._tmpMatrix=new Qr,this._tmpMatrixForMask=new Qr,this._tmpMatrixForDraw=new Qr,this._maskTexture=null;var t=new ei;t.R=1,t.G=0,t.B=0,t.A=0,this._channelColors.pushBack(t),(t=new ei).R=0,t.G=1,t.B=0,t.A=0,this._channelColors.pushBack(t),(t=new ei).R=0,t.G=0,t.B=1,t.A=0,this._channelColors.pushBack(t),(t=new ei).R=0,t.G=0,t.B=0,t.A=1,this._channelColors.pushBack(t)}e.CubismClippingManager_WebGL=r;var i=function CubismRenderTextureResource(t,e){this.frameNo=t,this.texture=e};e.CubismRenderTextureResource=i;var a=(CubismClippingContext.prototype.release=function(){null!=this._layoutBounds&&(this._layoutBounds=null),null!=this._allClippedDrawRect&&(this._allClippedDrawRect=null),null!=this._clippedDrawableIndexList&&(this._clippedDrawableIndexList=null)},CubismClippingContext.prototype.addClippedDrawable=function(t){this._clippedDrawableIndexList.push(t)},CubismClippingContext.prototype.getClippingManager=function(){return this._owner},CubismClippingContext.prototype.setGl=function(t){this._owner.setGL(t)},CubismClippingContext);function CubismClippingContext(t,e,r){this._owner=t,this._clippingIdList=e,this._clippingIdCount=r,this._allClippedDrawRect=new qr,this._layoutBounds=new qr,this._clippedDrawableIndexList=new Array,this._matrixForMask=new Qr,this._matrixForDraw=new Qr}e.CubismClippingContext=a;var h=(CubismShader_WebGL.getInstance=function(){return null==t?t=new CubismShader_WebGL:t},CubismShader_WebGL.deleteInstance=function(){t&&(t.release(),t=null)},CubismShader_WebGL.prototype.release=function(){this.releaseShaderProgram()},CubismShader_WebGL.prototype.setupShaderProgram=function(t,e,r,i,n,o,a,s,u,l,c,h,f){var g,p,d,m;if(c||P("NoPremultipliedAlpha is not allowed"),0==this._shaderSets.getSize()&&this.generateShaders(),null!=t.getClippingContextBufferForMask()){var _=this._shaderSets.at(S.ShaderNames_SetupMask);this.gl.useProgram(_.shaderProgram),this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,e),this.gl.uniform1i(_.samplerTexture0Location,0),null==a.vertex&&(a.vertex=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,a.vertex),this.gl.bufferData(this.gl.ARRAY_BUFFER,i,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(_.attributePositionLocation),this.gl.vertexAttribPointer(_.attributePositionLocation,2,this.gl.FLOAT,!1,0,0),null==a.uv&&(a.uv=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,a.uv),this.gl.bufferData(this.gl.ARRAY_BUFFER,o,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(_.attributeTexCoordLocation),this.gl.vertexAttribPointer(_.attributeTexCoordLocation,2,this.gl.FLOAT,!1,0,0);var y=t.getClippingContextBufferForMask()._layoutChannelNo,b=t.getClippingContextBufferForMask().getClippingManager().getChannelFlagAsColor(y);this.gl.uniform4f(_.uniformChannelFlagLocation,b.R,b.G,b.B,b.A),this.gl.uniformMatrix4fv(_.uniformClipMatrixLocation,!1,t.getClippingContextBufferForMask()._matrixForMask.getArray());var A=t.getClippingContextBufferForMask()._layoutBounds;this.gl.uniform4f(_.uniformBaseColorLocation,2*A.x-1,2*A.y-1,2*A.getRight()-1,2*A.getBottom()-1),g=this.gl.ZERO,p=this.gl.ONE_MINUS_SRC_COLOR,d=this.gl.ZERO,m=this.gl.ONE_MINUS_SRC_ALPHA}else{var C=null!=t.getClippingContextBufferForDraw(),v=C?f?2:1:0;switch(_=new w,u){case ti.CubismBlendMode_Normal:default:_=this._shaderSets.at(S.ShaderNames_NormalPremultipliedAlpha+v),g=this.gl.ONE,p=this.gl.ONE_MINUS_SRC_ALPHA,d=this.gl.ONE,m=this.gl.ONE_MINUS_SRC_ALPHA;break;case ti.CubismBlendMode_Additive:_=this._shaderSets.at(S.ShaderNames_AddPremultipliedAlpha+v),g=this.gl.ONE,p=this.gl.ONE,d=this.gl.ZERO,m=this.gl.ONE;break;case ti.CubismBlendMode_Multiplicative:_=this._shaderSets.at(S.ShaderNames_MultPremultipliedAlpha+v),g=this.gl.DST_COLOR,p=this.gl.ONE_MINUS_SRC_ALPHA,d=this.gl.ZERO,m=this.gl.ONE}if(this.gl.useProgram(_.shaderProgram),null==a.vertex&&(a.vertex=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,a.vertex),this.gl.bufferData(this.gl.ARRAY_BUFFER,i,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(_.attributePositionLocation),this.gl.vertexAttribPointer(_.attributePositionLocation,2,this.gl.FLOAT,!1,0,0),null==a.uv&&(a.uv=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,a.uv),this.gl.bufferData(this.gl.ARRAY_BUFFER,o,this.gl.DYNAMIC_DRAW),this.gl.enableVertexAttribArray(_.attributeTexCoordLocation),this.gl.vertexAttribPointer(_.attributeTexCoordLocation,2,this.gl.FLOAT,!1,0,0),C){this.gl.activeTexture(this.gl.TEXTURE1);var M=t.getClippingContextBufferForDraw().getClippingManager().getColorBuffer();this.gl.bindTexture(this.gl.TEXTURE_2D,M),this.gl.uniform1i(_.samplerTexture1Location,1),this.gl.uniformMatrix4fv(_.uniformClipMatrixLocation,!1,t.getClippingContextBufferForDraw()._matrixForDraw.getArray()),y=t.getClippingContextBufferForDraw()._layoutChannelNo,b=t.getClippingContextBufferForDraw().getClippingManager().getChannelFlagAsColor(y),this.gl.uniform4f(_.uniformChannelFlagLocation,b.R,b.G,b.B,b.A)}this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,e),this.gl.uniform1i(_.samplerTexture0Location,0),this.gl.uniformMatrix4fv(_.uniformMatrixLocation,!1,h.getArray()),this.gl.uniform4f(_.uniformBaseColorLocation,l.R,l.G,l.B,l.A)}null==a.index&&(a.index=this.gl.createBuffer()),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,a.index),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,n,this.gl.DYNAMIC_DRAW),this.gl.blendFuncSeparate(g,p,d,m)},CubismShader_WebGL.prototype.releaseShaderProgram=function(){for(var t=0;t<this._shaderSets.getSize();t++)this.gl.deleteProgram(this._shaderSets.at(t).shaderProgram),this._shaderSets.at(t).shaderProgram=0,this._shaderSets.set(t,void 0),this._shaderSets.set(t,null)},CubismShader_WebGL.prototype.generateShaders=function(){for(var t=0;t<10;t++)this._shaderSets.pushBack(new w);this._shaderSets.at(0).shaderProgram=this.loadShaderProgram(e.vertexShaderSrcSetupMask,e.fragmentShaderSrcsetupMask),this._shaderSets.at(1).shaderProgram=this.loadShaderProgram(e.vertexShaderSrc,e.fragmentShaderSrcPremultipliedAlpha),this._shaderSets.at(2).shaderProgram=this.loadShaderProgram(e.vertexShaderSrcMasked,e.fragmentShaderSrcMaskPremultipliedAlpha),this._shaderSets.at(3).shaderProgram=this.loadShaderProgram(e.vertexShaderSrcMasked,e.fragmentShaderSrcMaskInvertedPremultipliedAlpha),this._shaderSets.at(4).shaderProgram=this._shaderSets.at(1).shaderProgram,this._shaderSets.at(5).shaderProgram=this._shaderSets.at(2).shaderProgram,this._shaderSets.at(6).shaderProgram=this._shaderSets.at(3).shaderProgram,this._shaderSets.at(7).shaderProgram=this._shaderSets.at(1).shaderProgram,this._shaderSets.at(8).shaderProgram=this._shaderSets.at(2).shaderProgram,this._shaderSets.at(9).shaderProgram=this._shaderSets.at(3).shaderProgram,this._shaderSets.at(0).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(0).shaderProgram,"a_position"),this._shaderSets.at(0).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(0).shaderProgram,"a_texCoord"),this._shaderSets.at(0).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram,"s_texture0"),this._shaderSets.at(0).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram,"u_clipMatrix"),this._shaderSets.at(0).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram,"u_channelFlag"),this._shaderSets.at(0).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(0).shaderProgram,"u_baseColor"),this._shaderSets.at(1).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(1).shaderProgram,"a_position"),this._shaderSets.at(1).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(1).shaderProgram,"a_texCoord"),this._shaderSets.at(1).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram,"s_texture0"),this._shaderSets.at(1).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram,"u_matrix"),this._shaderSets.at(1).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(1).shaderProgram,"u_baseColor"),this._shaderSets.at(2).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(2).shaderProgram,"a_position"),this._shaderSets.at(2).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(2).shaderProgram,"a_texCoord"),this._shaderSets.at(2).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"s_texture0"),this._shaderSets.at(2).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"s_texture1"),this._shaderSets.at(2).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"u_matrix"),this._shaderSets.at(2).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"u_clipMatrix"),this._shaderSets.at(2).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"u_channelFlag"),this._shaderSets.at(2).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(2).shaderProgram,"u_baseColor"),this._shaderSets.at(3).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(3).shaderProgram,"a_position"),this._shaderSets.at(3).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(3).shaderProgram,"a_texCoord"),this._shaderSets.at(3).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"s_texture0"),this._shaderSets.at(3).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"s_texture1"),this._shaderSets.at(3).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"u_matrix"),this._shaderSets.at(3).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"u_clipMatrix"),this._shaderSets.at(3).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"u_channelFlag"),this._shaderSets.at(3).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(3).shaderProgram,"u_baseColor"),this._shaderSets.at(4).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(4).shaderProgram,"a_position"),this._shaderSets.at(4).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(4).shaderProgram,"a_texCoord"),this._shaderSets.at(4).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram,"s_texture0"),this._shaderSets.at(4).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram,"u_matrix"),this._shaderSets.at(4).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(4).shaderProgram,"u_baseColor"),this._shaderSets.at(5).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(5).shaderProgram,"a_position"),this._shaderSets.at(5).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(5).shaderProgram,"a_texCoord"),this._shaderSets.at(5).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"s_texture0"),this._shaderSets.at(5).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"s_texture1"),this._shaderSets.at(5).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"u_matrix"),this._shaderSets.at(5).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"u_clipMatrix"),this._shaderSets.at(5).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"u_channelFlag"),this._shaderSets.at(5).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(5).shaderProgram,"u_baseColor"),this._shaderSets.at(6).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(6).shaderProgram,"a_position"),this._shaderSets.at(6).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(6).shaderProgram,"a_texCoord"),this._shaderSets.at(6).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"s_texture0"),this._shaderSets.at(6).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"s_texture1"),this._shaderSets.at(6).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"u_matrix"),this._shaderSets.at(6).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"u_clipMatrix"),this._shaderSets.at(6).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"u_channelFlag"),this._shaderSets.at(6).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(6).shaderProgram,"u_baseColor"),this._shaderSets.at(7).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(7).shaderProgram,"a_position"),this._shaderSets.at(7).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(7).shaderProgram,"a_texCoord"),this._shaderSets.at(7).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram,"s_texture0"),this._shaderSets.at(7).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram,"u_matrix"),this._shaderSets.at(7).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(7).shaderProgram,"u_baseColor"),this._shaderSets.at(8).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(8).shaderProgram,"a_position"),this._shaderSets.at(8).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(8).shaderProgram,"a_texCoord"),this._shaderSets.at(8).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"s_texture0"),this._shaderSets.at(8).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"s_texture1"),this._shaderSets.at(8).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"u_matrix"),this._shaderSets.at(8).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"u_clipMatrix"),this._shaderSets.at(8).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"u_channelFlag"),this._shaderSets.at(8).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(8).shaderProgram,"u_baseColor"),this._shaderSets.at(9).attributePositionLocation=this.gl.getAttribLocation(this._shaderSets.at(9).shaderProgram,"a_position"),this._shaderSets.at(9).attributeTexCoordLocation=this.gl.getAttribLocation(this._shaderSets.at(9).shaderProgram,"a_texCoord"),this._shaderSets.at(9).samplerTexture0Location=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"s_texture0"),this._shaderSets.at(9).samplerTexture1Location=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"s_texture1"),this._shaderSets.at(9).uniformMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"u_matrix"),this._shaderSets.at(9).uniformClipMatrixLocation=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"u_clipMatrix"),this._shaderSets.at(9).uniformChannelFlagLocation=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"u_channelFlag"),this._shaderSets.at(9).uniformBaseColorLocation=this.gl.getUniformLocation(this._shaderSets.at(9).shaderProgram,"u_baseColor")},CubismShader_WebGL.prototype.loadShaderProgram=function(t,e){var r=this.gl.createProgram(),i=this.compileShaderSource(this.gl.VERTEX_SHADER,t);if(!i)return P("Vertex shader compile error!"),0;var n=this.compileShaderSource(this.gl.FRAGMENT_SHADER,e);return n?(this.gl.attachShader(r,i),this.gl.attachShader(r,n),this.gl.linkProgram(r),this.gl.getProgramParameter(r,this.gl.LINK_STATUS)?(this.gl.deleteShader(i),this.gl.deleteShader(n),r):(P("Failed to link program: {0}",r),this.gl.deleteShader(i),i=0,this.gl.deleteShader(n),n=0,r&&(this.gl.deleteProgram(r),r=0),0)):(P("Vertex shader compile error!"),0)},CubismShader_WebGL.prototype.compileShaderSource=function(t,e){var r=e,i=this.gl.createShader(t);if(this.gl.shaderSource(i,r),this.gl.compileShader(i),!i){var n=this.gl.getShaderInfoLog(i);P("Shader compile log: {0} ",n)}return this.gl.getShaderParameter(i,this.gl.COMPILE_STATUS)?i:(this.gl.deleteShader(i),null)},CubismShader_WebGL.prototype.setGl=function(t){this.gl=t},CubismShader_WebGL);function CubismShader_WebGL(){this._shaderSets=new Kr}e.CubismShader_WebGL=h;var S,n,w=function CubismShaderSet(){};e.CubismShaderSet=w,(n=S=e.ShaderNames||(e.ShaderNames={}))[n.ShaderNames_SetupMask=0]="ShaderNames_SetupMask",n[n.ShaderNames_NormalPremultipliedAlpha=1]="ShaderNames_NormalPremultipliedAlpha",n[n.ShaderNames_NormalMaskedPremultipliedAlpha=2]="ShaderNames_NormalMaskedPremultipliedAlpha",n[n.ShaderNames_NomralMaskedInvertedPremultipliedAlpha=3]="ShaderNames_NomralMaskedInvertedPremultipliedAlpha",n[n.ShaderNames_AddPremultipliedAlpha=4]="ShaderNames_AddPremultipliedAlpha",n[n.ShaderNames_AddMaskedPremultipliedAlpha=5]="ShaderNames_AddMaskedPremultipliedAlpha",n[n.ShaderNames_AddMaskedPremultipliedAlphaInverted=6]="ShaderNames_AddMaskedPremultipliedAlphaInverted",n[n.ShaderNames_MultPremultipliedAlpha=7]="ShaderNames_MultPremultipliedAlpha",n[n.ShaderNames_MultMaskedPremultipliedAlpha=8]="ShaderNames_MultMaskedPremultipliedAlpha",n[n.ShaderNames_MultMaskedPremultipliedAlphaInverted=9]="ShaderNames_MultMaskedPremultipliedAlphaInverted",e.vertexShaderSrcSetupMask="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_myPos;uniform mat4       u_clipMatrix;void main(){   gl_Position = u_clipMatrix * a_position;   v_myPos = u_clipMatrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",e.fragmentShaderSrcsetupMask="precision mediump float;varying vec2       v_texCoord;varying vec4       v_myPos;uniform vec4       u_baseColor;uniform vec4       u_channelFlag;uniform sampler2D  s_texture0;void main(){   float isInside =        step(u_baseColor.x, v_myPos.x/v_myPos.w)       * step(u_baseColor.y, v_myPos.y/v_myPos.w)       * step(v_myPos.x/v_myPos.w, u_baseColor.z)       * step(v_myPos.y/v_myPos.w, u_baseColor.w);   gl_FragColor = u_channelFlag * texture2D(s_texture0, v_texCoord).a * isInside;}",e.vertexShaderSrc="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;uniform mat4       u_matrix;void main(){   gl_Position = u_matrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",e.vertexShaderSrcMasked="attribute vec4     a_position;attribute vec2     a_texCoord;varying vec2       v_texCoord;varying vec4       v_clipPos;uniform mat4       u_matrix;uniform mat4       u_clipMatrix;void main(){   gl_Position = u_matrix * a_position;   v_clipPos = u_clipMatrix * a_position;   v_texCoord = a_texCoord;   v_texCoord.y = 1.0 - v_texCoord.y;}",e.fragmentShaderSrcPremultipliedAlpha="precision mediump float;varying vec2       v_texCoord;uniform vec4       u_baseColor;uniform sampler2D  s_texture0;void main(){   gl_FragColor = texture2D(s_texture0 , v_texCoord) * u_baseColor;}",e.fragmentShaderSrcMaskPremultipliedAlpha="precision mediump float;varying vec2       v_texCoord;varying vec4       v_clipPos;uniform vec4       u_baseColor;uniform vec4       u_channelFlag;uniform sampler2D  s_texture0;uniform sampler2D  s_texture1;void main(){   vec4 col_formask = texture2D(s_texture0 , v_texCoord) * u_baseColor;   vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;   float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;   col_formask = col_formask * maskVal;   gl_FragColor = col_formask;}",e.fragmentShaderSrcMaskInvertedPremultipliedAlpha="precision mediump float;varying vec2 v_texCoord;varying vec4 v_clipPos;uniform sampler2D s_texture0;uniform sampler2D s_texture1;uniform vec4 u_channelFlag;uniform vec4 u_baseColor;void main(){vec4 col_formask = texture2D(s_texture0, v_texCoord) * u_baseColor;vec4 clipMask = (1.0 - texture2D(s_texture1, v_clipPos.xy / v_clipPos.w)) * u_channelFlag;float maskVal = clipMask.r + clipMask.g + clipMask.b + clipMask.a;col_formask = col_formask * (1.0 - maskVal);gl_FragColor = col_formask;}";var o,s=(Wr(CubismRenderer_WebGL,o=$r),CubismRenderer_WebGL.prototype.initialize=function(t){t.isUsingMasking()&&(this._clippingManager=new r,this._clippingManager.initialize(t,t.getDrawableCount(),t.getDrawableMasks(),t.getDrawableMaskCounts())),this._sortedDrawableIndexList.resize(t.getDrawableCount(),0),o.prototype.initialize.call(this,t)},CubismRenderer_WebGL.prototype.bindTexture=function(t,e){this._textures.setValue(t,e)},CubismRenderer_WebGL.prototype.getBindedTextures=function(){return this._textures},CubismRenderer_WebGL.prototype.setClippingMaskBufferSize=function(t){this._clippingManager.release(),this._clippingManager=void 0,this._clippingManager=null,this._clippingManager=new r,this._clippingManager.setClippingMaskBufferSize(t),this._clippingManager.initialize(this.getModel(),this.getModel().getDrawableCount(),this.getModel().getDrawableMasks(),this.getModel().getDrawableMaskCounts())},CubismRenderer_WebGL.prototype.getClippingMaskBufferSize=function(){return this._clippingManager.getClippingMaskBufferSize()},CubismRenderer_WebGL.prototype.release=function(){this._clippingManager.release(),this._clippingManager=void 0,this._clippingManager=null,this.gl.deleteBuffer(this._bufferData.vertex),this._bufferData.vertex=null,this.gl.deleteBuffer(this._bufferData.uv),this._bufferData.uv=null,this.gl.deleteBuffer(this._bufferData.index),this._bufferData.index=null,this._bufferData=null,this._textures=null},CubismRenderer_WebGL.prototype.doDrawModel=function(){null!=this._clippingManager&&(this.preDraw(),this._clippingManager.setupClippingContext(this.getModel(),this)),this.preDraw();for(var t=this.getModel().getDrawableCount(),e=this.getModel().getDrawableRenderOrders(),r=0;r<t;++r){var i=e[r];this._sortedDrawableIndexList.set(i,r)}for(r=0;r<t;++r){var n=this._sortedDrawableIndexList.at(r);this.getModel().getDrawableDynamicFlagIsVisible(n)&&(this.setClippingContextBufferForDraw(null!=this._clippingManager?this._clippingManager.getClippingContextListForDraw().at(n):null),this.setIsCulling(this.getModel().getDrawableCulling(n)),this.drawMesh(this.getModel().getDrawableTextureIndices(n),this.getModel().getDrawableVertexIndexCount(n),this.getModel().getDrawableVertexCount(n),this.getModel().getDrawableVertexIndices(n),this.getModel().getDrawableVertices(n),this.getModel().getDrawableVertexUvs(n),this.getModel().getDrawableOpacity(n),this.getModel().getDrawableBlendMode(n),this.getModel().getDrawableInvertedMaskBit(n)))}},CubismRenderer_WebGL.prototype.drawMesh=function(t,e,r,i,n,o,a,s,u){this.isCulling()?this.gl.enable(this.gl.CULL_FACE):this.gl.disable(this.gl.CULL_FACE),this.gl.frontFace(this.gl.CCW);var l,c=this.getModelColor();null==this.getClippingContextBufferForMask()&&(c.A*=a,this.isPremultipliedAlpha()&&(c.R*=c.A,c.G*=c.A,c.B*=c.A)),l=null!=this._textures.getValue(t)?this._textures.getValue(t):null,h.getInstance().setupShaderProgram(this,l,r,n,i,o,this._bufferData,a,s,c,this.isPremultipliedAlpha(),this.getMvpMatrix(),u),this.gl.drawElements(this.gl.TRIANGLES,e,this.gl.UNSIGNED_SHORT,0),this.gl.useProgram(null),this.setClippingContextBufferForDraw(null),this.setClippingContextBufferForMask(null)},CubismRenderer_WebGL.doStaticRelease=function(){h.deleteInstance()},CubismRenderer_WebGL.prototype.setRenderState=function(t,e){p=t,g=e},CubismRenderer_WebGL.prototype.preDraw=function(){this.firstDraw&&(this.firstDraw=!1,this._anisortopy=this.gl.getExtension("EXT_texture_filter_anisotropic")||this.gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||this.gl.getExtension("MOZ_EXT_texture_filter_anisotropic")),this.gl.disable(this.gl.SCISSOR_TEST),this.gl.disable(this.gl.STENCIL_TEST),this.gl.disable(this.gl.DEPTH_TEST),this.gl.frontFace(this.gl.CW),this.gl.enable(this.gl.BLEND),this.gl.colorMask(!0,!0,!0,!0),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,null)},CubismRenderer_WebGL.prototype.setClippingContextBufferForMask=function(t){this._clippingContextBufferForMask=t},CubismRenderer_WebGL.prototype.getClippingContextBufferForMask=function(){return this._clippingContextBufferForMask},CubismRenderer_WebGL.prototype.setClippingContextBufferForDraw=function(t){this._clippingContextBufferForDraw=t},CubismRenderer_WebGL.prototype.getClippingContextBufferForDraw=function(){return this._clippingContextBufferForDraw},CubismRenderer_WebGL.prototype.startUp=function(t){this.gl=t,this._clippingManager.setGL(t),h.getInstance().setGl(t)},CubismRenderer_WebGL);function CubismRenderer_WebGL(){var t=o.call(this)||this;return t._clippingContextBufferForMask=null,t._clippingContextBufferForDraw=null,t._clippingManager=new r,t.firstDraw=!0,t._textures=new Zr,t._sortedDrawableIndexList=new Kr,t._bufferData={vertex:WebGLBuffer=null,uv:WebGLBuffer=null,index:WebGLBuffer=null},t._textures.prepareCapacity(32,!0),t}e.CubismRenderer_WebGL=s,$r.staticRelease=function(){s.doStaticRelease()}}(jr=jr||{});var ri,ii,ni,oi,ai=jr.CubismRenderer_WebGL,si=Fr.CubismEyeBlink,ui=wr.CubismBreath,li=G.Constant,ci=Sr.CubismPhysics,hi=qe.CubismModelUserData,fi=Oe.CubismPose,gi=Re.CubismExpressionMotion,pi=me.CubismMotion,di=qt.CubismMoc,mi=Ft.CubismModelMatrix,_i=kt.CubismTargetPoint,yi=wt.CubismMotionManager;function CubismUserModel(){this._moc=null,this._model=null,this._motionManager=null,this._expressionManager=null,this._eyeBlink=null,this._breath=null,this._modelMatrix=null,this._pose=null,this._dragManager=null,this._physics=null,this._modelUserData=null,this._initialized=!1,this._updating=!1,this._opacity=1,this._lipsync=!0,this._lastLipSyncValue=0,this._dragX=0,this._dragY=0,this._accelerationX=0,this._accelerationY=0,this._accelerationZ=0,this._debugMode=!1,this._renderer=null,this._motionManager=new yi,this._motionManager.setEventCallback(CubismUserModel.cubismDefaultMotionEventCallback,this),this._expressionManager=new yi,this._dragManager=new _i}ii=ri=ri||{},CubismUserModel.prototype.isInitialized=function(){return this._initialized},CubismUserModel.prototype.setInitialized=function(t){this._initialized=t},CubismUserModel.prototype.isUpdating=function(){return this._updating},CubismUserModel.prototype.setUpdating=function(t){this._updating=t},CubismUserModel.prototype.setDragging=function(t,e){this._dragManager.set(t,e)},CubismUserModel.prototype.setAcceleration=function(t,e,r){this._accelerationX=t,this._accelerationY=e,this._accelerationZ=r},CubismUserModel.prototype.getModelMatrix=function(){return this._modelMatrix},CubismUserModel.prototype.setOpacity=function(t){this._opacity=t},CubismUserModel.prototype.getOpacity=function(){return this._opacity},CubismUserModel.prototype.loadModel=function(t){this._moc=di.create(t),this._model=this._moc.createModel(),this._model.saveParameters(),null!=this._moc&&null!=this._model?this._modelMatrix=new mi(this._model.getCanvasWidth(),this._model.getCanvasHeight()):P("Failed to CreateModel().")},CubismUserModel.prototype.loadMotion=function(t,e,r){return pi.create(t,e)},CubismUserModel.prototype.loadExpression=function(t,e,r){return gi.create(t,e)},CubismUserModel.prototype.loadPose=function(t,e){this._pose=fi.create(t,e)},CubismUserModel.prototype.loadUserData=function(t,e){this._modelUserData=hi.create(t,e)},CubismUserModel.prototype.loadPhysics=function(t,e){this._physics=ci.create(t,e)},CubismUserModel.prototype.isHit=function(t,e,r){var i=this._model.getDrawableIndex(t);if(i<0)return{hit:!1,area:0};for(var n=this._model.getDrawableVertexCount(i),o=this._model.getDrawableVertices(i),a=o[0],s=o[0],u=o[1],l=o[1],c=1;c<n;++c){var h=o[li.vertexOffset+c*li.vertexStep],f=o[li.vertexOffset+c*li.vertexStep+1];h<a&&(a=h),s<h&&(s=h),f<u&&(u=f),l<f&&(l=f)}var g=this._modelMatrix.invertTransformX(e),p=this._modelMatrix.invertTransformY(r);return{hit:a<=g&&g<=s&&u<=p&&p<=l,area:Math.abs(a-s)*Math.abs(l-u)}},CubismUserModel.prototype.getModel=function(){return this._model},CubismUserModel.prototype.getRenderer=function(){return this._renderer},CubismUserModel.prototype.createRenderer=function(){this._renderer&&this.deleteRenderer(),this._renderer=new ai,this._renderer.initialize(this._model)},CubismUserModel.prototype.deleteRenderer=function(){null!=this._renderer&&(this._renderer.release(),this._renderer=null)},CubismUserModel.prototype.motionEventFired=function(t){y("{0}",t.s)},CubismUserModel.cubismDefaultMotionEventCallback=function(t,e,r){null!=r&&r.motionEventFired(e)},CubismUserModel.prototype.release=function(){null!=this._motionManager&&(this._motionManager.release(),this._motionManager=null),null!=this._expressionManager&&(this._expressionManager.release(),this._expressionManager=null),null!=this._moc&&(this._moc.deleteModel(this._model),this._moc.release(),this._moc=null),this._modelMatrix=null,fi.delete(this._pose),si.delete(this._eyeBlink),ui.delete(this._breath),this._dragManager=null,ci.delete(this._physics),hi.delete(this._modelUserData),this.deleteRenderer()},ni=CubismUserModel,ii.CubismUserModel=ni,(oi||(oi={})).ICubismModelSetting=function ICubismModelSetting(){};var bi,Ai,Ci,vi,Mi,Si,wi,xi=(bi=function(t,e){return(bi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function __(){this.constructor=t}bi(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),Bi=p.csmVector,Pi=G.CubismFramework,Ii=_.CubismJson,Vi=oi.ICubismModelSetting;function CubismString(){}!function(t){var i,e,n="FileReferences",o="Name",a="FadeInTime",s="FadeOutTime",u="LipSync",l="EyeBlink";(e=i=i||{})[e.FrequestNode_Groups=0]="FrequestNode_Groups",e[e.FrequestNode_Moc=1]="FrequestNode_Moc",e[e.FrequestNode_Motions=2]="FrequestNode_Motions",e[e.FrequestNode_Expressions=3]="FrequestNode_Expressions",e[e.FrequestNode_Textures=4]="FrequestNode_Textures",e[e.FrequestNode_Physics=5]="FrequestNode_Physics",e[e.FrequestNode_Pose=6]="FrequestNode_Pose",e[e.FrequestNode_HitAreas=7]="FrequestNode_HitAreas";var c,r=(xi(CubismModelSettingJson,c=Vi),CubismModelSettingJson.prototype.release=function(){Ii.delete(this._json),this._jsonValue=null},CubismModelSettingJson.prototype.GetJson=function(){return this._json},CubismModelSettingJson.prototype.getModelFileName=function(){return this.isExistModelFile()?this._jsonValue.at(i.FrequestNode_Moc).getRawString():""},CubismModelSettingJson.prototype.getTextureCount=function(){return this.isExistTextureFiles()?this._jsonValue.at(i.FrequestNode_Textures).getSize():0},CubismModelSettingJson.prototype.getTextureDirectory=function(){return this._jsonValue.at(i.FrequestNode_Textures).getRawString()},CubismModelSettingJson.prototype.getTextureFileName=function(t){return this._jsonValue.at(i.FrequestNode_Textures).getValueByIndex(t).getRawString()},CubismModelSettingJson.prototype.getHitAreasCount=function(){return this.isExistHitAreas()?this._jsonValue.at(i.FrequestNode_HitAreas).getSize():0},CubismModelSettingJson.prototype.getHitAreaId=function(t){return Pi.getIdManager().getId(this._jsonValue.at(i.FrequestNode_HitAreas).getValueByIndex(t).getValueByString("Id").getRawString())},CubismModelSettingJson.prototype.getHitAreaName=function(t){return this._jsonValue.at(i.FrequestNode_HitAreas).getValueByIndex(t).getValueByString(o).getRawString()},CubismModelSettingJson.prototype.getPhysicsFileName=function(){return this.isExistPhysicsFile()?this._jsonValue.at(i.FrequestNode_Physics).getRawString():""},CubismModelSettingJson.prototype.getPoseFileName=function(){return this.isExistPoseFile()?this._jsonValue.at(i.FrequestNode_Pose).getRawString():""},CubismModelSettingJson.prototype.getExpressionCount=function(){return this.isExistExpressionFile()?this._jsonValue.at(i.FrequestNode_Expressions).getSize():0},CubismModelSettingJson.prototype.getExpressionName=function(t){return this._jsonValue.at(i.FrequestNode_Expressions).getValueByIndex(t).getValueByString(o).getRawString()},CubismModelSettingJson.prototype.getExpressionFileName=function(t){return this._jsonValue.at(i.FrequestNode_Expressions).getValueByIndex(t).getValueByString("File").getRawString()},CubismModelSettingJson.prototype.getMotionGroupCount=function(){return this.isExistMotionGroups()?this._jsonValue.at(i.FrequestNode_Motions).getKeys().getSize():0},CubismModelSettingJson.prototype.getMotionGroupName=function(t){return this.isExistMotionGroups()?this._jsonValue.at(i.FrequestNode_Motions).getKeys().at(t):null},CubismModelSettingJson.prototype.getMotionCount=function(t){return this.isExistMotionGroupName(t)?this._jsonValue.at(i.FrequestNode_Motions).getValueByString(t).getSize():0},CubismModelSettingJson.prototype.getMotionFileName=function(t,e){return this.isExistMotionGroupName(t)?this._jsonValue.at(i.FrequestNode_Motions).getValueByString(t).getValueByIndex(e).getValueByString("File").getRawString():""},CubismModelSettingJson.prototype.getMotionSoundFileName=function(t,e){return this.isExistMotionSoundFile(t,e)?this._jsonValue.at(i.FrequestNode_Motions).getValueByString(t).getValueByIndex(e).getValueByString("Sound").getRawString():""},CubismModelSettingJson.prototype.getMotionFadeInTimeValue=function(t,e){return this.isExistMotionFadeIn(t,e)?this._jsonValue.at(i.FrequestNode_Motions).getValueByString(t).getValueByIndex(e).getValueByString(a).toFloat():-1},CubismModelSettingJson.prototype.getMotionFadeOutTimeValue=function(t,e){return this.isExistMotionFadeOut(t,e)?this._jsonValue.at(i.FrequestNode_Motions).getValueByString(t).getValueByIndex(e).getValueByString(s).toFloat():-1},CubismModelSettingJson.prototype.getUserDataFile=function(){return this.isExistUserDataFile()?this._json.getRoot().getValueByString(n).getValueByString("UserData").getRawString():""},CubismModelSettingJson.prototype.getLayoutMap=function(t){var e=this._json.getRoot().getValueByString("Layout").getMap();if(null==e)return!1;for(var r=!1,i=e.begin();i.notEqual(e.end());i.preIncrement())t.setValue(i.ptr().first,i.ptr().second.toFloat()),r=!0;return r},CubismModelSettingJson.prototype.getEyeBlinkParameterCount=function(){if(!this.isExistEyeBlinkParameters())return 0;for(var t=0,e=0;e<this._jsonValue.at(i.FrequestNode_Groups).getSize();e++){var r=this._jsonValue.at(i.FrequestNode_Groups).getValueByIndex(e);if(!r.isNull()&&!r.isError()&&r.getValueByString(o).getRawString()==l){t=r.getValueByString("Ids").getVector().getSize();break}}return t},CubismModelSettingJson.prototype.getEyeBlinkParameterId=function(t){if(!this.isExistEyeBlinkParameters())return null;for(var e=0;e<this._jsonValue.at(i.FrequestNode_Groups).getSize();e++){var r=this._jsonValue.at(i.FrequestNode_Groups).getValueByIndex(e);if(!r.isNull()&&!r.isError()&&r.getValueByString(o).getRawString()==l)return Pi.getIdManager().getId(r.getValueByString("Ids").getValueByIndex(t).getRawString())}return null},CubismModelSettingJson.prototype.getLipSyncParameterCount=function(){if(!this.isExistLipSyncParameters())return 0;for(var t=0,e=0;e<this._jsonValue.at(i.FrequestNode_Groups).getSize();e++){var r=this._jsonValue.at(i.FrequestNode_Groups).getValueByIndex(e);if(!r.isNull()&&!r.isError()&&r.getValueByString(o).getRawString()==u){t=r.getValueByString("Ids").getVector().getSize();break}}return t},CubismModelSettingJson.prototype.getLipSyncParameterId=function(t){if(!this.isExistLipSyncParameters())return null;for(var e=0;e<this._jsonValue.at(i.FrequestNode_Groups).getSize();e++){var r=this._jsonValue.at(i.FrequestNode_Groups).getValueByIndex(e);if(!r.isNull()&&!r.isError()&&r.getValueByString(o).getRawString()==u)return Pi.getIdManager().getId(r.getValueByString("Ids").getValueByIndex(t).getRawString())}return null},CubismModelSettingJson.prototype.isExistModelFile=function(){var t=this._jsonValue.at(i.FrequestNode_Moc);return!t.isNull()&&!t.isError()},CubismModelSettingJson.prototype.isExistTextureFiles=function(){var t=this._jsonValue.at(i.FrequestNode_Textures);return!t.isNull()&&!t.isError()},CubismModelSettingJson.prototype.isExistHitAreas=function(){var t=this._jsonValue.at(i.FrequestNode_HitAreas);return!t.isNull()&&!t.isError()},CubismModelSettingJson.prototype.isExistPhysicsFile=function(){var t=this._jsonValue.at(i.FrequestNode_Physics);return!t.isNull()&&!t.isError()},CubismModelSettingJson.prototype.isExistPoseFile=function(){var t=this._jsonValue.at(i.FrequestNode_Pose);return!t.isNull()&&!t.isError()},CubismModelSettingJson.prototype.isExistExpressionFile=function(){var t=this._jsonValue.at(i.FrequestNode_Expressions);return!t.isNull()&&!t.isError()},CubismModelSettingJson.prototype.isExistMotionGroups=function(){var t=this._jsonValue.at(i.FrequestNode_Motions);return!t.isNull()&&!t.isError()},CubismModelSettingJson.prototype.isExistMotionGroupName=function(t){var e=this._jsonValue.at(i.FrequestNode_Motions).getValueByString(t);return!e.isNull()&&!e.isError()},CubismModelSettingJson.prototype.isExistMotionSoundFile=function(t,e){var r=this._jsonValue.at(i.FrequestNode_Motions).getValueByString(t).getValueByIndex(e).getValueByString("Sound");return!r.isNull()&&!r.isError()},CubismModelSettingJson.prototype.isExistMotionFadeIn=function(t,e){var r=this._jsonValue.at(i.FrequestNode_Motions).getValueByString(t).getValueByIndex(e).getValueByString(a);return!r.isNull()&&!r.isError()},CubismModelSettingJson.prototype.isExistMotionFadeOut=function(t,e){var r=this._jsonValue.at(i.FrequestNode_Motions).getValueByString(t).getValueByIndex(e).getValueByString(s);return!r.isNull()&&!r.isError()},CubismModelSettingJson.prototype.isExistUserDataFile=function(){var t=this._json.getRoot().getValueByString(n).getValueByString("UserData");return!t.isNull()&&!t.isError()},CubismModelSettingJson.prototype.isExistEyeBlinkParameters=function(){if(this._jsonValue.at(i.FrequestNode_Groups).isNull()||this._jsonValue.at(i.FrequestNode_Groups).isError())return!1;for(var t=0;t<this._jsonValue.at(i.FrequestNode_Groups).getSize();++t)if(this._jsonValue.at(i.FrequestNode_Groups).getValueByIndex(t).getValueByString(o).getRawString()==l)return!0;return!1},CubismModelSettingJson.prototype.isExistLipSyncParameters=function(){if(this._jsonValue.at(i.FrequestNode_Groups).isNull()||this._jsonValue.at(i.FrequestNode_Groups).isError())return!1;for(var t=0;t<this._jsonValue.at(i.FrequestNode_Groups).getSize();++t)if(this._jsonValue.at(i.FrequestNode_Groups).getValueByIndex(t).getValueByString(o).getRawString()==u)return!0;return!1},CubismModelSettingJson);function CubismModelSettingJson(t,e){var r=c.call(this)||this;return r._json=Ii.create(t,e),r._json&&(r._jsonValue=new Bi,r._jsonValue.pushBack(r._json.getRoot().getValueByString("Groups")),r._jsonValue.pushBack(r._json.getRoot().getValueByString(n).getValueByString("Moc")),r._jsonValue.pushBack(r._json.getRoot().getValueByString(n).getValueByString("Motions")),r._jsonValue.pushBack(r._json.getRoot().getValueByString(n).getValueByString("Expressions")),r._jsonValue.pushBack(r._json.getRoot().getValueByString(n).getValueByString("Textures")),r._jsonValue.pushBack(r._json.getRoot().getValueByString(n).getValueByString("Physics")),r._jsonValue.pushBack(r._json.getRoot().getValueByString(n).getValueByString("Pose")),r._jsonValue.pushBack(r._json.getRoot().getValueByString("HitAreas"))),r}t.CubismModelSettingJson=r}(Ai=Ai||{}),(vi=Ci=Ci||{}).HitAreaPrefix="HitArea",vi.HitAreaHead="Head",vi.HitAreaBody="Body",vi.PartsIdCore="Parts01Core",vi.PartsArmPrefix="Parts01Arm_",vi.PartsArmLPrefix="Parts01ArmL_",vi.PartsArmRPrefix="Parts01ArmR_",vi.ParamAngleX="ParamAngleX",vi.ParamAngleY="ParamAngleY",vi.ParamAngleZ="ParamAngleZ",vi.ParamEyeLOpen="ParamEyeLOpen",vi.ParamEyeLSmile="ParamEyeLSmile",vi.ParamEyeROpen="ParamEyeROpen",vi.ParamEyeRSmile="ParamEyeRSmile",vi.ParamEyeBallX="ParamEyeBallX",vi.ParamEyeBallY="ParamEyeBallY",vi.ParamEyeBallForm="ParamEyeBallForm",vi.ParamBrowLY="ParamBrowLY",vi.ParamBrowRY="ParamBrowRY",vi.ParamBrowLX="ParamBrowLX",vi.ParamBrowRX="ParamBrowRX",vi.ParamBrowLAngle="ParamBrowLAngle",vi.ParamBrowRAngle="ParamBrowRAngle",vi.ParamBrowLForm="ParamBrowLForm",vi.ParamBrowRForm="ParamBrowRForm",vi.ParamMouthForm="ParamMouthForm",vi.ParamMouthOpenY="ParamMouthOpenY",vi.ParamCheek="ParamCheek",vi.ParamBodyAngleX="ParamBodyAngleX",vi.ParamBodyAngleY="ParamBodyAngleY",vi.ParamBodyAngleZ="ParamBodyAngleZ",vi.ParamBreath="ParamBreath",vi.ParamArmLA="ParamArmLA",vi.ParamArmRA="ParamArmRA",vi.ParamArmLB="ParamArmLB",vi.ParamArmRB="ParamArmRB",vi.ParamHandL="ParamHandL",vi.ParamHandR="ParamHandR",vi.ParamHairFront="ParamHairFront",vi.ParamHairSide="ParamHairSide",vi.ParamHairBack="ParamHairBack",vi.ParamHairFluffy="ParamHairFluffy",vi.ParamShoulderY="ParamShoulderY",vi.ParamBustX="ParamBustX",vi.ParamBustY="ParamBustY",vi.ParamBaseX="ParamBaseX",vi.ParamBaseY="ParamBaseY",vi.ParamNONE="NONE:",Si=Mi=Mi||{},CubismString.getFormatedString=function(t){for(var r=[],e=1;e<arguments.length;e++)r[e-1]=arguments[e];return t.replace(/\{(\d+)\}/g,function(t,e){return r[e]})},CubismString.isStartWith=function(t,e){for(var r=0,i=0;"\0"!=e[i];)if("\0"==t[r]||t[r++]!=e[i++])return!1;return!1},CubismString.stringToFloat=function(t,e,r,i){var n=r,o=!1,a=!1,s=0,u=parseInt(t[n]);for(u<0&&(o=!0,n++);n<e;n++){var l=t[n];if(!(0<=parseInt(l)&&parseInt(l)<=9)){if("."!=l)break;a=!0,n++;break}s=10*s+ +parseInt(l)}if(a)for(var c=.1;n<e&&0<=(u=255&parseFloat(t[n]))&&u<=9&&(s+=c*u,c*=.1,u);n++);return n==r?(i[0]=-1,0):(o&&(s=-s),i[0]=n,s)},wi=CubismString,Si.CubismString=wi;var ki,Ei,Ti,Ri=(ki=function(t,e){return(ki=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function __(){this.constructor=t}ki(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),Li=function(t,i,n,o){return new(n=n||Promise)(function(e,r){function fulfilled(t){try{step(o.next(t))}catch(t){r(t)}}function rejected(t){try{step(o.throw(t))}catch(t){r(t)}}function step(t){t.done?e(t.value):function adopt(e){return e instanceof n?e:new n(function(t){t(e)})}(t.value).then(fulfilled,rejected)}step((o=o.apply(t,i||[])).next())})},Fi=function(r,i){var n,o,a,t,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return t={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function verb(e){return function(t){return function step(e){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,o&&(a=2&e[0]?o.return:e[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,e[1])).done)return a;switch(o=0,a&&(e=[2&e[0],a.value]),e[0]){case 0:case 1:a=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,o=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){s.label=e[1];break}if(6===e[0]&&s.label<a[1]){s.label=a[1],a=e;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(e);break}a[2]&&s.ops.pop(),s.trys.pop();continue}e=i.call(r,s)}catch(t){e=[6,t],o=0}finally{n=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},Di=bt.InvalidMotionQueueEntryHandleValue,Ui=Mi.CubismString,Ni=g.csmMap,Oi=p.csmVector,Xi=wr.CubismBreath,Gi=wr.BreathParameterData,Yi=Fr.CubismEyeBlink,zi=ct.ACubismMotion,Ji=G.CubismFramework,ji=ri.CubismUserModel,Wi=Ai.CubismModelSettingJson,Hi=Ci,Qi=L.CubismMatrix44;(Ti=Ei=Ei||{})[Ti.LoadAssets=0]="LoadAssets",Ti[Ti.LoadModel=1]="LoadModel",Ti[Ti.WaitLoadModel=2]="WaitLoadModel",Ti[Ti.LoadExpression=3]="LoadExpression",Ti[Ti.WaitLoadExpression=4]="WaitLoadExpression",Ti[Ti.LoadPhysics=5]="LoadPhysics",Ti[Ti.WaitLoadPhysics=6]="WaitLoadPhysics",Ti[Ti.LoadPose=7]="LoadPose",Ti[Ti.WaitLoadPose=8]="WaitLoadPose",Ti[Ti.SetupEyeBlink=9]="SetupEyeBlink",Ti[Ti.SetupBreath=10]="SetupBreath",Ti[Ti.LoadUserData=11]="LoadUserData",Ti[Ti.WaitLoadUserData=12]="WaitLoadUserData",Ti[Ti.SetupEyeBlinkIds=13]="SetupEyeBlinkIds",Ti[Ti.SetupLipSyncIds=14]="SetupLipSyncIds",Ti[Ti.SetupLayout=15]="SetupLayout",Ti[Ti.LoadMotion=16]="LoadMotion",Ti[Ti.WaitLoadMotion=17]="WaitLoadMotion",Ti[Ti.CompleteInitialize=18]="CompleteInitialize",Ti[Ti.CompleteSetupModel=19]="CompleteSetupModel",Ti[Ti.LoadTexture=20]="LoadTexture",Ti[Ti.WaitLoadTexture=21]="WaitLoadTexture",Ti[Ti.CompleteSetup=22]="CompleteSetup";var qi,Zi=(Ri(Model,qi=ji),Model.prototype.loadAssets=function(i){return Li(this,void 0,void 0,function(){var e,r;return Fi(this,function(t){return e=i.byteLength,r=new Wi(i,e),this._state=Ei.LoadModel,this.setupModel(r),[2]})})},Model.prototype.setupModel=function(M){return Li(this,void 0,void 0,function(){var e,r,i,n,o,a,s,u,l,c,h,f,g,p,d,m,_,y,b,A,C,v;return Fi(this,function(t){switch(t.label){case 0:return this._updating=!0,this._initialized=!1,this._modelSetting=M,""==this._modelSetting.getModelFileName()?[3,20]:(this._state=Ei.WaitLoadModel,e=this._modelSetting.getModelFileName(),e=this._setting.baseUrl+e,[4,x.getArraybuffer(e)]);case 1:if(r=t.sent(),this.loadModel(r),this._state=Ei.LoadExpression,!(0<this._modelSetting.getExpressionCount()))return[3,5];this._state=Ei.WaitLoadExpression,i=this._modelSetting.getExpressionCount(),C=0,t.label=2;case 2:return C<i?(n=this._modelSetting.getExpressionName(C),o=this._modelSetting.getExpressionFileName(C),o=this._setting.baseUrl+o,[4,x.getArraybuffer(o)]):[3,5];case 3:a=t.sent(),s=a.byteLength,u=this.loadExpression(a,s,n),null!=this._expressions.getValue(n)&&(zi.delete(this._expressions.getValue(n)),this._expressions.setValue(n,null)),this._expressions.setValue(n,u),this._expressionCount++,t.label=4;case 4:return C++,[3,2];case 5:return this._state=Ei.LoadPhysics,""==this._modelSetting.getPhysicsFileName()?[3,7]:(this._state=Ei.WaitLoadPhysics,l=this._modelSetting.getPhysicsFileName(),l=this._setting.baseUrl+l,[4,x.getArraybuffer(l)]);case 6:c=t.sent(),h=c.byteLength,this.loadPhysics(c,h),t.label=7;case 7:return this._state=Ei.LoadPose,""==this._modelSetting.getPoseFileName()?[3,9]:(this._state=Ei.WaitLoadPose,f=this._modelSetting.getPoseFileName(),f=this._setting.baseUrl+f,[4,x.getArraybuffer(f)]);case 8:g=t.sent(),p=g.byteLength,this.loadPose(g,p),t.label=9;case 9:return this._state=Ei.SetupEyeBlink,0<this._modelSetting.getEyeBlinkParameterCount()&&(this._eyeBlink=Yi.create(this._modelSetting)),this._state=Ei.SetupBreath,this._breath=Xi.create(),(d=new Oi).pushBack(new Gi(this._idParamAngleX,0,15,6.5345,.5)),d.pushBack(new Gi(this._idParamAngleY,0,8,3.5345,.5)),d.pushBack(new Gi(this._idParamAngleZ,0,10,5.5345,.5)),d.pushBack(new Gi(this._idParamBodyAngleX,0,4,15.5345,.5)),d.pushBack(new Gi(Ji.getIdManager().getId(Hi.ParamBreath),0,.5,3.2345,.5)),this._breath.setParameters(d),this._state=Ei.LoadUserData,""==this._modelSetting.getUserDataFile()?[3,11]:(this._state=Ei.WaitLoadUserData,m=this._modelSetting.getUserDataFile(),m=this._setting.baseUrl+m,[4,x.getArraybuffer(m)]);case 10:_=t.sent(),y=_.byteLength,this.loadUserData(_,y),t.label=11;case 11:for(this._state=Ei.SetupEyeBlinkIds,b=this._modelSetting.getEyeBlinkParameterCount(),C=0;C<b;++C)this._eyeBlinkIds.pushBack(this._modelSetting.getEyeBlinkParameterId(C));for(this._state=Ei.SetupLipSyncIds,A=this._modelSetting.getLipSyncParameterCount(),C=0;C<A;++C)this._lipSyncIds.pushBack(this._modelSetting.getLipSyncParameterId(C));switch(this._state=Ei.SetupLayout,v=new Ni,this._modelSetting.getLayoutMap(v),this._modelMatrix.setupFromLayout(v),this._setting.motionLoadMode){case"greedy":return[3,12];case"textures_first":return[3,15]}return[3,17];case 12:return this._state=Ei.LoadMotion,this._state=Ei.WaitLoadMotion,[4,this.setupMotion()];case 13:return t.sent(),[4,this.setupTextures()];case 14:return t.sent(),this._state=Ei.CompleteSetup,[3,19];case 15:return[4,this.setupTextures()];case 16:return t.sent(),this._state=Ei.CompleteSetup,this.setupMotion(),[3,19];case 17:return[4,this.setupTextures()];case 18:t.sent(),this._state=Ei.CompleteSetup,t.label=19;case 19:return[3,20];case 20:return[2]}})})},Model.prototype.setupMotion=function(){return Li(this,void 0,void 0,function(){var e,r,i,n,o,a=this;return Fi(this,function(t){switch(t.label){case 0:for(this._model.saveParameters(),e=this._modelSetting.getMotionGroupCount(),r=[],i=0;i<e;i++)for(n=this._modelSetting.getMotionGroupName(i),o=0;o<this._modelSetting.getMotionCount(n);o++)r.push(this.registerMotion(n,o));return[4,Promise.all(r).then(function(){a._motionManager.stopAllMotions()})];case 1:return t.sent(),[2]}})})},Model.prototype.setupTextures=function(){return Li(this,void 0,void 0,function(){var e,r,i,n,o;return Fi(this,function(t){switch(t.label){case 0:e=!0,this._state=Ei.LoadTexture,this._updating=!1,this._initialized=!0,this.createRenderer(),this._state=Ei.WaitLoadTexture,r=this._modelSetting.getTextureCount(),i=0,t.label=1;case 1:return i<r?""==this._modelSetting.getTextureFileName(i)?(console.log("getTextureFileName null"),[3,3]):(n=this._modelSetting.getTextureFileName(i),n=this._setting.baseUrl+n,[4,this._textureManager.createTextureFromPngFile(n,e)]):[3,4];case 2:o=t.sent(),this.getRenderer().bindTexture(i,o.id),this._textureCount++,this.getRenderer().setIsPremultipliedAlpha(e),this.getRenderer().startUp(this._webgl.gl),t.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},Model.prototype.reloadRenderer=function(){this.deleteRenderer(),this.createRenderer(),this.setupTextures()},Model.prototype.registerMotion=function(s,u){return Li(this,void 0,void 0,function(){var o,a=this;return Fi(this,function(t){return o=this._modelSetting.getMotionFileName(s,u),w.log("register motion: "+o+" => ["+s+"_"+u+"]",!0),[2,this.preLoadMotion(o).then(function(t){var e=Ui.getFormatedString("{0}_{1}",s,u);w.log("load motion complete: "+o+" => ["+s+"_"+u+"]",!0);var r=t.byteLength,i=a.loadMotion(t,r,e),n=a._modelSetting.getMotionFadeInTimeValue(s,u);return 0<=n&&i.setFadeInTime(n),0<=(n=a._modelSetting.getMotionFadeOutTimeValue(s,u))&&i.setFadeOutTime(n),i.setEffectIds(a._eyeBlinkIds,a._lipSyncIds),null!=a._motions.getValue(e)&&zi.delete(a._motions.getValue(e)),a._motions.setValue(e,i),w.log("motion parse complete: "+o+" => ["+s+"_"+u+"]",!0),i})]})})},Model.prototype.update=function(){if(this._state==Ei.CompleteSetup){var t=this.s_deltaTime;this._userTimeSeconds+=t,this._dragManager.update(t),this._dragX=this._dragManager.getX(),this._dragY=this._dragManager.getY();var e=!1;if(this._model.loadParameters(),this._motionManager.isFinished()?this.startRandomMotion(this._setting.idle,this._setting.Priority.Idle):e=this._motionManager.updateMotion(this._model,t),this._model.saveParameters(),e||null!=this._eyeBlink&&this._eyeBlink.updateParameters(this._model,t),null!=this._expressionManager&&this._expressionManager.updateMotion(this._model,t),this._model.addParameterValueById(this._idParamAngleX,30*this._dragX),this._model.addParameterValueById(this._idParamAngleY,30*this._dragY),this._model.addParameterValueById(this._idParamAngleZ,this._dragX*this._dragY*-30),this._model.addParameterValueById(this._idParamBodyAngleX,10*this._dragX),this._model.addParameterValueById(this._idParamEyeBallX,this._dragX),this._model.addParameterValueById(this._idParamEyeBallY,this._dragY),null!=this._breath&&this._breath.updateParameters(this._model,t),null!=this._physics&&this._physics.evaluate(this._model,t),this._lipsync)for(var r=0;r<this._lipSyncIds.getSize();++r)this._model.addParameterValueById(this._lipSyncIds.at(r),0,.8);null!=this._pose&&this._pose.updateParameters(this._model,t),this._model.update()}},Model.prototype.startMotion=function(e,r,i){var n=this;if(i==this._setting.Priority.Force)this._motionManager.setReservePriority(i);else if(!this._motionManager.reserveMotion(i))return w.log("can't start motion.",!0),Di;this._modelSetting.getMotionFileName(e,r);var t=Ui.getFormatedString("{0}_{1}",e,r),o=this._motions.getValue(t);if(null!=o)return w.log("start motion: ["+e+"_"+r+"]",!0),this._motionManager.startMotionPriority(o,!1,i);this.registerMotion(e,r).then(function(t){w.log("start motion: ["+e+"_"+r+"]",!0),n._motionManager.startMotionPriority(t,!1,i)})},Model.prototype.startRandomMotion=function(t,e){if(0==this._modelSetting.getMotionCount(t))return Di;var r=Math.floor(Math.random()*this._modelSetting.getMotionCount(t));return this.startMotion(t,r,e)},Model.prototype.setExpression=function(t){var e=this._expressions.getValue(t);w.log("expression: ["+t+"]",!0),null!=e?this._expressionManager.startMotionPriority(e,!1,this._setting.Priority.Force):w.log("expression["+t+"] is null",!0)},Model.prototype.setRandomExpression=function(){if(0!=this._expressions.getSize())for(var t=Math.floor(Math.random()*this._expressions.getSize()),e=0;e<this._expressions.getSize();e++)if(e==t){var r=this._expressions._keyValues[e].first;return void this.setExpression(r)}},Model.prototype.motionEventFired=function(t){y("{0} is fired on LAppModel!!",t.s)},Model.prototype.getHitList=function(t,e){for(var r=[],i=0,n=this.getDrawableIds();i<n.length;i++){var o=n[i],a=Ji.getIdManager().getId(o),s=this.isHit(a,t,e);s.hit&&r.push({cubismIdHandle:a,area:s.area,id:o})}return r.sort(function(t,e){return t.area-e.area}),r},Model.prototype.preLoadMotionGroup=function(s,u){return Li(this,void 0,void 0,function(){var e,r,i,n,o,a;return Fi(this,function(t){switch(t.label){case 0:e=0,t.label=1;case 1:return e<this._modelSetting.getMotionCount(s)?(r=Ui.getFormatedString("{0}_{1}",s,e),i=this._modelSetting.getMotionFileName(s,e),i=this._setting.baseUrl+i,w.log("load motion: "+i+" => ["+s+"_"+e+"]",!0),o=(n=u).push,a={name:r,group:s,i:e},[4,fetch(i)]):[3,5];case 2:return[4,t.sent().arrayBuffer()];case 3:o.apply(n,[(a.buffer=t.sent(),a)]),t.label=4;case 4:return e++,[3,1];case 5:return[2]}})})},Model.prototype.preLoadMotion=function(e){return Li(this,void 0,void 0,function(){return Fi(this,function(t){switch(t.label){case 0:return e=this._setting.baseUrl+e,[4,fetch(e)];case 1:return[4,t.sent().arrayBuffer()];case 2:return[2,t.sent()]}})})},Model.prototype.releaseMotions=function(){this._motions.clear()},Model.prototype.releaseExpressions=function(){this._expressions.clear()},Model.prototype.doDraw=function(){if(null!=this._model){var t=[0,0,this._setting.canvas.width,this._setting.canvas.height];this.getRenderer().setRenderState(this._webgl.frameBuffer,t),this.getRenderer().drawModel()}},Model.prototype.draw=function(t){null!=this._model&&this._state==Ei.CompleteSetup&&(t.multiplyByMatrix(this._modelMatrix),this.getRenderer().setMvpMatrix(t),this.doDraw())},Model.prototype.updateTime=function(){this.s_currentFrame=Date.now(),this.s_deltaTime=(this.s_currentFrame-this.s_lastFrame)/1e3,this.s_lastFrame=this.s_currentFrame},Model.prototype.onUpdate=function(){var t,e,r=new Qi;t=this._setting.canvas.width,e=this._setting.canvas.height,r.scale(1,t/e),null!=this._viewMatrix&&r.multiplyByMatrix(this._viewMatrix),this.update(),this.draw(r)},Model.prototype.getDrawableIds=function(){return this._model.getModel().drawables.ids},Model);function Model(t,e,r){var i=qi.call(this)||this;return i._setting=t,i._textureManager=e,i._webgl=r,i._viewMatrix=new Qi,i.s_currentFrame=0,i.s_lastFrame=0,i.s_deltaTime=0,i._modelSetting=null,i._userTimeSeconds=0,i._eyeBlinkIds=new Oi,i._lipSyncIds=new Oi,i._motions=new Ni,i._expressions=new Ni,i._hitArea=new Oi,i._userArea=new Oi,i._idParamAngleX=Ji.getIdManager().getId(Hi.ParamAngleX),i._idParamAngleY=Ji.getIdManager().getId(Hi.ParamAngleY),i._idParamAngleZ=Ji.getIdManager().getId(Hi.ParamAngleZ),i._idParamEyeBallX=Ji.getIdManager().getId(Hi.ParamEyeBallX),i._idParamEyeBallY=Ji.getIdManager().getId(Hi.ParamEyeBallY),i._idParamBodyAngleX=Ji.getIdManager().getId(Hi.ParamBodyAngleX),i._state=Ei.LoadAssets,i._expressionCount=0,i._textureCount=0,i.loadAssets(i._setting.modelBuffer),i}var Ki,$i,tn,en,rn,nn=(Ki=function(t,e){return(Ki=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function __(){this.constructor=t}Ki(t,e),t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)}),on=L.CubismMatrix44;function CubismViewMatrix(){var t=en.call(this)||this;return t._screenLeft=0,t._screenRight=0,t._screenTop=0,t._screenBottom=0,t._maxLeft=0,t._maxRight=0,t._maxTop=0,t._maxBottom=0,t._maxScale=0,t._minScale=0,t}tn=$i=$i||{},nn(CubismViewMatrix,en=on),CubismViewMatrix.prototype.adjustTranslate=function(t,e){this._tr[0]*this._maxLeft+(this._tr[12]+t)>this._screenLeft&&(t=this._screenLeft-this._tr[0]*this._maxLeft-this._tr[12]),this._tr[0]*this._maxRight+(this._tr[12]+t)<this._screenRight&&(t=this._screenRight-this._tr[0]*this._maxRight-this._tr[12]),this._tr[5]*this._maxTop+(this._tr[13]+e)<this._screenTop&&(e=this._screenTop-this._tr[5]*this._maxTop-this._tr[13]),this._tr[5]*this._maxBottom+(this._tr[13]+e)>this._screenBottom&&(e=this._screenBottom-this._tr[5]*this._maxBottom-this._tr[13]);var r=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,t,e,0,1]);on.multiply(r,this._tr,this._tr)},CubismViewMatrix.prototype.adjustScale=function(t,e,r){var i=this.getMaxScale(),n=this.getMinScale(),o=r*this._tr[0];o<n?0<this._tr[0]&&(r=n/this._tr[0]):i<o&&0<this._tr[0]&&(r=i/this._tr[0]);var a=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,t,e,0,1]),s=new Float32Array([r,0,0,0,0,r,0,0,0,0,1,0,0,0,0,1]),u=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,-t,-e,0,1]);on.multiply(u,this._tr,this._tr),on.multiply(s,this._tr,this._tr),on.multiply(a,this._tr,this._tr)},CubismViewMatrix.prototype.setScreenRect=function(t,e,r,i){this._screenLeft=t,this._screenRight=e,this._screenBottom=r,this._screenTop=i},CubismViewMatrix.prototype.setMaxScreenRect=function(t,e,r,i){this._maxLeft=t,this._maxRight=e,this._maxTop=i,this._maxBottom=r},CubismViewMatrix.prototype.setMaxScale=function(t){this._maxScale=t},CubismViewMatrix.prototype.setMinScale=function(t){this._minScale=t},CubismViewMatrix.prototype.getMaxScale=function(){return this._maxScale},CubismViewMatrix.prototype.getMinScale=function(){return this._minScale},CubismViewMatrix.prototype.isMaxScale=function(){return this.getScaleX()>=this._maxScale},CubismViewMatrix.prototype.isMinScale=function(){return this.getScaleX()<=this._minScale},CubismViewMatrix.prototype.getScreenLeft=function(){return this._screenLeft},CubismViewMatrix.prototype.getScreenRight=function(){return this._screenRight},CubismViewMatrix.prototype.getScreenBottom=function(){return this._screenBottom},CubismViewMatrix.prototype.getScreenTop=function(){return this._screenTop},CubismViewMatrix.prototype.getMaxLeft=function(){return this._maxLeft},CubismViewMatrix.prototype.getMaxRight=function(){return this._maxRight},CubismViewMatrix.prototype.getMaxBottom=function(){return this._maxBottom},CubismViewMatrix.prototype.getMaxTop=function(){return this._maxTop},rn=CubismViewMatrix,tn.CubismViewMatrix=rn;var an=$i.CubismViewMatrix,sn=L.CubismMatrix44,un=(TouchManager.prototype.bindEvent=function(){var e=this;"ontouchend"in this._setting.canvas?(this._setting.canvas.ontouchstart=function(t){e.onTouchBegan(t)},this._setting.canvas.ontouchmove=function(t){e.onTouchMoved(t)},this._setting.canvas.ontouchend=function(t){e.onTouchEnded(t)},this._setting.canvas.ontouchcancel=function(t){e.onTouchCancel(t)}):(this._setting.canvas.onmousedown=function(t){e.onClickBegan(t)},this._setting.canvas.onmousemove=function(t){e.onMouseMoved(t)},this._setting.canvas.onmouseup=function(t){e.onClickEnded(t)})},TouchManager.prototype.onClickBegan=function(t){this._captured=!0;var e=t.pageX,r=t.pageY;this.onTouchesBegan(e,r)},TouchManager.prototype.onMouseMoved=function(t){if(this._captured){var e=t.target.getBoundingClientRect(),r=t.clientX-e.left,i=t.clientY-e.top;this.onTouchesMoved(r,i)}},TouchManager.prototype.onClickEnded=function(t){this._captured=!1;var e=t.target.getBoundingClientRect(),r=t.clientX-e.left,i=t.clientY-e.top;this.onTouchesEnded(r,i)},TouchManager.prototype.onTouchBegan=function(t){this._captured=!0;var e=t.changedTouches[0].pageX,r=t.changedTouches[0].pageY;this.onTouchesBegan(e,r)},TouchManager.prototype.onTouchMoved=function(t){if(this._captured){var e=t.target.getBoundingClientRect(),r=t.changedTouches[0].clientX-e.left,i=t.changedTouches[0].clientY-e.top;this.onTouchesMoved(r,i)}},TouchManager.prototype.onTouchEnded=function(t){this._captured=!1;var e=t.target.getBoundingClientRect(),r=t.changedTouches[0].clientX-e.left,i=t.changedTouches[0].clientY-e.top;this.onTouchesEnded(r,i)},TouchManager.prototype.onTouchCancel=function(t){this._captured=!1;var e=t.target.getBoundingClientRect(),r=t.changedTouches[0].clientX-e.left,i=t.changedTouches[0].clientY-e.top;this.onTouchesEnded(r,i)},TouchManager.prototype.onTouchesBegan=function(t,e){this._coordinateManager.touchesBegan(t,e)},TouchManager.prototype.onTouchesMoved=function(t,e){var r=this.transformViewX(this._coordinateManager.getX()),i=this.transformViewY(this._coordinateManager.getY());this._coordinateManager.touchesMoved(t,e),this._model.setDragging(r,i)},TouchManager.prototype.onTouchesEnded=function(t,e){this._model.setDragging(0,0);var r=this._deviceToScreen.transformX(this._coordinateManager.getX()),i=this._deviceToScreen.transformY(this._coordinateManager.getY());this.onTap(r,i)},TouchManager.prototype.transformViewX=function(t){var e=this._deviceToScreen.transformX(t);return this._viewMatrix.invertTransformX(e)},TouchManager.prototype.transformViewY=function(t){var e=this._deviceToScreen.transformY(t);return this._viewMatrix.invertTransformY(e)},TouchManager.prototype.transformScreenX=function(t){return this._deviceToScreen.transformX(t)},TouchManager.prototype.transformScreenY=function(t){return this._deviceToScreen.transformY(t)},TouchManager.prototype.onTap=function(t,e){w.log("onTap x: "+t+" y: "+e,!0);for(var r=0,i=this._model.getHitList(t,e);r<i.length;r++){var n=i[r];if(w.log("Hit drawId : "+n.id,!0),this._setting.binding[n.id])return void this._model.startRandomMotion(x.getRandomItem(this._setting.binding[n.id].motion),2);this._setting.debug&&w.log("Hit drawId "+n.id+" not found binding",!0)}},TouchManager);function TouchManager(t,e,r){var i,n;this._captured=!1,this._coordinateManager=new ln,this._deviceToScreen=new sn,this._viewMatrix=new an,this._setting=t,this._view=e,this._model=r,i=t.canvas.width;var o=(n=t.canvas.height)/i,a=t.view.VIEW_LOGICAL_LEFT,s=t.view.VIEW_LOGICAL_RIGHT,u=-o,l=o;this._viewMatrix.setScreenRect(a,s,u,l);var c=Math.abs(a-s);this._deviceToScreen.scaleRelative(c/i,-c/i),this._deviceToScreen.translateRelative(.5*-i,.5*-n),this._viewMatrix.setMaxScale(t.view.VIEW_MAX_SCALE),this._viewMatrix.setMinScale(t.view.VIEW_MIN_SCALE),this._viewMatrix.setMaxScreenRect(t.view.VIEW_LOGICAL_MAX_LEFT,t.view.VIEW_LOGICAL_MAX_RIGHT,t.view.VIEW_LOGICAL_MAX_BOTTOM,t.view.VIEW_LOGICAL_MAX_TOP),this.bindEvent()}var ln=(CoordinateManager.prototype.getCenterX=function(){return this._lastX},CoordinateManager.prototype.getCenterY=function(){return this._lastY},CoordinateManager.prototype.getDeltaX=function(){return this._deltaX},CoordinateManager.prototype.getDeltaY=function(){return this._deltaY},CoordinateManager.prototype.getStartX=function(){return this._startX},CoordinateManager.prototype.getStartY=function(){return this._startY},CoordinateManager.prototype.getScale=function(){return this._scale},CoordinateManager.prototype.getX=function(){return this._lastX},CoordinateManager.prototype.getY=function(){return this._lastY},CoordinateManager.prototype.getX1=function(){return this._lastX1},CoordinateManager.prototype.getY1=function(){return this._lastY1},CoordinateManager.prototype.getX2=function(){return this._lastX2},CoordinateManager.prototype.getY2=function(){return this._lastY2},CoordinateManager.prototype.isSingleTouch=function(){return this._touchSingle},CoordinateManager.prototype.isFlickAvailable=function(){return this._flipAvailable},CoordinateManager.prototype.disableFlick=function(){this._flipAvailable=!1},CoordinateManager.prototype.touchesBegan=function(t,e){this._lastX=t,this._lastY=e,this._startX=t,this._startY=e,this._lastTouchDistance=-1,this._flipAvailable=!0,this._touchSingle=!0},CoordinateManager.prototype.touchesMoved=function(t,e){this._lastX=t,this._lastY=e,this._lastTouchDistance=-1,this._touchSingle=!0},CoordinateManager.prototype.getFlickDistance=function(){return this.calculateDistance(this._startX,this._startY,this._lastX,this._lastY)},CoordinateManager.prototype.calculateDistance=function(t,e,r,i){return Math.sqrt((t-r)*(t-r)+(e-i)*(e-i))},CoordinateManager.prototype.calculateMovingAmount=function(t,e){if(0<t!=0<e)return 0;var r=0<t?1:-1,i=Math.abs(t),n=Math.abs(e);return r*(i<n?i:n)},CoordinateManager);function CoordinateManager(){this._startX=0,this._startY=0,this._lastX=0,this._lastY=0,this._lastX1=0,this._lastY1=0,this._lastX2=0,this._lastY2=0,this._lastTouchDistance=0,this._deltaX=0,this._deltaY=0,this._scale=1,this._touchSingle=!1,this._flipAvailable=!1}var cn=L.CubismMatrix44,hn=G.CubismFramework,fn=(CubismSDK.prototype.loop=function(){var t=this;this._model.updateTime(),this._webgl.gl.clearColor(0,0,0,0),this._webgl.gl.enable(this._webgl.gl.DEPTH_TEST),this._webgl.gl.depthFunc(this._webgl.gl.LEQUAL),this._webgl.gl.clear(this._webgl.gl.COLOR_BUFFER_BIT|this._webgl.gl.DEPTH_BUFFER_BIT),this._webgl.gl.clearDepth(1),this._webgl.gl.enable(this._webgl.gl.BLEND),this._webgl.gl.blendFunc(this._webgl.gl.SRC_ALPHA,this._webgl.gl.ONE_MINUS_SRC_ALPHA),this._view.render(),this._model.onUpdate(),requestAnimationFrame(function(){t.loop()})},CubismSDK);function CubismSDK(t){this._cubismOption=new Q,this._webgl=new et(t.canvas),this._view=new ot(this._webgl),this._textureManager=new $(this._webgl),this._cubismOption.logFunction=w.log,this._cubismOption.loggingLevel=0,hn.startUp(this._cubismOption),hn.initialize();new cn;this._model=new Zi(t,this._textureManager,this._webgl),this._touchManage=new un(t,this._view,this._model),this.loop()}var gn=(Object.defineProperty(ModelInfo.prototype,"HitAreasList",{get:function(){return this._cubismSDK._model.getDrawableIds()},enumerable:!0,configurable:!0}),ModelInfo);function ModelInfo(t,e){this._setting=t,this._cubismSDK=e}var pn=(Live2dHelper.prototype.load=function(){this.cubismSDK=new fn(this.setting),this.modelInfo=new gn(this.setting,this.cubismSDK)},Live2dHelper);function Live2dHelper(t,e){var r=this;this.setting=new l,this.setting.init(t,e).then(function(){r.load()}),this.setting.canvas._Live2dHelper=this}e.default=pn}],__webpack_require__.c=i,__webpack_require__.d=function(t,e,r){__webpack_require__.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},__webpack_require__.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.t=function(e,t){if(1&t&&(e=__webpack_require__(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(__webpack_require__.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)__webpack_require__.d(r,i,function(t){return e[t]}.bind(null,i));return r},__webpack_require__.n=function(t){var e=t&&t.__esModule?function getDefault(){return t.default}:function getModuleExports(){return t};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=9).default;function __webpack_require__(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return r[t].call(e.exports,e,e.exports,__webpack_require__),e.l=!0,e.exports}var r,i});